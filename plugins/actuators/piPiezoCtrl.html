
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>PIPiezoCtrl</title>
    
    <link rel="stylesheet" href="_static/itom.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    <link rel="top" title="PIPiezoCtrl (Actuator)" href="index.html" /> 
  </head>
  <body>
      <div class="header"><h1 class="heading"><a href="#">
          <span>PIPiezoCtrl</span></a></h1>
        <h2 class="heading"><span>PIPiezoCtrl</span></h2>
      </div>
      <div class="topnav">
      
        <p>
        <a class="uplink" href="#">Contents</a>
        </p>

      </div>
      <div class="content">
        
        
  <div class="section" id="pipiezoctrl">
<h1>PIPiezoCtrl</h1>
<table border="1" class="docutils">
<colgroup>
<col width="13%" />
<col width="87%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td><strong>Summary</strong>:</td>
<td><span>PI Piezos E662, E-816, E-621, E-625, E665</span></td>
</tr>
<tr class="row-even"><td><strong>Type</strong>:</td>
<td><span>Actuator</span></td>
</tr>
<tr class="row-odd"><td><strong>License</strong>:</td>
<td><span>licensed under LGPL</span></td>
</tr>
<tr class="row-even"><td><strong>Platforms</strong>:</td>
<td>Windows, Linux</td>
</tr>
<tr class="row-odd"><td><strong>Devices</strong>:</td>
<td>Piezo controller E662, E-816, E-621, E-625, E665 from Physik Instrumente</td>
</tr>
<tr class="row-even"><td><strong>Author</strong>:</td>
<td><span>W. Lyda, M. Gronle, ITO, University Stuttgart</span></td>
</tr>
<tr class="row-odd"><td><strong>Requires</strong>:</td>
<td>Plugin SerialIO</td>
</tr>
</tbody>
</table>
<div class="section" id="overview">
<h2>Overview</h2>
<p>The PIPiezoCtrl is an itom-plugin, which can be used to communicate with PI piezo-controllers.Different PI-Piezo Controller (E-816, E-621, E-625, E-665 or E662) are implemented.</p>
<p>It has been tested with different Piefocs and Piezo-stages. This system needs a serial port, which differs depending on the controller type. The parameters of the serial port (besides port number) are set automatically during initialization.</p>
<p>WARNING: The calibration between applied voltage and desired position is depending on every single PI device and is stored in the corresponding PI controller. Therefore don&#8217;t mix stages and controllers but only use the original, calibrated combination.</p>
</div>
<div class="section" id="initialization">
<h2>Initialization</h2>
<p>The following parameters are mandatory or optional for initializing an instance of this plugin:</p>
<blockquote>
<div><ul>
<li><dl class="first docutils">
<dt><strong>serial</strong>: {dataIO|actuator}</dt>
<dd><p class="first last">An opened serial port (the right communcation parameters will be set by this piezo-controller).</p>
</dd>
</dl>
</li>
<li><dl class="first docutils">
<dt><strong>keepSerialConfig</strong>: {int (int), optional} [0,1], default: 0, step: 1</dt>
<dd><p class="first last">If 1 the current configuration of the given serial port is kept, else 0 [default].</p>
</dd>
</dl>
</li>
</ul>
</div></blockquote>
</div>
<div class="section" id="parameters">
<h2>Parameters</h2>
<p>These parameters are available and can be used to configure the <strong>PIPiezoCtrl</strong> instance. Many of them are directly initialized by the
parameters of the constructor. During the runtime of an instance, the value of these parameters is obtained by the method <em>getParam</em>, writeable
parameters can be changed using <em>setParam</em>.</p>
<dl class="docutils">
<dt><strong>name</strong>: {str}, read-only</dt>
<dd>name of the plugin (<em>PIPiezoCtrl</em>)</dd>
<dt><strong>ctrlType</strong>: {str}, read-only</dt>
<dd>Current type of controller, e.g. E-662, E-665, ...</dd>
<dt><strong>ctrlName</strong>: {str}, read-only</dt>
<dd>device information string</dd>
<dt><strong>piezoName</strong>: {str}, read-only</dt>
<dd>piezo information string</dd>
<dt><strong>comPort</strong>: {int}, read-only</dt>
<dd>port number of used COM port.</dd>
<dt><strong>numaxis</strong>: {int}, read-only</dt>
<dd>return the number of axes, here always 1</dd>
<dt><strong>posLimitLow</strong>, <strong>posLimitHigh</strong>: {double}</dt>
<dd><dl class="first last docutils">
<dt>lower and upper position limit [mm] of the piezo. Movements out of this range is blocked either by the plugin or by controllers that internally support</dt>
<dd>this feature. If the feature is available in the controller, the real ranges are set to these parameters at startup.</dd>
</dl>
</dd>
<dt><strong>delayProp</strong>, <strong>delayOffset</strong>: {double}</dt>
<dd>If the controller has no possibility to check whether the stage already is on target (param &#8216;hasOnTargetFlag&#8217;) or if these checks are disabled (param &#8216;checkFlags&#8217;), a virtual
sleep is inserted after each movement in sychronous mode. The positioning command will then only return after this delay time. The virtual delay is
calculated by &#8216;delayOffset&#8217; (in sec) + &#8216;delayProp&#8217; (in sec/mm) * distance to drive (in mm).</dd>
<dt><strong>hasOnTargetFlag</strong>: {int} [0,1]</dt>
<dd>defines whether the device has the ability to check the &#8216;on-target&#8217;-status (1), else (0)</dd>
<dt><strong>local</strong>: {int} [0,1]</dt>
<dd>defines if the system is in local mode (1) or in remote mode (0). It can only be controlled by this plugin in remote mode.</dd>
<dt><strong>hasLocalRemote</strong>: {int} [0,1]</dt>
<dd>returns if the piezo can switch between a local (0) and remote control (1).</dd>
<dt><strong>async</strong>: {int} [0,1]</dt>
<dd>defines if the piezo should be moved in a sychronous or asynchronous mode (default: synchronous (0)). In asychronous mode, the positioning commands will immediately
return after starting the movement without waiting for the end of the movement.</dd>
<dt><strong>checkFlags</strong>: {int}, [0,7]</dt>
<dd>Bitmask that is used to set if more of less checks should be executed during the positioning. More checks result in more information but need a little bit more
time during the positioning. These possible values can be combined using an or-combination: 0x0001: check position boundaries before positioning and actualize current
position after positioning (default: on), 0x0010: check for errors when positioning (default: off), 0x1000: if device has a on-target flag, it is used for checking if
the device is on target (default: on), else a simple time gap is used that lets the driver sleep after positioning</dd>
<dt><strong>PI_CMD</strong>: {str}</dt>
<dd>Special parameter that can be used to directly set or read parameters from the PI device. Use this parameter followed by :YourCommand in order to read/write value
from/to device (e.g. PI_CMD:ERR?)</dd>
</dl>
</div>
</div>


      </div>
      <div class="bottomnav">
      
        <p>
        <a class="uplink" href="#">Contents</a>
        </p>

      </div>

    <div class="footer">
        &copy; Copyright W. Lyda, M. Gronle, ITO, University Stuttgart.
      Last updated on May 30, 2014.
      Created using <a href="http://sphinx-doc.org/">Sphinx</a> 1.2.1.
    </div>
  </body>
</html>