<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>DataObject Arithmetic &mdash; itom</title>
    
    <link rel="stylesheet" href="../../_static/sphinxdoc.css" type="text/css" />
    <link rel="stylesheet" href="../../_static/pygments.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../../',
        VERSION:     '1.1.0',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="../../_static/jquery.js"></script>
    <script type="text/javascript" src="../../_static/underscore.js"></script>
    <script type="text/javascript" src="../../_static/doctools.js"></script>
    <script type="text/javascript" src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
    <link rel="top" title="itom" href="../../index.html" />
    <link rel="up" title="Plugins" href="../../plugins.html" />
    <link rel="next" title="DataObjectIO" href="dataObjectIO.html" />
    <link rel="prev" title="Basic Filters" href="basicFilters.html" />
 


  </head>
  <body role="document">
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="dataObjectIO.html" title="DataObjectIO"
             accesskey="N">next</a></li>
        <li class="right" >
          <a href="basicFilters.html" title="Basic Filters"
             accesskey="P">previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="../../index.html">itom</a> &raquo;</li>
          <li class="nav-item nav-item-1"><a href="../../plugins.html" accesskey="U">Plugins</a> &raquo;</li> 
      </ul>
    </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
            <p class="logo"><a href="../../index.html">
              <img class="logo" src="../../_static/itomlogo.png" alt="Logo"/>
            </a></p>
  <h3><a href="../../index.html">Table Of Contents</a></h3>
  <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../../download.html">Downloads</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../documentation.html">Documentation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../media.html">Media</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../features.html">Features</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="../../plugins.html">Plugins</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="../../plugins.html#add-a-plugin-to-itom">Add a plugin to itom</a></li>
<li class="toctree-l2 current"><a class="reference internal" href="../../plugins.html#available-plugins">Available plugins</a><ul class="current">
<li class="toctree-l3"><a class="reference internal" href="../../plugins.html#cameras-grabbers-ad-converter">Cameras / Grabbers / AD-Converter</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../plugins.html#motors-actuators">Motors / Actuators</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../plugins.html#further-hardware-devices">Further hardware devices</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../plugins.html#ad-converters">AD-Converters</a></li>
<li class="toctree-l3 current"><a class="reference internal" href="../../plugins.html#algorithms">Algorithms</a><ul class="current">
<li class="toctree-l4"><a class="reference internal" href="basicFilters.html">Basic Filters</a></li>
<li class="toctree-l4 current"><a class="current reference internal" href="">DataObject Arithmetic</a><ul>
<li class="toctree-l5"><a class="reference internal" href="#overview">Overview</a></li>
<li class="toctree-l5"><a class="reference internal" href="#filters">Filters</a></li>
</ul>
</li>
<li class="toctree-l4"><a class="reference internal" href="dataObjectIO.html">DataObjectIO</a></li>
<li class="toctree-l4"><a class="reference internal" href="fittingFilters.html">Fitting Filters</a></li>
<li class="toctree-l4"><a class="reference internal" href="openCVFilters.html">OpenCV Filters</a></li>
<li class="toctree-l4"><a class="reference internal" href="openCVFiltersNonFree.html">OpenCV Filters (non free)</a></li>
<li class="toctree-l4"><a class="reference internal" href="pclTools.html">PclTools</a></li>
<li class="toctree-l4"><a class="reference internal" href="rawImport.html">RawImport filters</a></li>
<li class="toctree-l4"><a class="reference internal" href="roughness.html">Roughness</a></li>
<li class="toctree-l4"><a class="reference internal" href="x3pio.html">X3P Input Output</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../plugins.html#plugin-development">Plugin Development</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../screenshots.html">Screenshots</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../collaboration.html">Collaboration</a></li>
</ul>

  <h4>Previous topic</h4>
  <p class="topless"><a href="basicFilters.html"
                        title="previous chapter">Basic Filters</a></p>
  <h4>Next topic</h4>
  <p class="topless"><a href="dataObjectIO.html"
                        title="next chapter">DataObjectIO</a></p>
<div id="searchbox" style="display: none" role="search">
  <h3>Quick search</h3>
    <form class="search" action="../../search.html" method="get">
      <input type="text" name="q" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    <p class="searchtip" style="font-size: 90%">
    Enter search terms or a module, class or function name.
    </p>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <div class="section" id="dataobject-arithmetic">
<h1>DataObject Arithmetic<a class="headerlink" href="#dataobject-arithmetic" title="Permalink to this headline">¶</a></h1>
<table border="1" class="docutils">
<colgroup>
<col width="13%" />
<col width="87%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td><strong>Summary</strong>:</td>
<td><span>Operations and arithmetic calculations of dataObject.</span></td>
</tr>
<tr class="row-even"><td><strong>Type</strong>:</td>
<td><span>Algorithm</span></td>
</tr>
<tr class="row-odd"><td><strong>License</strong>:</td>
<td><span>LGPL</span></td>
</tr>
<tr class="row-even"><td><strong>Platforms</strong>:</td>
<td>Windows, Linux</td>
</tr>
<tr class="row-odd"><td><strong>Author</strong>:</td>
<td><span>W. Lyda, M. Gronle, ITO, University Stuttgart</span></td>
</tr>
</tbody>
</table>
<div class="section" id="overview">
<h2>Overview<a class="headerlink" href="#overview" title="Permalink to this headline">¶</a></h2>
<p>This plugin provides several arithmetic calculations for dataObject. These are for instance:
- min- or maximum value
- centroid along dimensions or inplane</p>
<p>This plugin does not have any unusual dependencies.</p>
<p>These filters are defined in the plugin:</p>
<ol class="arabic simple">
<li>centroidXY</li>
<li>deviationValue</li>
<li>boundingBox</li>
<li>maxValue</li>
<li>localCentroidXY</li>
<li>minValue</li>
<li>centroid1D</li>
<li>meanValue</li>
<li>autofocusEstimate</li>
<li>getPercentageThreshold</li>
<li>areEqual</li>
<li>minMaxValue</li>
</ol>
</div>
<div class="section" id="filters">
<h2>Filters<a class="headerlink" href="#filters" title="Permalink to this headline">¶</a></h2>
<p>Detailed overview about all defined filters:</p>
<dl class="function">
<dt id="centroidXY">
<code class="descname">centroidXY</code><span class="sig-paren">(</span><em>sourceImage</em><span class="optional">[</span>, <em>lowThreshold</em>, <em>highThreshold</em><span class="optional">]</span><span class="sig-paren">)</span><a class="headerlink" href="#centroidXY" title="Permalink to this definition">¶</a></dt>
<dd><p>This filter calculates the center of gravity of a 2D real image.</p>
<p>The return value contains the column and row position in pixel and physical coordinates.</p>
<p>For the determination, only values in the range [lowThreshold, highThreshold] are considered. The COG algorithm requires, that all values
that do not belong to the required peak have values around zero. In order to achieve this, the &#8216;lowThreshold&#8217; value is subtracted from each
valid intensity value before calculating the COG with the following equations:</p>
<p>cXI = frac{sum{idx_x * (I - lowThreshold)}}{sum{(I - lowThreshold)}
cYI = frac{sum{idx_y * (I - lowThreshold)}}{sum{(I - lowThreshold)}</p>
<p>The filter does not work with RGBA32, Complex64 and Complex128, but with all other data-types.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>sourceImage</strong> (<em>dataObject</em>) &#8211; 2D source image data object (u)int8, (u)int16, int32, float32 or float64 only.</li>
<li><strong>lowThreshold</strong> (<em>float - optional</em>) &#8211; values &lt; lowThreshold are ignored. lowThreshold is subtracted from each valid value before COG determination.</li>
<li><strong>highThreshold</strong> (<em>float - optional</em>) &#8211; values &gt; highThreshold are ignored.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">cYI - y-Coordinate of COG (index)</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first"><a class="reference external" href="http://docs.python.org/library/functions.html#float" title="(in Python v2.7)">float</a></p>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">cXI - x-Coordinate of COG (index)</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first"><a class="reference external" href="http://docs.python.org/library/functions.html#float" title="(in Python v2.7)">float</a></p>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">cY - y-Coordinate of COG (physical unit)</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first"><a class="reference external" href="http://docs.python.org/library/functions.html#float" title="(in Python v2.7)">float</a></p>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">cX - x-Coordinate of COG (physical unit)</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last"><a class="reference external" href="http://docs.python.org/library/functions.html#float" title="(in Python v2.7)">float</a></p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="deviationValue">
<code class="descname">deviationValue</code><span class="sig-paren">(</span><em>sourceImage</em><span class="optional">[</span>, <em>flag</em>, <em>ignoreInf</em><span class="optional">]</span><span class="sig-paren">)</span><a class="headerlink" href="#deviationValue" title="Permalink to this definition">¶</a></dt>
<dd><p>The filter returns the arithmetic mean and the standard deviation of the given dataObject within its ROI.
The optinal flag to toggles if (flag==0) the deviation is calculated by 1/(n-1)*sqrt(sum(x-xm)^2)
or (flag ==1) by 1/(n)*sqrt(sum(x-xm)^2)</p>
<p>The filter do not work with RGBA32, Complex64 and Complex128, but with all other data-types</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>sourceImage</strong> (<em>dataObject</em>) &#8211; source image data object for operation</li>
<li><strong>flag</strong> (<em>int - optional</em>) &#8211; Toggles the calculation mode of standard deviation over N or N-1 elements</li>
<li><strong>ignoreInf</strong> (<em>int - optional</em>) &#8211; Ignore invalid-Values for floating point</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">mean - mean result</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first"><a class="reference external" href="http://docs.python.org/library/functions.html#float" title="(in Python v2.7)">float</a></p>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">dev - deviation result</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last"><a class="reference external" href="http://docs.python.org/library/functions.html#float" title="(in Python v2.7)">float</a></p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="boundingBox">
<code class="descname">boundingBox</code><span class="sig-paren">(</span><em>sourceImage</em>, <em>lowThreshold</em><span class="optional">[</span>, <em>highThreshold</em><span class="optional">]</span><span class="sig-paren">)</span><a class="headerlink" href="#boundingBox" title="Permalink to this definition">¶</a></dt>
<dd><p>This filter calculates the minimum ROI that contains all values within a lower and optional upper threshold.</p>
<p>The return value contains the [x0,y0,width,height] of the minimum ROI.</p>
<p>Values of the data object belong to the ROI if they are &gt;= lowThreshold and &lt;= highThreshold.
The highThreshold is only checked, if it is different than the default value (maximum value of double).</p>
<p>The filter does not work with RGBA32, Complex64 and Complex128, but with all other data-types. This filter has got a fast
implementation for fixed-point data types without an higher threshold (since version 0.0.3).</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>sourceImage</strong> (<em>dataObject</em>) &#8211; 2D source image data object (u)int8, (u)int16, int32, float32 or float64 only.</li>
<li><strong>lowThreshold</strong> (<a class="reference external" href="http://docs.python.org/library/functions.html#float" title="(in Python v2.7)"><em>float</em></a>) &#8211; only values &gt;= lowThreshold are considered for the ROI</li>
<li><strong>highThreshold</strong> (<em>float - optional</em>) &#8211; if given, only values &lt;= highThreshold are considered for the ROI</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">roi - ROI of bounding box [x0,y0,width,height]</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">seq. of int</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="maxValue">
<code class="descname">maxValue</code><span class="sig-paren">(</span><em>sourceImage</em><span class="optional">[</span>, <em>ignoreInf</em><span class="optional">]</span><span class="sig-paren">)</span><a class="headerlink" href="#maxValue" title="Permalink to this definition">¶</a></dt>
<dd><p>This filter calculated the maximal value and its first location within the dataObject.</p>
<p>The result value will be Integer vor all integer types or Double for all floating point types</p>
<p>The filter do not work with RGBA32, Complex64 and Complex128, but with all other data-types</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>sourceImage</strong> (<em>dataObject</em>) &#8211; source image data object for operation</li>
<li><strong>ignoreInf</strong> (<em>int - optional</em>) &#8211; Ignore invalid-Values for floating point</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">result - result of calculation. This param can be int or double</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first"><a class="reference external" href="http://docs.python.org/library/functions.html#float" title="(in Python v2.7)">float</a></p>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">plane - Index of the plane, which contains the result.</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first"><a class="reference external" href="http://docs.python.org/library/functions.html#int" title="(in Python v2.7)">int</a></p>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">y - Pixelindex in y-direction.</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first"><a class="reference external" href="http://docs.python.org/library/functions.html#int" title="(in Python v2.7)">int</a></p>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">x - Pixelindex in x-direction.</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last"><a class="reference external" href="http://docs.python.org/library/functions.html#int" title="(in Python v2.7)">int</a></p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="localCentroidXY">
<code class="descname">localCentroidXY</code><span class="sig-paren">(</span><em>sourceImage</em>, <em>coarseSpots</em>, <em>centroids</em><span class="optional">[</span>, <em>lowThreshold</em>, <em>highThreshold</em><span class="optional">]</span><span class="sig-paren">)</span><a class="headerlink" href="#localCentroidXY" title="Permalink to this definition">¶</a></dt>
<dd><p>This filter determines the sub-pixel
spot position of multiple spots in an image. The pixel-precise spot position must be given including the size
of the area around the coarse spot position over which the center of gravity algorithm is applied.</p>
<p>The area can either be a rectangle (width and height, odd values) or a circle (odd diameter).</p>
<p>The COG is calculated by the following algorithm:</p>
<p>cXI = frac{sum{idx_x * (I - lowThreshold)}}{sum{(I - lowThreshold)}
cYI = frac{sum{idx_y * (I - lowThreshold)}}{sum{(I - lowThreshold)}</p>
<p>The lowThreshold can either be given or (if it is NaN), the minimum value of each area will be taken as local lower threshold.
Only values &lt;= highThreshold are considered, set highThreshold to NaN or Inf in order to do not consider this constraint.</p>
<p>Usually, the resulting &#8216;centroids&#8217; object contains the sub-pixel x and y position as well as the number of valid pixels in each row.
If no or only one valid pixel has been encountered, the coarse pixel x and y position as well as 0 or 1 (for no or one valid pixel) is returned.</p>
<p>If the coarse spot position lies outside of the image, the resulting row in &#8216;centroids&#8217; contains NaN coordinates.
Please consider, that all input and output coordinates are assumed to be pixel values, the scaling and offset of the image are not considered.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>sourceImage</strong> (<em>dataObject</em>) &#8211; 2D source image data object (u)int8, (u)int16, int32, float32 or float64 only.</li>
<li><strong>coarseSpots</strong> (<em>dataObject</em>) &#8211; Mx3 or Mx4 2D data object of type uint16, each row corresponds to one spot. The line contains [px_x, px_y, circle_diameter] if the cog should be determined within a circle or [px_x, px_y, width, height] if the cog should be determined within a rectangle. circle_diameter, width or height have to be odd.</li>
<li><strong>centroids</strong> (<em>dataObject</em>) &#8211; resulting Mx3 data object of type float64 with the sub-pixel precise position of the spots (all is given in pixel coordinates, never physical coordinates). Each row is [subpix_x, subpix_y, nr_of_valid_elements_within_search_mask] or [px_x, px_y, 0 | 1] if the spot only contained one or no valid values.</li>
<li><strong>lowThreshold</strong> (<em>float - optional</em>) &#8211; values &lt; lowThreshold are ignored. lowThreshold is subtracted from each valid value before COG determination. if lowThreshold is NaN (default), the lowest value within each spot search area is taken as local minimum value.</li>
<li><strong>highThreshold</strong> (<em>float - optional</em>) &#8211; values &gt; highThreshold are ignored.</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="minValue">
<code class="descname">minValue</code><span class="sig-paren">(</span><em>sourceImage</em><span class="optional">[</span>, <em>ignoreInf</em><span class="optional">]</span><span class="sig-paren">)</span><a class="headerlink" href="#minValue" title="Permalink to this definition">¶</a></dt>
<dd><p>This filter calculated the minimal value and its first location within the dataObject.</p>
<p>The result value will be Integer vor all integer types or Double for all floating point types</p>
<p>The filter do not work with RGBA32, Complex64 and Complex128, but with all other data-types</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>sourceImage</strong> (<em>dataObject</em>) &#8211; source image data object for operation</li>
<li><strong>ignoreInf</strong> (<em>int - optional</em>) &#8211; Ignore invalid-Values for floating point</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">result - result of calculation. This param can be int or double</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first"><a class="reference external" href="http://docs.python.org/library/functions.html#float" title="(in Python v2.7)">float</a></p>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">plane - Index of the plane, which contains the result.</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first"><a class="reference external" href="http://docs.python.org/library/functions.html#int" title="(in Python v2.7)">int</a></p>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">y - Pixelindex in y-direction.</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first"><a class="reference external" href="http://docs.python.org/library/functions.html#int" title="(in Python v2.7)">int</a></p>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">x - Pixelindex in x-direction.</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last"><a class="reference external" href="http://docs.python.org/library/functions.html#int" title="(in Python v2.7)">int</a></p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="centroid1D">
<code class="descname">centroid1D</code><span class="sig-paren">(</span><em>sourceImage</em>, <em>destCOG</em>, <em>destIntensity</em><span class="optional">[</span>, <em>pvThreshold</em>, <em>dynamicThreshold</em>, <em>lowerThreshold</em>, <em>columnWise</em><span class="optional">]</span><span class="sig-paren">)</span><a class="headerlink" href="#centroid1D" title="Permalink to this definition">¶</a></dt>
<dd><p>Calculate center of gravity for each plane along the x- or y-direction.</p>
<p>This methods creates the two given data objects &#8216;destCOG&#8217; and &#8216;destIntensity&#8217; in the following way:</p>
<ul class="simple">
<li>destCOG, ito::float64, sizes: [nrOfPlanes x sizeOfElements], contains the sub-pixel wise one-dimensional coordinate of the center of gravity (in physical coordinates) or NaN if it could not be determined.</li>
<li>destIntensity, same type than input object, sizes: [nrOfPlanes x sizeOfElements], contains the absolute maximum along the search direction.</li>
</ul>
<p>If the center of gravity should be calculated along each row of each plane inside of the given &#8216;sourceStack&#8217; data object, the parameter &#8216;columnWise&#8217; must be 0, for a column-wise
calculation is must be set to 1. Along each search direction, the corresponding minimum and maximum value is determined and the center of gravity is determined using:</p>
<p>cog = frac{sum{idx * (I - lowerBoundary)}}{sum{(I - lowerBoundary)}</p>
<p>A value <em>I</em> is only valid and considered in the equation above if:</p>
<ul class="simple">
<li>(max - min) &gt; pvThreshold (peak-to-valley threshold, if not given, destCOG contains NaN at this position)</li>
<li>I &gt; lowerThreshold (only checked if lowerThreshold &gt; minimum possible value of the given data type)</li>
<li>I &gt; (max + min) * dynamicThreshold (only checked if dynamicThreshold &gt; 0.0)</li>
</ul>
<p>The value &#8216;lowerBoundary&#8217; is set to the corresponding maximum of &#8216;lowerThreshold&#8217; and &#8216;dynamicThreshold&#8217; if one of those is checked; else the given data is considered that the values
all drop to zero at the edge of each search range; for a valid cog determination, it is necessary to assume that all values that are far away from the cog position have values around zero;
if this is not the case consider to set an appropriate value &#8216;lowerThreshold&#8217; and / or &#8216;dynamicThreshold&#8217;.</p>
<p>The filter is not implemented for complex data types and the type rgba32.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>sourceImage</strong> (<em>dataObject</em>) &#8211; source image data (2D or 3D) object for operation (u)int8, (u)int16, int32, float32 or float64</li>
<li><strong>destCOG</strong> (<em>dataObject</em>) &#8211; destination image data object for operation, will contain evaluated COG (in physical coordinates)</li>
<li><strong>destIntensity</strong> (<em>dataObject</em>) &#8211; destination image data object for operation, will contain maximal intensity</li>
<li><strong>pvThreshold</strong> (<em>float - optional</em>) &#8211; if (max-min) along the search direction is lower or equal this pvThreshold (peak-to-valley), no cog is determined and a NaN value is set into the resulting position array (default: this threshold is not considered).</li>
<li><strong>dynamicThreshold</strong> (<em>float - optional</em>) &#8211; If != 0.0, values &lt;= (max+min)*dynamicThreshold will be ignored. To only consider values above the FWHM, set this value to 0.5 (default).</li>
<li><strong>lowerThreshold</strong> (<em>float - optional</em>) &#8211; values &lt;= lowerThreshold will not be considered for the cog calculation (default: this threshold is not considered).</li>
<li><strong>columnWise</strong> (<em>int - optional</em>) &#8211; The search direction is along each column if 1, else along each row (default, 0)</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="meanValue">
<code class="descname">meanValue</code><span class="sig-paren">(</span><em>sourceImage</em><span class="optional">[</span>, <em>ignoreInf</em><span class="optional">]</span><span class="sig-paren">)</span><a class="headerlink" href="#meanValue" title="Permalink to this definition">¶</a></dt>
<dd><p>This filter calculated the mean value within the dataObject.</p>
<p>The return value containing the mean value of the dataObject.</p>
<p>The filter do not work with RGBA32, Complex64 and Complex128, but with all other data-types</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>sourceImage</strong> (<em>dataObject</em>) &#8211; source image data object for operation</li>
<li><strong>ignoreInf</strong> (<em>int - optional</em>) &#8211; source image data object for operation</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">result - result of calculation. This param can be int or double</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last"><a class="reference external" href="http://docs.python.org/library/functions.html#float" title="(in Python v2.7)">float</a></p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="autofocusEstimate">
<code class="descname">autofocusEstimate</code><span class="sig-paren">(</span><em>source</em>, <em>method</em><span class="sig-paren">)</span><a class="headerlink" href="#autofocusEstimate" title="Permalink to this definition">¶</a></dt>
<dd><p>Determines an auto focus estimate for every plane in a given 2D or 3D dataObject.</p>
<p>The estimate is returned in terms of a tuple of double values for each plane. The higher the estimate, the &#8216;sharper&#8217; the image.
There are different methods implemented how the auto focus estimate is calculated.</p>
<p>The methods are partially taken from H. Mir, P. Xu, P. van Beek, &#8216;An extensive empirical evaluation of focus measures for digital photography&#8217;, Proc. SPIE 9023 (2014).
Many methods are based on linear filters. If so, their horizontal and vertical version is applied and the result is determined by:</p>
<p>result = sum(sqrt(H*H + V*V)) / numPixelsPerPlane</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>source</strong> (<em>dataObject</em>) &#8211; 2D or 3D source image data object (u)int8, (u)int16, int32 only.</li>
<li><strong>method</strong> (<a class="reference external" href="http://docs.python.org/library/functions.html#str" title="(in Python v2.7)"><em>str</em></a>) &#8211; method used to determine the autofocus.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">result - auto focus measure values for every plane in the source image.</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">seq. of float</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="getPercentageThreshold">
<code class="descname">getPercentageThreshold</code><span class="sig-paren">(</span><em>data</em>, <em>percentage</em><span class="sig-paren">)</span><a class="headerlink" href="#getPercentageThreshold" title="Permalink to this definition">¶</a></dt>
<dd><p>analyzes all values in the given data object and returns the value, which is at a given percentage in the sorted value list.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>data</strong> (<em>dataObject</em>) &#8211; valid non-complex data object</li>
<li><strong>percentage</strong> (<a class="reference external" href="http://docs.python.org/library/functions.html#float" title="(in Python v2.7)"><em>float</em></a>) &#8211; percentage value [0.0, 100.0]</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">threshold - threshold value (NaN if data object was empty or only contained invalid values)</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last"><a class="reference external" href="http://docs.python.org/library/functions.html#float" title="(in Python v2.7)">float</a></p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="areEqual">
<code class="descname">areEqual</code><span class="sig-paren">(</span><em>sourceImage1</em>, <em>sourceImage2</em><span class="sig-paren">)</span><a class="headerlink" href="#areEqual" title="Permalink to this definition">¶</a></dt>
<dd><p>Check pixel-wise wether two dataObjects are equal.
The filter returns 1 if both objects are pixel-wise equal, else returns 0.</p>
<p>The filter do not work with RGBA32, Complex64 and Complex128, but with all other data-types</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>sourceImage1</strong> (<em>dataObject</em>) &#8211; <ol class="arabic">
<li>source image data object for operation</li>
</ol>
</li>
<li><strong>sourceImage2</strong> (<em>dataObject</em>) &#8211; <ol class="arabic" start="2">
<li>source image data object for operation</li>
</ol>
</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">result - 0 if both data objects are not equal, else 1</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last"><a class="reference external" href="http://docs.python.org/library/functions.html#int" title="(in Python v2.7)">int</a></p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="minMaxValue">
<code class="descname">minMaxValue</code><span class="sig-paren">(</span><em>sourceImage</em><span class="optional">[</span>, <em>ignoreInf</em>, <em>complexHandling</em><span class="optional">]</span><span class="sig-paren">)</span><a class="headerlink" href="#minMaxValue" title="Permalink to this definition">¶</a></dt>
<dd><p>This filter calculated the minimal and maximal value and its first location within the dataObject.</p>
<p>The result value will be Integer vor all integer types or Double for all floating point types</p>
<p>The filter do not work with RGBA32 but with all other data-types</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>sourceImage</strong> (<em>dataObject</em>) &#8211; source image data object for operation</li>
<li><strong>ignoreInf</strong> (<em>int - optional</em>) &#8211; Ignore invalid-Values for floating point</li>
<li><strong>complexHandling</strong> (<em>int - optional</em>) &#8211; Switch complex handling, 0:abs-Value, 1:imaginary-Value, 2:real-Value, 3: argument-Value</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">minimum - Minimal value, this parameter be int or double</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first"><a class="reference external" href="http://docs.python.org/library/functions.html#float" title="(in Python v2.7)">float</a></p>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">planeMin - Index of the plane, which contains the result.</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first"><a class="reference external" href="http://docs.python.org/library/functions.html#int" title="(in Python v2.7)">int</a></p>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">yMin - Pixelindex in y-direction.</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first"><a class="reference external" href="http://docs.python.org/library/functions.html#int" title="(in Python v2.7)">int</a></p>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">xMin - Pixelindex in x-direction.</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first"><a class="reference external" href="http://docs.python.org/library/functions.html#int" title="(in Python v2.7)">int</a></p>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">maximum - Maximum value, this parameter. This param can be int or double</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first"><a class="reference external" href="http://docs.python.org/library/functions.html#float" title="(in Python v2.7)">float</a></p>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">planeMax - Index of the plane, which contains the result.</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first"><a class="reference external" href="http://docs.python.org/library/functions.html#int" title="(in Python v2.7)">int</a></p>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">yMax - Pixelindex in y-direction.</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first"><a class="reference external" href="http://docs.python.org/library/functions.html#int" title="(in Python v2.7)">int</a></p>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">xMax - Pixelindex in x-direction.</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last"><a class="reference external" href="http://docs.python.org/library/functions.html#int" title="(in Python v2.7)">int</a></p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

</div>
</div>


          </div>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="dataObjectIO.html" title="DataObjectIO"
             >next</a></li>
        <li class="right" >
          <a href="basicFilters.html" title="Basic Filters"
             >previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="../../index.html">itom</a> &raquo;</li>
          <li class="nav-item nav-item-1"><a href="../../plugins.html" >Plugins</a> &raquo;</li> 
      </ul>
    </div>

    <div class="footer" role="contentinfo">
        &copy; Copyright 2014, Institut für Technische Optik, Universität Stuttgart.
      Created using <a href="http://sphinx-doc.org/">Sphinx</a> 1.3.4.
    </div>
<div class="footer">This page uses <a href="http://analytics.google.com/">
Google Analytics</a> to collect statistics. You can disable it by blocking
the JavaScript coming from www.google-analytics.com.
<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-51395951-1', 'bitbucket.org');
  ga('send', 'pageview');

</script>
</div>

  </body>
</html>