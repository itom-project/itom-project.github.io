

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>9.15. shape &mdash; itom Documentation</title>
  

  
  
  
  

  

  
  
    

  

  
  
    <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
  

  
    <link rel="stylesheet" href="../_static/breathe.css" type="text/css" />
  
    <link rel="stylesheet" href="../_static/breathe.css" type="text/css" />
  
    <link rel="stylesheet" href="../_static/breathe.css" type="text/css" />
  
    <link rel="stylesheet" href="../_static/breathe.css" type="text/css" />
  
    <link rel="stylesheet" href="../_static/breathe.css" type="text/css" />
  

  
        <link rel="index" title="Index"
              href="../genindex.html"/>
        <link rel="search" title="Search" href="../search.html"/>
    <link rel="top" title="itom Documentation" href="../index.html"/>
        <link rel="up" title="9. itom Script Reference" href="reference.html"/>
        <link rel="next" title="9.16. timer" href="timer.html"/>
        <link rel="prev" title="9.14. rgba" href="rgba.html"/> 

  
  <script src="../_static/js/modernizr.min.js"></script>

</head>

<body class="wy-body-for-nav" role="document">

   
  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search">
          

          
            <a href="../index.html" class="icon icon-home"> itom Documentation
          

          
          </a>

          
            
            
              <div class="version">
                3.0.0
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <p class="caption"><span class="caption-text">Table of Contents</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../00_releaseNotes/whats-new.html">Changelog</a></li>
<li class="toctree-l1"><a class="reference internal" href="../01_introduction/introduction.html">1. Introduction</a></li>
<li class="toctree-l1"><a class="reference internal" href="../02_installation/install.html">2. Installation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../03_gettingStarted/getting-started.html">3. Getting Started</a></li>
<li class="toctree-l1"><a class="reference internal" href="../04_itom_gui/gui.html">4. The itom User Interface</a></li>
<li class="toctree-l1"><a class="reference internal" href="../05_plots/plots.html">5. Plots and Figures</a></li>
<li class="toctree-l1"><a class="reference internal" href="../06_extended_gui/extended_gui.html">6. Extending the user interface of <strong>itom</strong></a></li>
<li class="toctree-l1"><a class="reference internal" href="../07_plugins/plugins.html">7. Plugins</a></li>
<li class="toctree-l1"><a class="reference internal" href="../08_scriptLanguage/script-language.html">8. Python scripting language</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="reference.html">9. itom Script Reference</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="itom_general.html">9.1. itom methods</a></li>
<li class="toctree-l2"><a class="reference internal" href="actuator.html">9.2. actuator</a></li>
<li class="toctree-l2"><a class="reference internal" href="algo.html">9.3. Algorithms, Widgets and Filters</a></li>
<li class="toctree-l2"><a class="reference internal" href="autoInterval.html">9.4. autoInterval</a></li>
<li class="toctree-l2"><a class="reference internal" href="dataIO.html">9.5. dataIO</a></li>
<li class="toctree-l2"><a class="reference internal" href="dataObject.html">9.6. dataObject</a></li>
<li class="toctree-l2"><a class="reference internal" href="figure.html">9.7. figure</a></li>
<li class="toctree-l2"><a class="reference internal" href="font.html">9.8. font</a></li>
<li class="toctree-l2"><a class="reference internal" href="plotItem.html">9.9. plotItem</a></li>
<li class="toctree-l2"><a class="reference internal" href="point.html">9.10. point</a></li>
<li class="toctree-l2"><a class="reference internal" href="pointCloud.html">9.11. pointCloud</a></li>
<li class="toctree-l2"><a class="reference internal" href="polygonMesh.html">9.12. polygonMesh</a></li>
<li class="toctree-l2"><a class="reference internal" href="region.html">9.13. region</a></li>
<li class="toctree-l2"><a class="reference internal" href="rgba.html">9.14. rgba</a></li>
<li class="toctree-l2 current"><a class="current reference internal" href="#">9.15. shape</a></li>
<li class="toctree-l2"><a class="reference internal" href="timer.html">9.16. timer</a></li>
<li class="toctree-l2"><a class="reference internal" href="itom_GUI.html">9.17. ui-elements (ui, uiItem)</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../10_miscellaneous/miscellaneous.html">10. Miscellaneous</a></li>
<li class="toctree-l1"><a class="reference internal" href="../11_test-scripts/test-scripts.html">11. Demo scripts</a></li>
<li class="toctree-l1"><a class="reference internal" href="../12_tutorials/tutorials.html">12. Python tutorials</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">itom Documentation</a>
        
      </nav>


      
      <div class="wy-nav-content">
        <div class="rst-content">
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../index.html">Docs</a> &raquo;</li>
        
          <li><a href="reference.html">9. itom Script Reference</a> &raquo;</li>
        
      <li>9.15. shape</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="../_sources/09_reference/shape.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="shape">
<span id="ref-shape"></span><h1>9.15. shape<a class="headerlink" href="#shape" title="Permalink to this headline">¶</a></h1>
<p>The class <strong>shape</strong> represents 2D geometric elements with floating (or subpixel) precision. Any shape is given by a set of base points
and an optional transformation matrix. The following shapes are currently defined:</p>
<ul class="simple">
<li>Point</li>
<li>Line (a direct connection between two points)</li>
<li>Rectangle (an rectangle that is mainly defined by the top-left and bottom-right corner point)</li>
<li>Square (similar to a rectangle, however the side lengths are equal. It is defined by the center point and the side lengths)</li>
<li>Ellipse (an ellipse that is defined by the top-left and bottom-right corner of its outer rectangle)</li>
<li>Circle (similar to an ellipse, however the side lengths are equal. It is defined by the center point and the side lengths)</li>
<li>Polygon (polygon with n points)</li>
</ul>
<p>Examples for the creation of shapes are:</p>
<div class="highlight-python"><div class="highlight"><pre><span></span><span class="n">point</span> <span class="o">=</span> <span class="n">shape</span><span class="p">(</span><span class="n">shape</span><span class="o">.</span><span class="n">Point</span><span class="p">,</span> <span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">))</span>
<span class="n">line</span> <span class="o">=</span> <span class="n">shape</span><span class="p">(</span><span class="n">shape</span><span class="o">.</span><span class="n">Line</span><span class="p">,</span> <span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">),</span> <span class="p">(</span><span class="mi">100</span><span class="p">,</span><span class="mi">50</span><span class="p">))</span>
<span class="n">rect</span> <span class="o">=</span> <span class="n">shape</span><span class="p">(</span><span class="n">shape</span><span class="o">.</span><span class="n">Rectangle</span><span class="p">,</span> <span class="p">(</span><span class="mi">20</span><span class="p">,</span><span class="mi">20</span><span class="p">),</span> <span class="p">(</span><span class="mi">70</span><span class="p">,</span><span class="mi">100</span><span class="p">))</span> <span class="c1">#top-left, bottom-right</span>
<span class="n">square</span> <span class="o">=</span> <span class="n">shape</span><span class="p">(</span><span class="n">shape</span><span class="o">.</span><span class="n">Square</span><span class="p">,</span> <span class="p">(</span><span class="mi">30</span><span class="p">,</span><span class="o">-</span><span class="mi">50</span><span class="p">),</span> <span class="mi">20</span><span class="p">)</span> <span class="c1">#center, side-length</span>
<span class="n">ellipse</span> <span class="o">=</span> <span class="n">shape</span><span class="p">(</span><span class="n">shape</span><span class="o">.</span><span class="n">Ellipse</span><span class="p">,</span> <span class="p">(</span><span class="o">-</span><span class="mi">50</span><span class="p">,</span><span class="o">-</span><span class="mi">70</span><span class="p">),</span> <span class="p">(</span><span class="o">-</span><span class="mi">20</span><span class="p">,</span> <span class="mi">0</span><span class="p">))</span> <span class="c1">#top-left, bottom-right</span>
<span class="n">circle</span> <span class="o">=</span> <span class="n">shape</span><span class="p">(</span><span class="n">shape</span><span class="o">.</span><span class="n">Circle</span><span class="p">,</span> <span class="p">(</span><span class="o">-</span><span class="mi">30</span><span class="p">,</span> <span class="mi">100</span><span class="p">),</span> <span class="mi">40</span><span class="p">)</span> <span class="c1">#center, side-length</span>
</pre></div>
</div>
<p>If the optional transformation matrix (2x3 float64 matrix) is set, the shape can be translated and/or rotated. Please consider, that any
rotation is currently not supported in any plot. Rectangles, squares, ellipses or circles are always defined, such that their main axes
are parallel to the x- and y-axis. Use the rotation to choose another principal orientation. The base points of the shape are never affected
by any transformation matrix. Only the contour points can be requested with the applied coordinate transformation (if desired).</p>
<p>It is possible to obtain a <a class="reference internal" href="region.html#itom.region" title="itom.region"><code class="xref py py-class docutils literal"><span class="pre">region</span></code></a> from any shape with a valid area (points and lines don&#8217;t have an area). The region is always
a pixel-precise structure. Regions can be combined using union or intersection operators.</p>
<p>Furthermore, a mask <a class="reference internal" href="dataObject.html#itom.dataObject" title="itom.dataObject"><code class="xref py py-class docutils literal"><span class="pre">dataObject</span></code></a> can be obtained from any dataObject using the method <a class="reference internal" href="dataObject.html#itom.dataObject.createMask" title="itom.dataObject.createMask"><code class="xref py py-meth docutils literal"><span class="pre">createMask()</span></code></a> if one or multiple shapes are given.</p>
<p>The demo script <em>demoShapes.py</em> show further examples about the usage of shape objects.</p>
<dl class="class">
<dt id="itom.shape">
<em class="property">class </em><code class="descclassname">itom.</code><code class="descname">shape</code><span class="sig-paren">(</span><span class="optional">[</span><em>type</em>, <em>param1</em>, <em>param2</em>, <em>index</em>, <em>name</em><span class="optional">]</span><span class="sig-paren">)</span> &#x2192; creates a shape object of a specific type.<a class="headerlink" href="#itom.shape" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference external" href="https://docs.python.org/3.6/library/functions.html#object" title="(in Python v3.6)"><code class="xref py py-class docutils literal"><span class="pre">object</span></code></a></p>
<p>Depending on the type, the following parameters are allowed:</p>
<ul class="simple">
<li>shape.Invalid: -</li>
<li>shape.Point: point</li>
<li>shape.Line: start-point, end-point</li>
<li>shape.Rectangle: top left point, bottom right point</li>
<li>shape.Square: center point, side-length</li>
<li>shape.Ellipse: top left point, bottom right point of bounding box</li>
<li>shape.Circle: center point, radius</li>
<li>shape.Polygon : 2xM float64 array with M points of polygon</li>
</ul>
<p>parameters point, start-point, ... can be all array-like types (e.g. dataObject, list, tuple, np.array) 
that can be mapped to float64 and have two elements.</p>
<p>During construction, all shapes are aligned with respect to the x- and y-axis. Set a 2d transformation (attribute &#8216;transform&#8217;) to 
rotate and move it.</p>
<dl class="method">
<dt id="itom.shape.contour">
<code class="descname">contour</code><span class="sig-paren">(</span><span class="optional">[</span><em>applyTrafo = True</em>, <em>tol = -1.0</em><span class="optional">]</span><span class="sig-paren">)</span> &#x2192; return contour points as a 2xNumPoints float64 dataObject<a class="headerlink" href="#itom.shape.contour" title="Permalink to this definition">¶</a></dt>
<dd><p>If a transformation matrix is set, the base points can be transformed if &#8216;applyTrafo&#8217; is True. For point, line and rectangle 
based shapes, the contour is directly given. For ellipses and circles, a polygon is approximated to the form of the ellipse 
and returned as contour. The approximation is done by line segments. Use &#8216;tol&#8217; to set the maximum distance between each line segment 
and the real shape. If &#8216;tol&#8217; is -1.0, &#8216;tol&#8217; is set to 1% of the smallest diameter.</p>
</dd></dl>

<dl class="method">
<dt id="itom.shape.normalized">
<code class="descname">normalized</code><span class="sig-paren">(</span><em>) -&gt; return a normalized shape (this has only an impact on rectangles</em>, <em>squares</em>, <em>ellipses and circles</em><span class="sig-paren">)</span><a class="headerlink" href="#itom.shape.normalized" title="Permalink to this definition">¶</a></dt>
<dd><p>The normalized shape guarantees that the bounding box of the shape never has a non-negative width or height. Therefore, the 
order or position of the two corner points (base points) is switched or changed, if necessary. Shapes different than 
rectangle, square, circle or ellipse are not affected by this and are returned as they are.</p>
</dd></dl>

<dl class="method">
<dt id="itom.shape.region">
<code class="descname">region</code><span class="sig-paren">(</span><span class="sig-paren">)</span> &#x2192; Return a region object from this shape.<a class="headerlink" href="#itom.shape.region" title="Permalink to this definition">¶</a></dt>
<dd><p>The region object only contains valid regions if the shape has an area &gt; 0. 
A region object is an integer based object (pixel raster), therefore the shapes 
are rounded to the nearest fixed-point coordinates.</p>
</dd></dl>

<dl class="method">
<dt id="itom.shape.rotateDeg">
<code class="descname">rotateDeg</code><span class="sig-paren">(</span><em>array-like object</em><span class="sig-paren">)</span> &#x2192; Rotate shape by given angle in degree (counterclockwise).<a class="headerlink" href="#itom.shape.rotateDeg" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="itom.shape.rotateRad">
<code class="descname">rotateRad</code><span class="sig-paren">(</span><em>array-like object</em><span class="sig-paren">)</span> &#x2192; Rotate shape by given angle in radians (counterclockwise).<a class="headerlink" href="#itom.shape.rotateRad" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="itom.shape.translate">
<code class="descname">translate</code><span class="sig-paren">(</span><em>array-like object</em><span class="sig-paren">)</span> &#x2192; Translate shape by given (dx,dy) value.<a class="headerlink" href="#itom.shape.translate" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="itom.shape.angleDeg">
<code class="descname">angleDeg</code><a class="headerlink" href="#itom.shape.angleDeg" title="Permalink to this definition">¶</a></dt>
<dd><p>Get/set angle of optional rotation matrix in degree (counter-clockwise).</p>
</dd></dl>

<dl class="attribute">
<dt id="itom.shape.angleRad">
<code class="descname">angleRad</code><a class="headerlink" href="#itom.shape.angleRad" title="Permalink to this definition">¶</a></dt>
<dd><p>Get/set angle of optional rotation matrix in radians (counter-clockwise).</p>
</dd></dl>

<dl class="attribute">
<dt id="itom.shape.area">
<code class="descname">area</code><a class="headerlink" href="#itom.shape.area" title="Permalink to this definition">¶</a></dt>
<dd><p>Get area of shape (points and lines have an empty area).</p>
</dd></dl>

<dl class="attribute">
<dt id="itom.shape.basePoints">
<code class="descname">basePoints</code><a class="headerlink" href="#itom.shape.basePoints" title="Permalink to this definition">¶</a></dt>
<dd><p>Return base points of this shape: M base points of shape as 2xM float64 dataObject</p>
<p>The base points are untransformed points that describe the shape dependent on its type:</p>
<ul class="simple">
<li>shape.Point: one point</li>
<li>shape.Line : start point, end point</li>
<li>shape.Rectangle, shape.Square : top left point, bottom right point</li>
<li>shape.Ellipse, shape.Circle : top left point, bottom right point of bounding box</li>
<li>shape.Polygon : points of polygon, the last and first point are connected, too.</li>
</ul>
</dd></dl>

<dl class="attribute">
<dt id="itom.shape.center">
<code class="descname">center</code><a class="headerlink" href="#itom.shape.center" title="Permalink to this definition">¶</a></dt>
<dd><p>Get/set center point</p>
<p>The center point is the point (type: point), or the center of 
the line (type: line) or bounding box of a rectangle, square, ellipse or circle.</p>
</dd></dl>

<dl class="attribute">
<dt id="itom.shape.flags">
<code class="descname">flags</code><a class="headerlink" href="#itom.shape.flags" title="Permalink to this definition">¶</a></dt>
<dd><p>Get/set bitmask with flags for this shape: Shape.MoveLock, Shape.RotateLock, Shape.ResizeLock</p>
</dd></dl>

<dl class="attribute">
<dt id="itom.shape.height">
<code class="descname">height</code><a class="headerlink" href="#itom.shape.height" title="Permalink to this definition">¶</a></dt>
<dd><p>Get/set height of shape.</p>
<p>A height can only be set for a square or for a rectangle and is 
defined with respect to the base coordinate system.</p>
</dd></dl>

<dl class="attribute">
<dt id="itom.shape.index">
<code class="descname">index</code><a class="headerlink" href="#itom.shape.index" title="Permalink to this definition">¶</a></dt>
<dd><p>Get/set index of shape. The default is -1, however if the shape is a geometric shape of a plot, an auto-incremented index is assigned once the shape is drawn or set. If &gt;= 0 it is possible to modify an existing shape with the same index.</p>
</dd></dl>

<dl class="attribute">
<dt id="itom.shape.name">
<code class="descname">name</code><a class="headerlink" href="#itom.shape.name" title="Permalink to this definition">¶</a></dt>
<dd><p>Get/set name (label) of the shape.</p>
</dd></dl>

<dl class="attribute">
<dt id="itom.shape.point1">
<code class="descname">point1</code><a class="headerlink" href="#itom.shape.point1" title="Permalink to this definition">¶</a></dt>
<dd><p>Get/set first point (of bounding box)</p>
<p>The first point is the first point (type: point or line) or the upper left 
point of the bounding box (type: rectangle, square, ellipse, circle). 
The point always considers a possible 2D coordinate transformation matrix.</p>
</dd></dl>

<dl class="attribute">
<dt id="itom.shape.point2">
<code class="descname">point2</code><a class="headerlink" href="#itom.shape.point2" title="Permalink to this definition">¶</a></dt>
<dd><p>Get/set second point of bounding box</p>
<p>The second point is the bottom right 
point of the bounding box (type: rectangle, square, ellipse, circle). 
The point always considers a possible 2D coordinate transformation matrix.</p>
</dd></dl>

<dl class="attribute">
<dt id="itom.shape.radius">
<code class="descname">radius</code><a class="headerlink" href="#itom.shape.radius" title="Permalink to this definition">¶</a></dt>
<dd><p>Get/set radius of shape.</p>
<p>A radius can only be set for a circle (float value) or for an ellipse (a, b) as 
half side-length in x- and y-direction of the base coordinate system.</p>
</dd></dl>

<dl class="attribute">
<dt id="itom.shape.transform">
<code class="descname">transform</code><a class="headerlink" href="#itom.shape.transform" title="Permalink to this definition">¶</a></dt>
<dd><p>Get/set the affine, non scaled 2D transformation matrix (2x3, float64, [2x2 Rot, 2x1 trans])</p>
</dd></dl>

<dl class="attribute">
<dt id="itom.shape.type">
<code class="descname">type</code><a class="headerlink" href="#itom.shape.type" title="Permalink to this definition">¶</a></dt>
<dd><p>Get type of shape, e.g. Shape.Line, Shape.Point, Shape.Rectangle, Shape.Ellipse, Shape.Circle, Shape.Square</p>
</dd></dl>

<dl class="attribute">
<dt id="itom.shape.valid">
<code class="descname">valid</code><a class="headerlink" href="#itom.shape.valid" title="Permalink to this definition">¶</a></dt>
<dd><p>Return True if shape is a valid geometric shape, else False</p>
</dd></dl>

<dl class="attribute">
<dt id="itom.shape.width">
<code class="descname">width</code><a class="headerlink" href="#itom.shape.width" title="Permalink to this definition">¶</a></dt>
<dd><p>Get/set width of shape.</p>
<p>A width can only be set for a square or for a rectangle and is 
defined with respect to the base coordinate system.</p>
</dd></dl>

</dd></dl>

</div>


           </div>
           <div class="articleComments">
            
           </div>
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="timer.html" class="btn btn-neutral float-right" title="9.16. timer" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="rgba.html" class="btn btn-neutral" title="9.14. rgba" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2011-2016, Institut fuer Technische Optik (ITO), University Stuttgart. Bug report: https://bitbucket.org/itom/itom/issues.
      Last updated on Apr 12, 2017.

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/snide/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  

    <script type="text/javascript">
        var DOCUMENTATION_OPTIONS = {
            URL_ROOT:'../',
            VERSION:'ee11b17',
            COLLAPSE_INDEX:false,
            FILE_SUFFIX:'.html',
            HAS_SOURCE:  true,
            SOURCELINK_SUFFIX: '.txt'
        };
    </script>
      <script type="text/javascript" src="../_static/jquery.js"></script>
      <script type="text/javascript" src="../_static/underscore.js"></script>
      <script type="text/javascript" src="../_static/doctools.js"></script>

  

  
  
    <script type="text/javascript" src="../_static/js/theme.js"></script>
  

  
  
  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.StickyNav.enable();
      });
  </script>
   

</body>
</html>