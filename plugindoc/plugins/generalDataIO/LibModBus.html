
<!DOCTYPE html>


<html lang="en" data-content_root="../../" >

  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="viewport" content="width=device-width, initial-scale=1" />

    <title>3.2. LibModBus &#8212; itom Plugins</title>



  <script data-cfasync="false">
    document.documentElement.dataset.mode = localStorage.getItem("mode") || "";
    document.documentElement.dataset.theme = localStorage.getItem("theme") || "";
  </script>

  <!-- Loaded before other Sphinx assets -->
  <link href="../../_static/styles/theme.css?digest=dfe6caa3a7d634c4db9b" rel="stylesheet" />
<link href="../../_static/styles/bootstrap.css?digest=dfe6caa3a7d634c4db9b" rel="stylesheet" />
<link href="../../_static/styles/pydata-sphinx-theme.css?digest=dfe6caa3a7d634c4db9b" rel="stylesheet" />


  <link href="../../_static/vendor/fontawesome/6.5.2/css/all.min.css?digest=dfe6caa3a7d634c4db9b" rel="stylesheet" />
  <link rel="preload" as="font" type="font/woff2" crossorigin href="../../_static/vendor/fontawesome/6.5.2/webfonts/fa-solid-900.woff2" />
<link rel="preload" as="font" type="font/woff2" crossorigin href="../../_static/vendor/fontawesome/6.5.2/webfonts/fa-brands-400.woff2" />
<link rel="preload" as="font" type="font/woff2" crossorigin href="../../_static/vendor/fontawesome/6.5.2/webfonts/fa-regular-400.woff2" />

    <link rel="stylesheet" type="text/css" href="../../_static/pygments.css?v=fa44fd50" />
    <link rel="stylesheet" type="text/css" href="../../_static/html.css" />

  <!-- Pre-loaded scripts that we'll load fully later -->
  <link rel="preload" as="script" href="../../_static/scripts/bootstrap.js?digest=dfe6caa3a7d634c4db9b" />
<link rel="preload" as="script" href="../../_static/scripts/pydata-sphinx-theme.js?digest=dfe6caa3a7d634c4db9b" />
  <script src="../../_static/vendor/fontawesome/6.5.2/js/all.min.js?digest=dfe6caa3a7d634c4db9b"></script>

    <script src="../../_static/documentation_options.js?v=5929fcd5"></script>
    <script src="../../_static/doctools.js?v=9bcbadda"></script>
    <script src="../../_static/sphinx_highlight.js?v=dc90522c"></script>
    <script>DOCUMENTATION_OPTIONS.pagename = 'plugins/generalDataIO/LibModBus';</script>
    <link rel="index" title="Index" href="../../genindex.html" />
    <link rel="search" title="Search" href="../../search.html" />
    <link rel="next" title="3.3. NewportConexLDS" href="NewportConexLDS.html" />
    <link rel="prev" title="3.1. CyUSB" href="CyUSB.html" />
  <meta name="viewport" content="width=device-width, initial-scale=1"/>
  <meta name="docsearch:language" content="en"/>
    <meta name="docbuild:last-update" content="Nov 12, 2024"/>
  </head>


  <body data-bs-spy="scroll" data-bs-target=".bd-toc-nav" data-offset="180" data-bs-root-margin="0px 0px -60%" data-default-mode="">



  <div id="pst-skip-link" class="skip-link d-print-none"><a href="#main-content">Skip to main content</a></div>

  <div id="pst-scroll-pixel-helper"></div>

  <button type="button" class="btn rounded-pill" id="pst-back-to-top">
    <i class="fa-solid fa-arrow-up"></i>Back to top</button>


  <input type="checkbox"
          class="sidebar-toggle"
          id="pst-primary-sidebar-checkbox"/>
  <label class="overlay overlay-primary" for="pst-primary-sidebar-checkbox"></label>

  <input type="checkbox"
          class="sidebar-toggle"
          id="pst-secondary-sidebar-checkbox"/>
  <label class="overlay overlay-secondary" for="pst-secondary-sidebar-checkbox"></label>

  <div class="search-button__wrapper">
    <div class="search-button__overlay"></div>
    <div class="search-button__search-container">
<form class="bd-search d-flex align-items-center"
      action="../../search.html"
      method="get">
  <i class="fa-solid fa-magnifying-glass"></i>
  <input type="search"
         class="form-control"
         name="q"
         id="search-input"
         placeholder="Search the docs ..."
         aria-label="Search the docs ..."
         autocomplete="off"
         autocorrect="off"
         autocapitalize="off"
         spellcheck="false"/>
  <span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd>K</kbd></span>
</form></div>
  </div>

  <div class="pst-async-banner-revealer d-none">
  <aside id="bd-header-version-warning" class="d-none d-print-none" aria-label="Version warning"></aside>
</div>


    <header class="bd-header navbar navbar-expand-lg bd-navbar d-print-none">
<div class="bd-header__inner bd-page-width">
  <button class="pst-navbar-icon sidebar-toggle primary-toggle" aria-label="Site navigation">
    <span class="fa-solid fa-bars"></span>
  </button>


  <div class="col-lg-3 navbar-header-items__start">

      <div class="navbar-item">





<a class="navbar-brand logo" href="../../index.html">






    <p class="title logo__title">itom Plugins</p>

</a></div>

  </div>

  <div class="col-lg-9 navbar-header-items">

    <div class="me-auto navbar-header-items__center">

        <div class="navbar-item">
<nav>
  <ul class="bd-navbar-elements navbar-nav">

<li class="nav-item ">
  <a class="nav-link nav-internal" href="../grabbers.html">
    Camera/ Grabber
  </a>
</li>


<li class="nav-item ">
  <a class="nav-link nav-internal" href="../actuators.html">
    Motors/ Actuators
  </a>
</li>


<li class="nav-item current active">
  <a class="nav-link nav-internal" href="../GDIO.html">
    General Data IO
  </a>
</li>


<li class="nav-item ">
  <a class="nav-link nav-internal" href="../adconv.html">
    AD-Converters
  </a>
</li>


<li class="nav-item ">
  <a class="nav-link nav-internal" href="../algorithms.html">
    Algorithms/ Filters
  </a>
</li>

  </ul>
</nav></div>

    </div>


    <div class="navbar-header-items__end">

        <div class="navbar-item navbar-persistent--container">


 <script>
 document.write(`
   <button class="btn search-button-field search-button__button" title="Search" aria-label="Search" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <i class="fa-solid fa-magnifying-glass"></i>
    <span class="search-button__default-text">Search</span>
    <span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd class="kbd-shortcut__modifier">K</kbd></span>
   </button>
 `);
 </script>
        </div>


        <div class="navbar-item">

<script>
document.write(`
  <button class="btn btn-sm nav-link pst-navbar-icon theme-switch-button" title="light/dark" aria-label="light/dark" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <i class="theme-switch fa-solid fa-sun fa-lg" data-mode="light"></i>
    <i class="theme-switch fa-solid fa-moon fa-lg" data-mode="dark"></i>
    <i class="theme-switch fa-solid fa-circle-half-stroke fa-lg" data-mode="auto"></i>
  </button>
`);
</script></div>

        <div class="navbar-item"><ul class="navbar-icon-links"
    aria-label="Icon Links">
        <li class="nav-item">








          <a href="https://github.com/itom-project/plugins" title="GitHub" class="nav-link pst-navbar-icon" rel="noopener" target="_blank" data-bs-toggle="tooltip" data-bs-placement="bottom"><i class="fa-brands fa-github fa-lg" aria-hidden="true"></i>
            <span class="sr-only">GitHub</span></a>
        </li>
        <li class="nav-item">








          <a href="https://www.ito.uni-stuttgart.de/" title="ITO" class="nav-link pst-navbar-icon" rel="noopener" target="_blank" data-bs-toggle="tooltip" data-bs-placement="bottom"><img src="../../_static/ITO_Logo_neu_II.png" class="icon-link-image" alt="ITO"/></a>
        </li>
</ul></div>

    </div>

  </div>


    <div class="navbar-persistent--mobile">

 <script>
 document.write(`
   <button class="btn search-button-field search-button__button" title="Search" aria-label="Search" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <i class="fa-solid fa-magnifying-glass"></i>
    <span class="search-button__default-text">Search</span>
    <span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd class="kbd-shortcut__modifier">K</kbd></span>
   </button>
 `);
 </script>
    </div>



    <button class="pst-navbar-icon sidebar-toggle secondary-toggle" aria-label="On this page">
      <span class="fa-solid fa-outdent"></span>
    </button>

</div>

    </header>


  <div class="bd-container">
    <div class="bd-container__inner bd-page-width">



      <div class="bd-sidebar-primary bd-sidebar">



  <div class="sidebar-header-items sidebar-primary__section">


      <div class="sidebar-header-items__center">



            <div class="navbar-item">
<nav>
  <ul class="bd-navbar-elements navbar-nav">

<li class="nav-item ">
  <a class="nav-link nav-internal" href="../grabbers.html">
    Camera/ Grabber
  </a>
</li>


<li class="nav-item ">
  <a class="nav-link nav-internal" href="../actuators.html">
    Motors/ Actuators
  </a>
</li>


<li class="nav-item current active">
  <a class="nav-link nav-internal" href="../GDIO.html">
    General Data IO
  </a>
</li>


<li class="nav-item ">
  <a class="nav-link nav-internal" href="../adconv.html">
    AD-Converters
  </a>
</li>


<li class="nav-item ">
  <a class="nav-link nav-internal" href="../algorithms.html">
    Algorithms/ Filters
  </a>
</li>

  </ul>
</nav></div>


      </div>



      <div class="sidebar-header-items__end">

          <div class="navbar-item">

<script>
document.write(`
  <button class="btn btn-sm nav-link pst-navbar-icon theme-switch-button" title="light/dark" aria-label="light/dark" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <i class="theme-switch fa-solid fa-sun fa-lg" data-mode="light"></i>
    <i class="theme-switch fa-solid fa-moon fa-lg" data-mode="dark"></i>
    <i class="theme-switch fa-solid fa-circle-half-stroke fa-lg" data-mode="auto"></i>
  </button>
`);
</script></div>

          <div class="navbar-item"><ul class="navbar-icon-links"
    aria-label="Icon Links">
        <li class="nav-item">








          <a href="https://github.com/itom-project/plugins" title="GitHub" class="nav-link pst-navbar-icon" rel="noopener" target="_blank" data-bs-toggle="tooltip" data-bs-placement="bottom"><i class="fa-brands fa-github fa-lg" aria-hidden="true"></i>
            <span class="sr-only">GitHub</span></a>
        </li>
        <li class="nav-item">








          <a href="https://www.ito.uni-stuttgart.de/" title="ITO" class="nav-link pst-navbar-icon" rel="noopener" target="_blank" data-bs-toggle="tooltip" data-bs-placement="bottom"><img src="../../_static/ITO_Logo_neu_II.png" class="icon-link-image" alt="ITO"/></a>
        </li>
</ul></div>

      </div>

  </div>

    <div class="sidebar-primary-items__start sidebar-primary__section">
        <div class="sidebar-primary-item">
<nav class="bd-docs-nav bd-links"
     aria-label="Section Navigation">
  <p class="bd-links__title" role="heading" aria-level="1">Section Navigation</p>
  <div class="bd-toc-item navbar-nav"><ul class="current nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="CyUSB.html">3.1. CyUSB</a></li>
<li class="toctree-l1 current active"><a class="current reference internal" href="#">3.2. LibModBus</a></li>
<li class="toctree-l1"><a class="reference internal" href="NewportConexLDS.html">3.3. NewportConexLDS</a></li>
<li class="toctree-l1"><a class="reference internal" href="QuantumComposer.html">3.4. QuantumComposer</a></li>
<li class="toctree-l1"><a class="reference internal" href="SuperlumBL.html">3.5. SuperlumBL</a></li>
<li class="toctree-l1"><a class="reference internal" href="SuperlumBS.html">3.6. SuperlumBS</a></li>
<li class="toctree-l1"><a class="reference internal" href="ThorlabsFF.html">3.7. ThorlabsFF</a></li>
<li class="toctree-l1"><a class="reference internal" href="ThorlabsTCubeTEC.html">3.8. ThorlabsTCubeTEC</a></li>
<li class="toctree-l1"><a class="reference internal" href="dispWindow.html">3.9. DispWindow</a></li>
<li class="toctree-l1"><a class="reference internal" href="glDisplay.html">3.10. GLDisplay</a></li>
<li class="toctree-l1"><a class="reference internal" href="gwInstekPSP.html">3.11. GWInstekPSP</a></li>
<li class="toctree-l1"><a class="reference internal" href="hidApi.html">3.12. HidApi</a></li>
<li class="toctree-l1"><a class="reference internal" href="libUSB.html">3.13. LibUSB</a></li>
<li class="toctree-l1"><a class="reference internal" href="serialIO.html">3.14. SerialIO</a></li>
</ul>
</div>
</nav></div>
    </div>


  <div class="sidebar-primary-items__end sidebar-primary__section">
  </div>

  <div id="rtd-footer-container"></div>


      </div>

      <main id="main-content" class="bd-main" role="main">


          <div class="bd-content">
            <div class="bd-article-container">

              <div class="bd-header-article d-print-none">
<div class="header-article-items header-article__inner">

    <div class="header-article-items__start">

        <div class="header-article-item">



<nav aria-label="Breadcrumb" class="d-print-none">
  <ul class="bd-breadcrumbs">

    <li class="breadcrumb-item breadcrumb-home">
      <a href="../../index.html" class="nav-link" aria-label="Home">
        <i class="fa-solid fa-home"></i>
      </a>
    </li>

    <li class="breadcrumb-item"><a href="../GDIO.html" class="nav-link"><span class="section-number">3. </span>General Data IO</a></li>

    <li class="breadcrumb-item active" aria-current="page"><span...</li>
  </ul>
</nav>
</div>

    </div>


</div>
</div>




<div id="searchbox"></div>
                <article class="bd-article">

  <section id="libmodbus">
<h1><span class="section-number">3.2. </span>LibModBus<a class="headerlink" href="#libmodbus" title="Link to this heading">#</a></h1>
<div class="pst-scrollable-table-container"><table class="table">
<tbody>
<tr class="row-odd"><td><p><strong>Summary</strong>:</p></td>
<td><p><span>itom-plugin for a modbus communication</span></p></td>
</tr>
<tr class="row-even"><td><p><strong>Type</strong>:</p></td>
<td><p><span>DataIO</span></p></td>
</tr>
<tr class="row-odd"><td><p><strong>License</strong>:</p></td>
<td><p><span>Licensed under GPL.</span></p></td>
</tr>
<tr class="row-even"><td><p><strong>Platforms</strong>:</p></td>
<td><p>Windows, Linux</p></td>
</tr>
<tr class="row-odd"><td><p><strong>Devices</strong>:</p></td>
<td><p>Modbus communication over TCP/IP and RTU</p></td>
</tr>
<tr class="row-even"><td><p><strong>Author</strong>:</p></td>
<td><p><span>J.Nitsche, IPROM, TU Braunschweig</span></p></td>
</tr>
</tbody>
</table>
</div>
<section id="overview">
<h2><span class="section-number">3.2.1. </span>Overview<a class="headerlink" href="#overview" title="Link to this heading">#</a></h2>
<p>LibModBus is a itom-Plugin which provides modbusTCP and modbusRTU communication.
The plugin is based on libmodbus v3.1.1 library and tested under Windows only atm.
Registers are addressed using the modbus_read_registers (0x03) and modbus_write_registers (0x10) functions of libmodbus, coils are addressed using the modbus_read_bits (0x01) and modbus_write_bits (0x0F) functions.
The plugin-functions used are getVal(dObj) and setVal(dObj) with a data object of the size 1xN with N the number of registers to be read/written.
The content of the registers is expected as data in the uint16 data object for registers or uint8 data object for coils, the addressing of the registers is performed by a dObj-MetaTag ‘registers’ containing a string with address and number of consecutive registers separated by ‘,’ and different registers separated by ‘;’ i.e.: ‘10,2;34,1;77,4’ to address registers 10,11;34;77..80. Number 1 of consecutive registers can be left out i.e.:’10,2;34;77,4’
If no MetaTag is set, values of m_params[‘registers’] is tried to be used for addressing.</p>
</section>
<section id="initialization">
<h2><span class="section-number">3.2.2. </span>Initialization<a class="headerlink" href="#initialization" title="Link to this heading">#</a></h2>
<p>The following parameters are mandatory or optional for initializing an instance of this plugin:</p>
<blockquote>
<div><ul>
<li><dl>
<dt><strong>target</strong>: str</dt><dd><p>Address of the target device. IP-Address for ModbusTCP (i.e. 127.0.0.1) or COM-Port for ModbusRTU (i.e. COM1)</p>
<p><em>RegularExpression: “[0-9]{1,3}.[0-9]{1,3}.[0-9]{1,3}.[0-9]{1,3}||COM[1-9]||/dev/ttyS[0-9]{1,3}||/dev/ttyUSB[0-9]{1,3}”, Default: “127.0.0.1”</em></p>
</dd>
</dl>
</li>
<li><dl>
<dt><strong>port</strong>: int, optional</dt><dd><p>The number of the TCP port for ModBusTCP (default 502) or slave ID for ModbusRTU</p>
<p><em>Value range: [0, 1024], Default: 502</em></p>
</dd>
</dl>
</li>
<li><dl>
<dt><strong>baud</strong>: int, optional</dt><dd><p>The baudrate of the port for RTU communication</p>
<p><em>Value range: [50, 4000000], Default: 9600</em></p>
</dd>
</dl>
</li>
<li><dl>
<dt><strong>parity</strong>: str, optional</dt><dd><p>Parity for RTU communication (N,E,O)</p>
<p><em>RegularExpression: “[N,P,O]{1}”, Default: “N”</em></p>
</dd>
</dl>
</li>
<li><dl>
<dt><strong>databit</strong>: int, optional</dt><dd><p>Number of bits to be written in line for RTU communication</p>
<p><em>Value range: [5, 8], Default: 8</em></p>
</dd>
</dl>
</li>
<li><dl>
<dt><strong>stopbit</strong>: int, optional</dt><dd><p>Stop bits after every n bits for RTU communication</p>
<p><em>Value range: [1, 2], Default: 1</em></p>
</dd>
</dl>
</li>
<li><dl>
<dt><strong>output_mode</strong>: int, optional</dt><dd><p>Enables command-line output of different readouts (e.g. register values of getVal)</p>
<p><em>Value range: [0, 1], Default: 0</em></p>
</dd>
</dl>
</li>
</ul>
</div></blockquote>
<p>An example for opening a <em>LibModBus</em> instance at local host <em>127.0.0.1</em>; port <em>502</em> is:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">lmb</span> <span class="o">=</span> <span class="n">dataIO</span><span class="p">(</span><span class="s2">&quot;LibModBus&quot;</span><span class="p">,</span> <span class="s1">&#39;127.0.0.1&#39;</span><span class="p">,</span> <span class="mi">502</span><span class="p">)</span>
</pre></div>
</div>
</section>
<section id="parameters">
<h2><span class="section-number">3.2.3. </span>Parameters<a class="headerlink" href="#parameters" title="Link to this heading">#</a></h2>
<p>These parameters are available and can be used to configure the <strong>LibModBus</strong> instance. Many of them are directly initialized by the
parameters of the constructor. During the runtime of an instance, the value of these parameters is obtained by the method <em>getParam</em>, writeable
parameters can be changed using <em>setParam</em>.</p>
<dl class="simple">
<dt><strong>name</strong>: {str}, read-only</dt><dd><p>name of the plugin (<em>LibModBus</em>)</p>
</dd>
<dt><strong>target</strong>: {str}, read-only</dt><dd><p>IP-Address of the connected Modbus-TCP device or serial port for Modbus-RTU connection. Under Windows COM1-COM9 is supported, unix-based systems should use /dev/ttyS0.. or /dev/ttyUSB0..</p>
</dd>
<dt><strong>port</strong>: {int}, read-only</dt><dd><p>port used for IP communication or device ID for ModbusRTU</p>
</dd>
<dt><strong>baud</strong>: {int}, read-only</dt><dd><p>The baudrate of the port for RTU communication</p>
</dd>
<dt><strong>parity</strong>: {str}, read-only</dt><dd><p>Parity for RTU communication (N-&gt;None, E-&gt;Even, O-&gt;Odd)</p>
</dd>
<dt><strong>databit</strong>: {int}, read-only</dt><dd><p>Number of bits to be written in line for RTU communication</p>
</dd>
<dt><strong>stopbit</strong>: {int}, read-only</dt><dd><p>Stop bits after every n bits for RTU communication</p>
</dd>
<dt><strong>output_mode</strong>: {bool}</dt><dd><p>if output_mode is true, multiple outputs will be sent to command line, e.g. register values of getVal function. Default is false</p>
</dd>
<dt><strong>registers</strong>: {str}</dt><dd><p>fallback addressing for modbus registers. This value will be used, if a dataObject without ‘registers’-tag is sent to the getVal- or setVal-function.
<em>registers</em> needs to be stored with address and number of consecutive registers separated by ‘,’ and different registers separated by ‘;’ i.e.: ‘10,2;34,1;77,4’ to address registers 10,11;34;77..80. Number 1 of consecutive registers can be left out i.e.:’10,2;34;77,4’</p>
</dd>
</dl>
</section>
<section id="usage">
<h2><span class="section-number">3.2.4. </span>Usage<a class="headerlink" href="#usage" title="Link to this heading">#</a></h2>
<p>Values can be read or written via modbus communication using the <em>getVal(dObj)</em> and <em>setVal(dObj)</em> functions. The dataObject <em>dObj</em> needs to be two dimensional with the first dimension set to 1,
the second dimension has to have the exact size of the numbers of written or read registers. As modbus uses 16bit integer values, dObj must be initialized as ‘uint16’ for modbus register values.
To read or write coils, dObj must be initialized as ‘uint8’ as the decision for using read/write coil or read/write register only depends on the data type of the input data object.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">obj</span> <span class="o">=</span> <span class="n">dataObject</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span><span class="mi">10</span><span class="p">],</span><span class="s1">&#39;uint16&#39;</span><span class="p">)</span>
</pre></div>
</div>
<p>To address the requested registers, either parameter <em>registers</em> can be used, or obj can be given a <em>registers</em>-tag. The <em>registers</em>-tag has to have the same structure as the <em>registers</em> parameter.
The parameter is useful if the same registers need to be read/written multiple times while the tag should be used for changing registers.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">lmb</span> <span class="o">=</span> <span class="n">dataIO</span><span class="p">(</span><span class="s2">&quot;LibModBus&quot;</span><span class="p">,</span> <span class="s1">&#39;127.0.0.1&#39;</span><span class="p">,</span> <span class="mi">502</span><span class="p">)</span>
<span class="n">lmb</span><span class="o">.</span><span class="n">setParam</span><span class="p">(</span><span class="s1">&#39;registers&#39;</span><span class="p">,</span><span class="s1">&#39;10,2;34,1;77,4;100,1;101,1;102,1&#39;</span><span class="p">)</span>
<span class="n">obj</span> <span class="o">=</span> <span class="n">dataObject</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span><span class="mi">10</span><span class="p">],</span><span class="s1">&#39;uint16&#39;</span><span class="p">)</span>           <span class="c1">#initializes register-object</span>
<span class="n">coilObj</span> <span class="o">=</span> <span class="n">dataObject</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span><span class="mi">10</span><span class="p">],</span><span class="s1">&#39;uint8&#39;</span><span class="p">)</span>        <span class="c1">#initializes coil-object</span>
<span class="n">lmb</span><span class="o">.</span><span class="n">getVal</span><span class="p">(</span><span class="n">obj</span><span class="p">)</span>                             <span class="c1">#reads registers 10,11,34,77..80,100..102 and saves them to obj consecutive</span>
<span class="n">lmb</span><span class="o">.</span><span class="n">getVal</span><span class="p">(</span><span class="n">coilObj</span><span class="p">)</span>                         <span class="c1">#reads coils 10,11,34,77..80,100..102 and saves them to obj consecutive</span>
<span class="n">obj</span><span class="o">.</span><span class="n">setTag</span><span class="p">(</span><span class="s1">&#39;registers&#39;</span><span class="p">,</span><span class="s1">&#39;105,4;200,4;204,2&#39;</span><span class="p">)</span> <span class="c1">#sets registers-tag</span>
<span class="n">lmb</span><span class="o">.</span><span class="n">setVal</span><span class="p">(</span><span class="n">obj</span><span class="p">)</span>                             <span class="c1">#writes previously read values to registers 105..108,200..203,204,205</span>
<span class="n">obj</span><span class="o">.</span><span class="n">setTag</span><span class="p">(</span><span class="s1">&#39;registers&#39;</span><span class="p">,</span><span class="s1">&#39;105,4;200,4&#39;</span><span class="p">)</span>
<span class="n">lmb</span><span class="o">.</span><span class="n">setVal</span><span class="p">(</span><span class="n">obj</span><span class="p">)</span>                             <span class="c1">#produces error, obj is of size [1,10] but only 8 registers (105..108,200..203) are requested</span>
</pre></div>
</div>
<p>The number of consecutive registers is generally used to read/write values that are bigger than 16bit (2 registers for 32bit, 4 registers for 64bit)and should be used that way. Please refer to the documentation of the modbus slave you will be using.</p>
</section>
<section id="changelog">
<h2><span class="section-number">3.2.5. </span>Changelog<a class="headerlink" href="#changelog" title="Link to this heading">#</a></h2>
<ul class="simple">
<li><p>itom setup 1.2.0: Release</p></li>
</ul>
</section>
</section>


                </article>





                <footer class="prev-next-footer d-print-none">

<div class="prev-next-area">
    <a class="left-prev"
       href="CyUSB.html"
       title="previous page">
      <i class="fa-solid fa-angle-left"></i>
      <div class="prev-next-info">
        <p class="prev-next-subtitle">previous</p>
        <p class="prev-next-title"><span class="section-number">3.1. </span>CyUSB</p>
      </div>
    </a>
    <a class="right-next"
       href="NewportConexLDS.html"
       title="next page">
      <div class="prev-next-info">
        <p class="prev-next-subtitle">next</p>
        <p class="prev-next-title"><span class="section-number">3.3. </span>NewportConexLDS</p>
      </div>
      <i class="fa-solid fa-angle-right"></i>
    </a>
</div>
                </footer>

            </div>



                <div class="bd-sidebar-secondary bd-toc"><div class="sidebar-secondary-items sidebar-secondary__inner">


  <div class="sidebar-secondary-item">
<div
    id="pst-page-navigation-heading-2"
    class="page-toc tocsection onthispage">
    <i class="fa-solid fa-list"></i> On this page
  </div>
  <nav class="bd-toc-nav page-toc" aria-labelledby="pst-page-navigation-heading-2">
    <ul class="visible nav section-nav flex-column">
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#overview">3.2.1. Overview</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#initialization">3.2.2. Initialization</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#parameters">3.2.3. Parameters</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#usage">3.2.4. Usage</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#changelog">3.2.5. Changelog</a></li>
</ul>
  </nav></div>

  <div class="sidebar-secondary-item">

  <div class="tocsection sourcelink">
    <a href="../../_sources/plugins/generalDataIO/LibModBus.rst.txt">
      <i class="fa-solid fa-file-lines"></i> Show Source
    </a>
  </div>
</div>

</div></div>


          </div>
          <footer class="bd-footer-content">

          </footer>

      </main>
    </div>
  </div>

  <!-- Scripts loaded after <body> so the DOM is not blocked -->
  <script src="../../_static/scripts/bootstrap.js?digest=dfe6caa3a7d634c4db9b"></script>
<script src="../../_static/scripts/pydata-sphinx-theme.js?digest=dfe6caa3a7d634c4db9b"></script>

  <footer class="bd-footer">
<div class="bd-footer__inner bd-page-width">

    <div class="footer-items__start">

        <div class="footer-item">

  <p class="copyright">

      © Copyright 2011-2024, Institut für Technische Optik (ITO), University Stuttgart. Bug report: https://github.com/itom-project/plugins/issues.
      <br/>

  </p>
</div>

        <div class="footer-item">

  <p class="sphinx-version">
    Created using <a href="https://www.sphinx-doc.org/">Sphinx</a> 8.1.3.
    <br/>
  </p>
</div>

    </div>



    <div class="footer-items__end">

        <div class="footer-item">
<p class="theme-version">
  Built with the <a href="https://pydata-sphinx-theme.readthedocs.io/en/stable/index.html">PyData Sphinx Theme</a> 0.15.4.
</p></div>

    </div>

</div>

  </footer>
  </body>
</html>
