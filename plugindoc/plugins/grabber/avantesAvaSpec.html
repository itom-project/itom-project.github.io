<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" /><meta name="generator" content="Docutils 0.17.1: http://docutils.sourceforge.net/" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>1.8. Avantes AvaSpec Spectrometer &mdash; itom Documentation</title>
      <link rel="stylesheet" href="../../_static/pygments.css" type="text/css" />
      <link rel="stylesheet" href="../../_static/css/theme.css" type="text/css" />
  <!--[if lt IE 9]>
    <script src="../../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script data-url_root="../../" id="documentation_options" src="../../_static/documentation_options.js"></script>
        <script src="../../_static/jquery.js"></script>
        <script src="../../_static/underscore.js"></script>
        <script src="../../_static/_sphinx_javascript_frameworks_compat.js"></script>
        <script src="../../_static/doctools.js"></script>
    <script src="../../_static/js/theme.js"></script>
    <link rel="index" title="Index" href="../../genindex.html" />
    <link rel="search" title="Search" href="../../search.html" />
    <link rel="next" title="1.9. AVT Vimba" href="avtVimba.html" />
    <link rel="prev" title="1.7. VRMagic" href="VRMagic.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
            <a href="../../index.html" class="icon icon-home"> itom Plugins
          </a>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <p class="caption" role="heading"><span class="caption-text">Table of Contents</span></p>
<ul class="current">
<li class="toctree-l1 current"><a class="reference internal" href="../grabbers.html">1. Camera/ Grabber</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="AndorSDK3.html">1.1. Andor SDK3</a></li>
<li class="toctree-l2"><a class="reference internal" href="IDSuEyeCamera.html">1.2. IDS uEye</a></li>
<li class="toctree-l2"><a class="reference internal" href="NITWidySWIR.html">1.3. NITWidySWIR</a></li>
<li class="toctree-l2"><a class="reference internal" href="OceanOpticsSpec.html">1.4. OceanOptics Spectrometers</a></li>
<li class="toctree-l2"><a class="reference internal" href="ThorlabsDCxCam.html">1.5. Thorlabs DCx cameras</a></li>
<li class="toctree-l2"><a class="reference internal" href="ThorlabsFF.html">1.6. ThorlabsFF</a></li>
<li class="toctree-l2"><a class="reference internal" href="VRMagic.html">1.7. VRMagic</a></li>
<li class="toctree-l2 current"><a class="current reference internal" href="#">1.8. Avantes AvaSpec Spectrometer</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#overview">1.8.1. Overview</a></li>
<li class="toctree-l3"><a class="reference internal" href="#initialization">1.8.2. Initialization</a></li>
<li class="toctree-l3"><a class="reference internal" href="#parameters">1.8.3. Parameters</a></li>
<li class="toctree-l3"><a class="reference internal" href="#timestamp">1.8.4. Timestamp</a></li>
<li class="toctree-l3"><a class="reference internal" href="#vendor-and-product-id">1.8.5. Vendor and Product ID</a></li>
<li class="toctree-l3"><a class="reference internal" href="#dark-correction">1.8.6. Dark correction</a></li>
<li class="toctree-l3"><a class="reference internal" href="#changelog">1.8.7. Changelog</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="avtVimba.html">1.9. AVT Vimba</a></li>
<li class="toctree-l2"><a class="reference internal" href="cmu1394.html">1.10. CMU1394</a></li>
<li class="toctree-l2"><a class="reference internal" href="commonVisionBlox.html">1.11. GenICam cameras via Common Vision Blox</a></li>
<li class="toctree-l2"><a class="reference internal" href="dummyGrabber.html">1.12. DummyGrabber</a></li>
<li class="toctree-l2"><a class="reference internal" href="fileGrabber.html">1.13. FileGrabber</a></li>
<li class="toctree-l2"><a class="reference internal" href="fireGrabber.html">1.14. FireGrabber</a></li>
<li class="toctree-l2"><a class="reference internal" href="genicam.html">1.15. GenICam</a></li>
<li class="toctree-l2"><a class="reference internal" href="msMediaFoundation.html">1.16. MSMediaFoundation</a></li>
<li class="toctree-l2"><a class="reference internal" href="openCVGrabber.html">1.17. OpenCVGrabber</a></li>
<li class="toctree-l2"><a class="reference internal" href="pcoCamera.html">1.18. PCOCamera</a></li>
<li class="toctree-l2"><a class="reference internal" href="pcoPixelFly.html">1.19. PCOPixelFly</a></li>
<li class="toctree-l2"><a class="reference internal" href="pcoSensicam.html">1.20. PCOSensicam</a></li>
<li class="toctree-l2"><a class="reference internal" href="pgrFlyCapture.html">1.21. PGRFlyCapture</a></li>
<li class="toctree-l2"><a class="reference internal" href="pmdPico.html">1.22. PmdPico</a></li>
<li class="toctree-l2"><a class="reference internal" href="qCam.html">1.23. QCam</a></li>
<li class="toctree-l2"><a class="reference internal" href="thorlabsCCS.html">1.24. Thorlabs CCS</a></li>
<li class="toctree-l2"><a class="reference internal" href="v4l2.html">1.25. V4L2</a></li>
<li class="toctree-l2"><a class="reference internal" href="vistek.html">1.26. Vistek</a></li>
<li class="toctree-l2"><a class="reference internal" href="ximea.html">1.27. Ximea</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../actuators.html">2. Motors/ Actuators</a></li>
<li class="toctree-l1"><a class="reference internal" href="../GDIO.html">3. General Data IO</a></li>
<li class="toctree-l1"><a class="reference internal" href="../adconv.html">4. AD-Converters</a></li>
<li class="toctree-l1"><a class="reference internal" href="../algorithms.html">5. Algorithms/ Filters</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../index.html">itom Plugins</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="../../index.html" class="icon icon-home"></a> &raquo;</li>
          <li><a href="../grabbers.html"><span class="section-number">1. </span>Camera/ Grabber</a> &raquo;</li>
      <li><span class="section-number">1.8. </span>Avantes AvaSpec Spectrometer</li>
      <li class="wy-breadcrumbs-aside">
            <a href="../../_sources/plugins/grabber/avantesAvaSpec.rst.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="avantes-avaspec-spectrometer">
<h1><span class="section-number">1.8. </span>Avantes AvaSpec Spectrometer<a class="headerlink" href="#avantes-avaspec-spectrometer" title="Permalink to this heading"></a></h1>
<table class="docutils align-default">
<colgroup>
<col style="width: 13%" />
<col style="width: 87%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p><strong>Summary</strong>:</p></td>
<td><p><span>Avantes AvaSpec</span></p></td>
</tr>
<tr class="row-even"><td><p><strong>Type</strong>:</p></td>
<td><p><span>DataIO</span></p></td>
</tr>
<tr class="row-odd"><td><p><strong>License</strong>:</p></td>
<td><p><span>LGPL</span></p></td>
</tr>
<tr class="row-even"><td><p><strong>Platforms</strong>:</p></td>
<td><p>Windows, Linux ready but not tested</p></td>
</tr>
<tr class="row-odd"><td><p><strong>Devices</strong>:</p></td>
<td><p>Avantes AvaSpec Spectrometer</p></td>
</tr>
<tr class="row-even"><td><p><strong>Author</strong>:</p></td>
<td><p><span>M. Gronle, R. Hahn, W. Lyda, ITO, University Stuttgart</span></p></td>
</tr>
</tbody>
</table>
<section id="overview">
<h2><span class="section-number">1.8.1. </span>Overview<a class="headerlink" href="#overview" title="Permalink to this heading"></a></h2>
<p>This DLL integrates the Avantis AvantesAvaSpec spectrometer series into itom. It uses a low-level libusb connection to communicate with the devices and has been tested with the following spectrometers: * AvaSpec 3468 USB-Spectrometer * AvaSpec 2048 USB-Spectrometer * AvaSpec-ULS2048CL-EVO USB3-Spectrometer.</p>
</section>
<section id="initialization">
<h2><span class="section-number">1.8.2. </span>Initialization<a class="headerlink" href="#initialization" title="Permalink to this heading"></a></h2>
<p>The following parameters are mandatory or optional for initializing an instance of this plugin:</p>
<blockquote>
<div><ul>
<li><dl>
<dt><strong>VendorID</strong>: int</dt><dd><p>VendorID of spectrometer, 0x1992 for AvaSpec-3648, 0x471 for AvaSpec-ULS3648…</p>
<p><em>Value range: [0x0, inf], Default: 0x1992</em></p>
</dd>
</dl>
</li>
<li><dl>
<dt><strong>ProductID</strong>: int</dt><dd><p>ProductID of spectrometer, 0x0667 for spectrometer</p>
<p><em>Value range: [0x0, inf], Default: 0x667</em></p>
</dd>
</dl>
</li>
<li><dl>
<dt><strong>isUSB3</strong>: int, optional</dt><dd><p>Indicates if the device is a USB3 device</p>
<p><em>Value range: [0, 1], Default: 0</em></p>
</dd>
</dl>
</li>
</ul>
</div></blockquote>
</section>
<section id="parameters">
<h2><span class="section-number">1.8.3. </span>Parameters<a class="headerlink" href="#parameters" title="Permalink to this heading"></a></h2>
<p>An instance of this plugin has the following internal parameters:</p>
<dl class="simple">
<dt><strong>average</strong>: {int}</dt><dd><p>Number of averages for every frame</p>
</dd>
<dt><strong>bpp</strong>: {int}, read-only</dt><dd><p>Bit depth. 16 (uint16), if single acquisition. 32 (float32), if averaging.</p>
</dd>
<dt><strong>integration_time</strong>: {float}</dt><dd><p>Integration time of CCD programmed in s, some devices do not accept the full range of allowed values (see AvaSpec for real minimum value of your device).</p>
</dd>
<dt><strong>lambda_coeffs</strong>: {seq. of float}, read-only</dt><dd><p>Coefficients for polynom that determines lambda_table (lambda_table[idx] = c[0] + c[1]*idx + c[2]*idx^2 + … + c[4]*idx^4)</p>
</dd>
<dt><strong>lambda_table</strong>: {seq. of float}, read-only</dt><dd><p>Vector with the wavelength of all active pixels</p>
</dd>
<dt><strong>name</strong>: {str}, read-only</dt><dd><p>plugin name</p>
</dd>
<dt><strong>roi</strong>: {int rect [x0,y0,width,height]}</dt><dd><p>ROI (x,y,width,height)</p>
</dd>
<dt><strong>serial_number</strong>: {str}, read-only</dt><dd><p>Serial number of spectrometer. Same as identifier.</p>
</dd>
<dt><strong>sizex</strong>: {int}, read-only</dt><dd><p>current width of ROI</p>
</dd>
<dt><strong>sizey</strong>: {int}, read-only</dt><dd><p>current height</p>
</dd>
<dt><strong>detector_name</strong>: {str}, read-only</dt><dd><p>Name of the detector.</p>
</dd>
<dt><strong>dark_correction</strong>: {int}</dt><dd><p>Dark correction mode. See section below.</p>
</dd>
</dl>
</section>
<section id="timestamp">
<h2><span class="section-number">1.8.4. </span>Timestamp<a class="headerlink" href="#timestamp" title="Permalink to this heading"></a></h2>
<p>Every acquired image will have a tag ‘timestamp’ defined. It contains the timestamp of the acquisition in seconds since the
startup of the spectrometer.</p>
</section>
<section id="vendor-and-product-id">
<h2><span class="section-number">1.8.5. </span>Vendor and Product ID<a class="headerlink" href="#vendor-and-product-id" title="Permalink to this heading"></a></h2>
<p>If the vendor or product ID is unknown, open the libUsb plugin and select the optional parameter “print info of all devices”. This will give you a list of all usb devices connectable with libUSB.</p>
</section>
<section id="dark-correction">
<h2><span class="section-number">1.8.6. </span>Dark correction<a class="headerlink" href="#dark-correction" title="Permalink to this heading"></a></h2>
<p>Some spectrometers have more pixels on the sensor than are used for the signal generation. These, covered and hence dark pixels, can be used for a dark
correction. There are three types of dark correction (parameter dark_correction):</p>
<ul class="simple">
<li><p>Off (0): No dark correction is applied, if the sensor is recognized to have such dark pixels, a tag ‘dark’ is created that contains the mean value of all dark pixels.
If no averaging is enabled, the output format of the dataObject is uint16, else float32. Sensors, that don’t have dark pixels can only be operated in this mode.</p></li>
<li><p>Static (1): The mean value of all dark pixels is subtracted from all pixels. The output format is float32 always (negative values might occur).</p></li>
<li><p>Dynamic (2): Only choose this mode, if the software AvaSpec provides dynamic dark correction for the sensor (see sensor configuration &gt;&gt; checkbox ‘dynamic dark correction’
must be enabled. In this case, odd and even pixels have different dark correction values (they are probably read by different electronics). Choose this mode to
subtract different mean values for even and odd pixels. The tag ‘dark’ still contains the mean of both mean values (0.5 * (mean_even + mean_odd)).</p></li>
</ul>
</section>
<section id="changelog">
<h2><span class="section-number">1.8.7. </span>Changelog<a class="headerlink" href="#changelog" title="Permalink to this heading"></a></h2>
<ul class="simple">
<li><p>itom setup 3.1.0: This plugin has been compiled using the libUSB Plugin</p></li>
<li><p>itom setup 4.1.0: This plugin has been compiled using the libUSB Plugin</p></li>
</ul>
</section>
</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="VRMagic.html" class="btn btn-neutral float-left" title="1.7. VRMagic" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="avtVimba.html" class="btn btn-neutral float-right" title="1.9. AVT Vimba" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2011-2022, Institut fuer Technische Optik (ITO), University Stuttgart. Bug report: https://bitbucket.org/itom/itom/issues.
      <span class="lastupdated">Last updated on Sep 19, 2022.
      </span></p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>