<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" /><meta name="generator" content="Docutils 0.17.1: http://docutils.sourceforge.net/" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>2.7. Thorlabs KCube DC Servo Drive &mdash; itom Documentation</title>
      <link rel="stylesheet" href="../../_static/pygments.css" type="text/css" />
      <link rel="stylesheet" href="../../_static/css/theme.css" type="text/css" />
  <!--[if lt IE 9]>
    <script src="../../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script data-url_root="../../" id="documentation_options" src="../../_static/documentation_options.js"></script>
        <script src="../../_static/jquery.js"></script>
        <script src="../../_static/underscore.js"></script>
        <script src="../../_static/_sphinx_javascript_frameworks_compat.js"></script>
        <script src="../../_static/doctools.js"></script>
    <script src="../../_static/js/theme.js"></script>
    <link rel="index" title="Index" href="../../genindex.html" />
    <link rel="search" title="Search" href="../../search.html" />
    <link rel="next" title="2.8. Thorlabs KCube Inertial Motor" href="ThorlabsKCubeIM.html" />
    <link rel="prev" title="2.6. Thorlabs ISM" href="ThorlabsISM.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
            <a href="../../index.html" class="icon icon-home"> itom Plugins
          </a>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <p class="caption" role="heading"><span class="caption-text">Table of Contents</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../grabbers.html">1. Camera/ Grabber</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="../actuators.html">2. Motors/ Actuators</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="FirgelliLAC.html">2.1. Firgelli LAC</a></li>
<li class="toctree-l2"><a class="reference internal" href="NanotecStepMotor.html">2.2. Nanotec Stepper Motor</a></li>
<li class="toctree-l2"><a class="reference internal" href="SMC100.html">2.3. NewportSMC100</a></li>
<li class="toctree-l2"><a class="reference internal" href="ST8SMC4USB.html">2.4. STANDA 8SMC4-USB</a></li>
<li class="toctree-l2"><a class="reference internal" href="ThorlabsBP.html">2.5. Thorlabs Benchtop Piezo</a></li>
<li class="toctree-l2"><a class="reference internal" href="ThorlabsISM.html">2.6. Thorlabs ISM</a></li>
<li class="toctree-l2 current"><a class="current reference internal" href="#">2.7. Thorlabs KCube DC Servo Drive</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#overview">2.7.1. Overview</a></li>
<li class="toctree-l3"><a class="reference internal" href="#initialization">2.7.2. Initialization</a></li>
<li class="toctree-l3"><a class="reference internal" href="#parameters">2.7.3. Parameters</a></li>
<li class="toctree-l3"><a class="reference internal" href="#usage">2.7.4. Usage</a></li>
<li class="toctree-l3"><a class="reference internal" href="#simulation">2.7.5. Simulation</a></li>
<li class="toctree-l3"><a class="reference internal" href="#compilation">2.7.6. Compilation</a></li>
<li class="toctree-l3"><a class="reference internal" href="#changelog">2.7.7. Changelog</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="ThorlabsKCubeIM.html">2.8. Thorlabs KCube Inertial Motor</a></li>
<li class="toctree-l2"><a class="reference internal" href="aerotechEnsemble.html">2.9. AerotechEnsemble</a></li>
<li class="toctree-l2"><a class="reference internal" href="dummyMotor.html">2.10. DummyMotor</a></li>
<li class="toctree-l2"><a class="reference internal" href="leicaMotorFocus.html">2.11. LeicaMotorFocus</a></li>
<li class="toctree-l2"><a class="reference internal" href="piGCS2.html">2.12. PI GCS2</a></li>
<li class="toctree-l2"><a class="reference internal" href="piPiezoCtrl.html">2.13. PIPiezoCtrl</a></li>
<li class="toctree-l2"><a class="reference internal" href="piezosystemJena_NV40_1.html">2.14. Piezosystem Jena NV40/1 CLE</a></li>
<li class="toctree-l2"><a class="reference internal" href="uhlRegister.html">2.15. Uhl stages (register based)</a></li>
<li class="toctree-l2"><a class="reference internal" href="uhlText.html">2.16. Uhl stages (text based)</a></li>
<li class="toctree-l2"><a class="reference internal" href="usbMotion3XIII.html">2.17. USBMotion3XIII</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../GDIO.html">3. General Data IO</a></li>
<li class="toctree-l1"><a class="reference internal" href="../adconv.html">4. AD-Converters</a></li>
<li class="toctree-l1"><a class="reference internal" href="../algorithms.html">5. Algorithms/ Filters</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../index.html">itom Plugins</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="../../index.html" class="icon icon-home"></a> &raquo;</li>
          <li><a href="../actuators.html"><span class="section-number">2. </span>Motors/ Actuators</a> &raquo;</li>
      <li><span class="section-number">2.7. </span>Thorlabs KCube DC Servo Drive</li>
      <li class="wy-breadcrumbs-aside">
            <a href="../../_sources/plugins/actuators/ThorlabsKCubeDCServo.rst.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="thorlabs-kcube-dc-servo-drive">
<h1><span class="section-number">2.7. </span>Thorlabs KCube DC Servo Drive<a class="headerlink" href="#thorlabs-kcube-dc-servo-drive" title="Permalink to this heading"></a></h1>
<table class="docutils align-default">
<colgroup>
<col style="width: 19%" />
<col style="width: 81%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p><strong>Summary</strong>:</p></td>
<td><p><span>ThorlabsKCubeDCServo</span></p></td>
</tr>
<tr class="row-even"><td><p><strong>Type</strong>:</p></td>
<td><p><span>Actuator</span></p></td>
</tr>
<tr class="row-odd"><td><p><strong>License</strong>:</p></td>
<td><p><span>licensed under LGPL</span></p></td>
</tr>
<tr class="row-even"><td><p><strong>Platforms</strong>:</p></td>
<td><p>Windows</p></td>
</tr>
<tr class="row-odd"><td><p><strong>Devices</strong>:</p></td>
<td><p>K-Cube Controller for Brushed DC Servo Motors, e.g. KDC101</p></td>
</tr>
<tr class="row-even"><td><p><strong>Author</strong>:</p></td>
<td><p><span>M. Gronle, TRUMPF Laser- und Systemtechnik GmbH</span></p></td>
</tr>
</tbody>
</table>
<section id="overview">
<h2><span class="section-number">2.7.1. </span>Overview<a class="headerlink" href="#overview" title="Permalink to this heading"></a></h2>
<p>ThorlabsKCubeDCServo is an acutator plugin to control the following integrated devices from Thorlabs:</p>
<ul class="simple">
<li><p>K-Cube Controller for Brushed DC Servo Motors (e.g. KDC101)</p></li>
</ul>
<p>It requires the new Kinesis driver package from Thorlabs and implements the interface Thorlabs.MotionControl.KCube.DCServo.</p>
<p>Please install the Kinesis driver package in advance with the same bit-version (32/64bit) than itom.</p>
<p>This plugin has been tested with the motorized translation stage MTS25-Z8.</p>
</section>
<section id="initialization">
<h2><span class="section-number">2.7.2. </span>Initialization<a class="headerlink" href="#initialization" title="Permalink to this heading"></a></h2>
<p>The following parameters are mandatory or optional for initializing an instance
of this plugin:</p>
<blockquote>
<div><ul>
<li><dl>
<dt><strong>serialNo</strong>: str, optional</dt><dd><p>Serial number of the device to be loaded, if empty, the first device that can be opened will be opened</p>
<p><em>default: “”</em></p>
</dd>
</dl>
</li>
<li><dl>
<dt><strong>connectToKinesisSimulator</strong>: int, optional</dt><dd><p>If 1, a connection to the running Kinesis Simulator is established before starting to search for devices.</p>
<p><em>Value range: [0, 1], Default: 0</em></p>
</dd>
</dl>
</li>
</ul>
</div></blockquote>
</section>
<section id="parameters">
<h2><span class="section-number">2.7.3. </span>Parameters<a class="headerlink" href="#parameters" title="Permalink to this heading"></a></h2>
<p>These parameters are available and can be used to configure the
<strong>ThorlabsKCubeDCServo</strong> instance. Many of them are directly initialized by the
parameters of the constructor. During the runtime of an instance, the value of
these parameters is obtained by the method <em>getParam</em>, writeable parameters can
be changed using <em>setParam</em>.</p>
<dl class="simple">
<dt><strong>acceleration</strong>: {float}</dt><dd><p>acceleration in real world units (e.g. mm/s^2)</p>
</dd>
<dt><strong>async</strong>: {int}</dt><dd><p>synchronous (0, default) or asychronous (1) mode</p>
</dd>
<dt><strong>deviceName</strong>: {str}, read-only</dt><dd><p>Description of the device</p>
</dd>
<dt><strong>enableAxis</strong>: {int}</dt><dd><p>If enabled (1, default), power is applied to the motor so it is fixed in position. Else
(0), the motor can be freely moved.</p>
</dd>
<dt><strong>firmwareVersion</strong>: {str}, read-only</dt><dd><p>Firmware version of the device</p>
</dd>
<dt><strong>hardwareVersion</strong>: {str}, read-only</dt><dd><p>Hardware version of the device</p>
</dd>
<dt><strong>homingAvailable</strong>: {int}, read-only</dt><dd><p>1 if actuator supports a home drive, else 0</p>
</dd>
<dt><strong>lockFrontPanel</strong>: {int}, read-only</dt><dd><p>1 to lock the front panel, else 0 (default)</p>
</dd>
<dt><strong>name</strong>: {str}, read-only</dt><dd><p>Name of the plugin</p>
</dd>
<dt><strong>numaxis</strong>: {int}, read-only</dt><dd><p>Number of axes</p>
</dd>
<dt><strong>serialNumber</strong>: {str}, read-only</dt><dd><p>Serial number of the device</p>
</dd>
<dt><strong>speed</strong>: {float}</dt><dd><p>speed in real world units (e.g. mm/s)</p>
</dd>
<dt><strong>timeout</strong>: {float}</dt><dd><p>timeout for move operations in sec</p>
</dd>
</dl>
</section>
<section id="usage">
<h2><span class="section-number">2.7.4. </span>Usage<a class="headerlink" href="#usage" title="Permalink to this heading"></a></h2>
<p>This example shows how to initalized the device in <strong>itom</strong> and change the position:</p>
<blockquote>
<div><div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">serialNo</span> <span class="o">=</span> <span class="mi">2700001</span>
<span class="n">mot</span> <span class="o">=</span> <span class="n">dataIO</span><span class="p">(</span><span class="s2">&quot;ThorlabsKCubeDCServo&quot;</span><span class="p">,</span> <span class="n">serialNo</span> <span class="o">=</span> <span class="n">serialNo</span><span class="p">)</span>

<span class="c1"># execute a home drive to get the zero position</span>
<span class="n">mot</span><span class="o">.</span><span class="n">calib</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>

<span class="n">mot</span><span class="o">.</span><span class="n">setParam</span><span class="p">(</span><span class="s2">&quot;speed&quot;</span><span class="p">,</span> <span class="mf">2.5</span><span class="p">)</span> <span class="c1"># 2.5 mm/s</span>

<span class="n">mot</span><span class="o">.</span><span class="n">setPosAbs</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">25</span><span class="p">)</span>  <span class="c1"># move to the absolute position 25 mm</span>
<span class="n">mot</span><span class="o">.</span><span class="n">setOrigin</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>  <span class="c1"># sets the current position to be &#39;0&#39;.</span>
<span class="n">mot</span><span class="o">.</span><span class="n">setPosAbs</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="o">-</span><span class="mi">25</span><span class="p">)</span>  <span class="c1"># moves back to the original position</span>
<span class="n">mot</span><span class="o">.</span><span class="n">setPosRel</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mf">0.01</span><span class="p">)</span>  <span class="c1"># moves by 10 micrometer</span>
<span class="nb">print</span><span class="p">(</span><span class="n">mot</span><span class="o">.</span><span class="n">getPos</span><span class="p">(</span><span class="mi">0</span><span class="p">))</span>  <span class="c1"># returns the position of the axis</span>
</pre></div>
</div>
</div></blockquote>
</section>
<section id="simulation">
<h2><span class="section-number">2.7.5. </span>Simulation<a class="headerlink" href="#simulation" title="Permalink to this heading"></a></h2>
<p>It is possible to test this plugin based on a simulated controller. To do this,
start the Kinesis Simulator first and add a KDC101 DC Servo Drive device. Then,
start the itom plugin and set the initial parameter <code class="docutils literal notranslate"><span class="pre">connectToKinesisSimulator</span></code>.</p>
<p>Usually, modern Thorlabs controllers can automatically request necessary hardware parameters
from the connected stage. However, if the load-setting command returns with
a warning at startup, this failed and all units are in device units only (not
in physical units). In order to overcome this, especially in simulated environments,
you have to open the simulated stage (using Kinesis Simulator) at least once
with the real Kinesis Software. This software is also able to connect to the
simulator, and there, you can bind a real stage to the controller with a certain
serial ID. After having done this one time on the computer, the itom plugin
should properly load the controller and device with the same serial number.</p>
</section>
<section id="compilation">
<h2><span class="section-number">2.7.6. </span>Compilation<a class="headerlink" href="#compilation" title="Permalink to this heading"></a></h2>
<p>To compile this plugin, install the Thorlabs KINESIS driver package in the same
bit-version than itom (32/64bit). Then set the CMake variable
<strong>THORLABS_KINESIS_DIRECTORY</strong> to the base directory of Kinesis
(e.g. C:/Program Files/Thorlabs/Kinesis).
The required libraries from Kinesis will automatically be copied to the <em>lib</em>
folder of itom. Do not use Kinesis 1.6.0 or below for compiling this plugin.</p>
<p>Kinesis 1.7.0 requires the Microsoft C++ Redistributable 2012.</p>
</section>
<section id="changelog">
<h2><span class="section-number">2.7.7. </span>Changelog<a class="headerlink" href="#changelog" title="Permalink to this heading"></a></h2>
<ul class="simple">
<li><p>itom setup 5.0.0: This plugin has been compiled with Thorlabs Kinesis 1.14.28.</p></li>
</ul>
</section>
</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="ThorlabsISM.html" class="btn btn-neutral float-left" title="2.6. Thorlabs ISM" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="ThorlabsKCubeIM.html" class="btn btn-neutral float-right" title="2.8. Thorlabs KCube Inertial Motor" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2011-2022, Institut fuer Technische Optik (ITO), University Stuttgart. Bug report: https://bitbucket.org/itom/itom/issues.
      <span class="lastupdated">Last updated on Jul 15, 2022.
      </span></p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>