<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>Build on linux &mdash; itom Documentation</title>
    
    <link rel="stylesheet" href="../_static/nature.css" type="text/css" />
    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    <link rel="stylesheet" href="../_static/breathe.css" type="text/css" />
    <link rel="stylesheet" href="../_static/breathe.css" type="text/css" />
    <link rel="stylesheet" href="../_static/breathe.css" type="text/css" />
    <link rel="stylesheet" href="../_static/breathe.css" type="text/css" />
    <link rel="stylesheet" href="../_static/breathe.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../',
        VERSION:     'e23e20f',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="../_static/jquery.js"></script>
    <script type="text/javascript" src="../_static/underscore.js"></script>
    <script type="text/javascript" src="../_static/doctools.js"></script>
    <link rel="top" title="itom Documentation" href="../index.html" />
    <link rel="up" title="Installation" href="install.html" />
    <link rel="next" title="Build documentation" href="build_documentation.html" />
    <link rel="prev" title="Build with CMake" href="build_cmake.html" /> 
  </head>
  <body>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="../py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="build_documentation.html" title="Build documentation"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="build_cmake.html" title="Build with CMake"
             accesskey="P">previous</a> |</li>
        <li><a href="../index.html">itom</a> &raquo;</li>
          <li><a href="../structure.html" >Structure of the manual</a> &raquo;</li>
          <li><a href="install.html" accesskey="U">Installation</a> &raquo;</li> 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body">
            
  <div class="section" id="build-on-linux">
<h1>Build on linux<a class="headerlink" href="#build-on-linux" title="Permalink to this headline">¶</a></h1>
<p>This section describes how <strong>itom</strong> and its plugins are built on a linux system (tested on Ubuntu 12.04 (32bit), Kubuntu (Debian, KDE, 64bit) and Lubuntu). The general approach is similar to the other documentation in the install chapter that are mainly focussed on Windows.</p>
<div class="section" id="necessary-packages">
<h2>Necessary packages<a class="headerlink" href="#necessary-packages" title="Permalink to this headline">¶</a></h2>
<p>Most necessary packages can be obtained by the package manager of your solution (Synaptic Package Manager, command <em>sudo apt-get</em>...).
The following list describe packages that are required or recommended for building <strong>itom</strong>:</p>
<p>Required:</p>
<ul class="simple">
<li><strong>Qt 4</strong> (libqtcore4, libqt4-dev, libqt4-...)</li>
<li>Editor <strong>QScintilla</strong> (libqscintilla2-8 or similar, libqscintilla2-dev)</li>
<li><strong>OpenCV</strong> (libopencv-core2.3 or libopencv-core2.4, libopencv-core-dev, libopencv-imgproc, libopencv-highgui...)</li>
<li><strong>Python3</strong> (python3, python3-dev, python3-dbg)</li>
<li><strong>Numpy</strong> (python3-numpy, python3-numpy-dbg)</li>
<li><strong>git</strong> (git)</li>
<li><strong>Cmake</strong> (cmake, cmake-gui)</li>
</ul>
<p>Recommended (optional):</p>
<ul class="simple">
<li>The IDE <strong>QtCreator</strong> (qtcreator)</li>
<li><strong>PointCloudLibrary</strong> (if exists version 1.6 or better 1.7, else see <a class="reference external" href="http://pointclouds.org/downloads/linux.html">http://pointclouds.org/downloads/linux.html</a> or build it on your own, the point cloud library is optional!)</li>
<li><strong>Scipy</strong> (python3-scipy, python3-scipy-dbg), <strong>Sphinx</strong> (python3-sphinx), <strong>Matplotlib</strong></li>
<li><strong>Doxygen</strong> (doxygen, doxygen-gui)</li>
<li>Any git client (e.g. SmartGit (requires java) or git-cola)</li>
<li>glew (libglew1.6-dev or something similar, required by some plugins)</li>
<li>fftw (libfftw3-dev or something similar, required by some plugins)</li>
</ul>
<p>for Ubuntu 12.04 based distributions the following command should install all necessary packages and its dependencies:</p>
<div class="highlight-bash"><div class="highlight"><pre>sudo apt-get install git libqt4-dev libopencv-dev libopencv-highgui-dev python3-dev python3-dbg qtcreator libqscintilla2-dev python3-scipy-dbg python3-sphinx doxygen-gui libglew-dev cmake-gui qt4-dev-tools libcv-dev libhighgui-dev
</pre></div>
</div>
</div>
<div class="section" id="recommended-folder-structure">
<h2>Recommended folder structure<a class="headerlink" href="#recommended-folder-structure" title="Permalink to this headline">¶</a></h2>
<p>Similar to Windows, the following folder structure is recommended:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="o">./</span><span class="n">sources</span>
    <span class="o">./</span><span class="n">itom</span>    <span class="c"># cloned repository of core</span>
    <span class="o">./</span><span class="n">plugins</span> <span class="c"># cloned sources of plugins</span>
    <span class="o">./</span><span class="n">designerPlugins</span> <span class="c"># cloned sources of designerPlugins</span>
    <span class="o">...</span>
<span class="o">./</span><span class="n">build_debug</span> <span class="c"># build folder for debug makefiles of...</span>
    <span class="o">./</span><span class="n">itom</span>    <span class="c"># ...core</span>
    <span class="o">./</span><span class="n">plugins</span> <span class="c"># ...plugins</span>
    <span class="o">...</span>
<span class="o">./</span><span class="n">build_release</span> <span class="c"># build folder for release makefiles of...</span>
    <span class="o">./</span><span class="n">itom</span>      <span class="c"># ...core</span>
    <span class="o">...</span>
</pre></div>
</div>
<p>Under linux, the debug and release versions are separated in two different build folders. If you are using QtCreator as IDE you can however create two different configurations, one mapping to the debug build folder, the other mapping ot the release build folder. Both use the same source folder.</p>
</div>
<div class="section" id="obtain-the-sources">
<h2>Obtain the sources<a class="headerlink" href="#obtain-the-sources" title="Permalink to this headline">¶</a></h2>
<p>Clone at least the core repository of <strong>itom</strong> (bitbucket.org/itom/itom) as well as the open source plugin and designerPlugin repository into the corresponding subfolders of the <strong>sources</strong> folder. You can do this by using any git client or the command <strong>git clone https://bitbucket.org/itom/itom</strong>).</p>
</div>
<div class="section" id="configuration-process">
<h2>Configuration process<a class="headerlink" href="#configuration-process" title="Permalink to this headline">¶</a></h2>
<p>Use <strong>CMake</strong> to create the necessary makefiles for debug and/or release:</p>
<ol class="arabic">
<li><p class="first">Indicate the folder <strong>sources/itom</strong> as source folder</p>
</li>
<li><p class="first">Indicate either the folder <strong>build_debug/itom</strong> or <strong>build_release/itom</strong> as build folder. If the build folder already contains configured makefiles, the last configuration will automatically loaded into the CMake gui.</p>
</li>
<li><p class="first">Set the following variables:</p>
<blockquote>
<div><ul class="simple">
<li><strong>CMAKE_BUILD_TYPE</strong> to either <strong>debug</strong> or <strong>release</strong></li>
<li><strong>BUILD_TARGET64</strong> to ON if you want to build a 64bit version.</li>
<li><strong>BUILD_UNICODE</strong> to ON if you want to build with unicode support (recommended)</li>
<li><strong>BUILD_WITH_PCL</strong> to ON if you have the point cloud library available on your computer and want to compile <strong>itom</strong> with support for point clouds and polygon meshes.</li>
</ul>
</div></blockquote>
</li>
<li><p class="first">Push the configure button</p>
</li>
<li><p class="first">Usually, CMake should find most of the necessary third-party libraries, however you should check the following things:</p>
<blockquote>
<div><ul class="simple">
<li>OpenCV: OpenCV is located by the file <strong>OpenCVConfig.cmake</strong> in the directory <strong>OpenCV_DIR</strong>. Usually this is automatically detected in <strong>usr/share/OpenCV</strong>. If this is not the case, set <strong>OpenCV_DIR</strong> to the correct directory and press configure.</li>
<li>Python3: On some linux distributions, CMake always finds the Python version 2 as default version. This is wrong. Therefore set the following variables to the right pathes: PYTHON_EXECUTABLE to /usr/bin/python3.2, PYTHON_INCLUDE_DIR to /usr/include/python3.2, PYTHON_LIBRARY to /usr/lib/libpython3.2mu.so.1.0 . The suffix 1.0 might also be different. It is also supported to use any other version of Python 3.</li>
</ul>
</div></blockquote>
</li>
<li><p class="first">Push the configure button again and then generate.</p>
</li>
<li><p class="first">Now you can build <strong>itom</strong> by the <strong>make</strong> command or using <strong>QtDesigner</strong>:</p>
<blockquote>
<div><ul class="simple">
<li><strong>make</strong>: Open a command line and switch to the <strong>build_debug/itom</strong> directory. Simply call <strong>make</strong> such that the file <strong>qitom</strong> or <strong>qitomd</strong> (debug) is built. Start this application in order to run <strong>itom</strong>.</li>
<li><strong>QtCreator</strong>: Open QtCreator and open a new project. Indicate the file <strong>CMakeList.txt</strong> of <strong>sources/itom</strong> as project file. Now QtCreator asks where to build the binaries. Indicate the existing and pre-configured directory <strong>build_debug/itom</strong> or <strong>build_release/itom</strong>. The existing CMake cache files will be read and you can simply run CMake from QtCreator that should not fail. If so, re-open CMake and fix it. In the project settings of QtCreator you can finally clone the current configuration and indicate the second build-folder for the release version.</li>
</ul>
</div></blockquote>
</li>
</ol>
</div>
<div class="section" id="build-plugins">
<h2>Build plugins<a class="headerlink" href="#build-plugins" title="Permalink to this headline">¶</a></h2>
<p>Build the plugins, designerPlugins... in the same way than <strong>itom</strong> but make sure that you compiled <strong>itom</strong> at least once before you start configuring and compiling any plugin. In CMake, you need to indicate the same variables than above, but you also need to set the variable <strong>ITOM_DIR_SDK</strong> to the <strong>sdk</strong> folder in <strong>build_debug/itom/sdk</strong> or <strong>build_release/itom/sdk</strong> depending whether you want to compile a debug or release version (please don&#8217;t forget to set <strong>CMAKE_BUILD_TYPE</strong>.</p>
<p>If you don&#8217;t want to have some of the plugins, simply uncheck them in CMake under the group <strong>Plugin</strong>.</p>
<p>The plugins and designerPlugins will finally be compiled and then copy their resulting library files into the <strong>designer</strong> and <strong>plugins</strong> subfolder of <strong>itom</strong>. Restart <strong>itom</strong> and you the plugin will be loaded.</p>
</div>
</div>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar">
        <div class="sphinxsidebarwrapper">
  <h3><a href="../index.html">Table Of Contents</a></h3>
  <ul>
<li><a class="reference internal" href="#">Build on linux</a><ul>
<li><a class="reference internal" href="#necessary-packages">Necessary packages</a></li>
<li><a class="reference internal" href="#recommended-folder-structure">Recommended folder structure</a></li>
<li><a class="reference internal" href="#obtain-the-sources">Obtain the sources</a></li>
<li><a class="reference internal" href="#configuration-process">Configuration process</a></li>
<li><a class="reference internal" href="#build-plugins">Build plugins</a></li>
</ul>
</li>
</ul>

  <h4>Previous topic</h4>
  <p class="topless"><a href="build_cmake.html"
                        title="previous chapter">Build with <strong>CMake</strong></a></p>
  <h4>Next topic</h4>
  <p class="topless"><a href="build_documentation.html"
                        title="next chapter">Build documentation</a></p>
  <h3>This Page</h3>
  <ul class="this-page-menu">
    <li><a href="../_sources/02_installation/build_linux.txt"
           rel="nofollow">Show Source</a></li>
  </ul>
<div id="searchbox" style="display: none">
  <h3>Quick search</h3>
    <form class="search" action="../search.html" method="get">
      <input type="text" name="q" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    <p class="searchtip" style="font-size: 90%">
    Enter search terms or a module, class or function name.
    </p>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="../py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="build_documentation.html" title="Build documentation"
             >next</a> |</li>
        <li class="right" >
          <a href="build_cmake.html" title="Build with CMake"
             >previous</a> |</li>
        <li><a href="../index.html">itom</a> &raquo;</li>
          <li><a href="../structure.html" >Structure of the manual</a> &raquo;</li>
          <li><a href="install.html" >Installation</a> &raquo;</li> 
      </ul>
    </div>
    <div class="footer">
        &copy; Copyright 2011-2013, Institut fuer Technische Optik (ITO), University Stuttgart. Bug report: https://bitbucket.org/itom/itom/issues.
      Last updated on Jun 22, 2014.
      Created using <a href="http://sphinx-doc.org/">Sphinx</a> 1.2.2.
    </div>
  </body>
</html>