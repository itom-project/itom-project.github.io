
<!DOCTYPE html>


<html lang="en" data-content_root="../" >

  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="viewport" content="width=device-width, initial-scale=1" />

    <title>9.5. Python package matplotlib &#8212; itom Documentation</title>



  <script data-cfasync="false">
    document.documentElement.dataset.mode = localStorage.getItem("mode") || "";
    document.documentElement.dataset.theme = localStorage.getItem("theme") || "";
  </script>

  <!-- Loaded before other Sphinx assets -->
  <link href="../_static/styles/theme.css?digest=dfe6caa3a7d634c4db9b" rel="stylesheet" />
<link href="../_static/styles/bootstrap.css?digest=dfe6caa3a7d634c4db9b" rel="stylesheet" />
<link href="../_static/styles/pydata-sphinx-theme.css?digest=dfe6caa3a7d634c4db9b" rel="stylesheet" />


  <link href="../_static/vendor/fontawesome/6.5.2/css/all.min.css?digest=dfe6caa3a7d634c4db9b" rel="stylesheet" />
  <link rel="preload" as="font" type="font/woff2" crossorigin href="../_static/vendor/fontawesome/6.5.2/webfonts/fa-solid-900.woff2" />
<link rel="preload" as="font" type="font/woff2" crossorigin href="../_static/vendor/fontawesome/6.5.2/webfonts/fa-brands-400.woff2" />
<link rel="preload" as="font" type="font/woff2" crossorigin href="../_static/vendor/fontawesome/6.5.2/webfonts/fa-regular-400.woff2" />

    <link rel="stylesheet" type="text/css" href="../_static/pygments.css?v=fa44fd50" />
    <link rel="stylesheet" type="text/css" href="../_static/copybutton.css?v=76b2166b" />
    <link rel="stylesheet" type="text/css" href="../_static/sg_gallery.css?v=d2d258e8" />
    <link rel="stylesheet" type="text/css" href="../_static/sg_gallery-binder.css?v=f4aeca0c" />
    <link rel="stylesheet" type="text/css" href="../_static/sg_gallery-dataframe.css?v=2082cf3c" />
    <link rel="stylesheet" type="text/css" href="../_static/sg_gallery-rendered-html.css?v=1277b6f3" />
    <link rel="stylesheet" type="text/css" href="../_static/html.css?v=a585cee4" />

  <!-- Pre-loaded scripts that we'll load fully later -->
  <link rel="preload" as="script" href="../_static/scripts/bootstrap.js?digest=dfe6caa3a7d634c4db9b" />
<link rel="preload" as="script" href="../_static/scripts/pydata-sphinx-theme.js?digest=dfe6caa3a7d634c4db9b" />
  <script src="../_static/vendor/fontawesome/6.5.2/js/all.min.js?digest=dfe6caa3a7d634c4db9b"></script>

    <script src="../_static/documentation_options.js?v=bf0e8745"></script>
    <script src="../_static/doctools.js?v=9bcbadda"></script>
    <script src="../_static/sphinx_highlight.js?v=dc90522c"></script>
    <script src="../_static/clipboard.min.js?v=a7894cd8"></script>
    <script src="../_static/copybutton.js?v=f281be69"></script>
    <script>DOCUMENTATION_OPTIONS.pagename = '08_scriptLanguage/pymod-matplotlib';</script>
    <link rel="icon" href="../_static/itomLogo3_128.png"/>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="9.6. Python package plotly" href="pymod-plotly.html" />
    <link rel="prev" title="9.4. Popular Python packages" href="pymod-popular-python-packages.html" />
  <meta name="viewport" content="width=device-width, initial-scale=1"/>
  <meta name="docsearch:language" content="en"/>
    <meta name="docbuild:last-update" content="Nov 12, 2024"/>
  </head>


  <body data-bs-spy="scroll" data-bs-target=".bd-toc-nav" data-offset="180" data-bs-root-margin="0px 0px -60%" data-default-mode="">



  <div id="pst-skip-link" class="skip-link d-print-none"><a href="#main-content">Skip to main content</a></div>

  <div id="pst-scroll-pixel-helper"></div>

  <button type="button" class="btn rounded-pill" id="pst-back-to-top">
    <i class="fa-solid fa-arrow-up"></i>Back to top</button>


  <input type="checkbox"
          class="sidebar-toggle"
          id="pst-primary-sidebar-checkbox"/>
  <label class="overlay overlay-primary" for="pst-primary-sidebar-checkbox"></label>

  <input type="checkbox"
          class="sidebar-toggle"
          id="pst-secondary-sidebar-checkbox"/>
  <label class="overlay overlay-secondary" for="pst-secondary-sidebar-checkbox"></label>

  <div class="search-button__wrapper">
    <div class="search-button__overlay"></div>
    <div class="search-button__search-container">
<form class="bd-search d-flex align-items-center"
      action="../search.html"
      method="get">
  <i class="fa-solid fa-magnifying-glass"></i>
  <input type="search"
         class="form-control"
         name="q"
         id="search-input"
         placeholder="Search the docs ..."
         aria-label="Search the docs ..."
         autocomplete="off"
         autocorrect="off"
         autocapitalize="off"
         spellcheck="false"/>
  <span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd>K</kbd></span>
</form></div>
  </div>

  <div class="pst-async-banner-revealer d-none">
  <aside id="bd-header-version-warning" class="d-none d-print-none" aria-label="Version warning"></aside>
</div>


    <header class="bd-header navbar navbar-expand-lg bd-navbar d-print-none">
<div class="bd-header__inner bd-page-width">
  <button class="pst-navbar-icon sidebar-toggle primary-toggle" aria-label="Site navigation">
    <span class="fa-solid fa-bars"></span>
  </button>


  <div class="col-lg-3 navbar-header-items__start">

      <div class="navbar-item">





<a class="navbar-brand logo" href="../index.html">










    <img src="../_static/itomLogo3_128.png" class="logo__image only-light" alt="itom Documentation - Home"/>
    <script>document.write(`<img src="../_static/itomLogo3_128.png" class="logo__image only-dark" alt="itom Documentation - Home"/>`);</script>


</a></div>

  </div>

  <div class="col-lg-9 navbar-header-items">

    <div class="me-auto navbar-header-items__center">

        <div class="navbar-item">
<nav>
  <ul class="bd-navbar-elements navbar-nav">

<li class="nav-item ">
  <a class="nav-link nav-internal" href="../00_releaseNotes/whats-new.html">
    Changelog
  </a>
</li>


<li class="nav-item ">
  <a class="nav-link nav-internal" href="../01_introduction/introduction.html">
    Introduction
  </a>
</li>


<li class="nav-item ">
  <a class="nav-link nav-internal" href="../02_installation/install.html">
    Installation
  </a>
</li>


<li class="nav-item ">
  <a class="nav-link nav-internal" href="../03_gettingStarted/getting-started.html">
    Getting Started
  </a>
</li>


<li class="nav-item ">
  <a class="nav-link nav-internal" href="../04_itom_gui/gui.html">
    The itom User Interface
  </a>
</li>

            <li class="nav-item dropdown">
                <button class="btn dropdown-toggle nav-item" type="button" data-bs-toggle="dropdown" aria-expanded="false" aria-controls="pst-nav-more-links">
                    More
                </button>
                <ul id="pst-nav-more-links" class="dropdown-menu">

<li class=" ">
  <a class="nav-link dropdown-item nav-internal" href="../05_plots/plots.html">
    Plots and Figures
  </a>
</li>


<li class=" ">
  <a class="nav-link dropdown-item nav-internal" href="../06_extended_gui/extended_gui.html">
    Extending the user interface of itom
  </a>
</li>


<li class=" ">
  <a class="nav-link dropdown-item nav-internal" href="../07_plugins/plugins.html">
    Plugins
  </a>
</li>


<li class=" current active">
  <a class="nav-link dropdown-item nav-internal" href="script-language.html">
    Python Scripting Language
  </a>
</li>


<li class=" ">
  <a class="nav-link dropdown-item nav-internal" href="../09_reference/reference.html">
    itom Script Reference
  </a>
</li>


<li class=" ">
  <a class="nav-link dropdown-item nav-internal" href="../10_miscellaneous/miscellaneous.html">
    Miscellaneous
  </a>
</li>


<li class=" ">
  <a class="nav-link dropdown-item nav-internal" href="../11_demos/demos.html">
    Demo scripts
  </a>
</li>


<li class=" ">
  <a class="nav-link dropdown-item nav-internal" href="../12_contributing/contributing.html">
    Contributing
  </a>
</li>

                </ul>
            </li>

  </ul>
</nav></div>

    </div>


    <div class="navbar-header-items__end">

        <div class="navbar-item navbar-persistent--container">


 <script>
 document.write(`
   <button class="btn search-button-field search-button__button" title="Search" aria-label="Search" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <i class="fa-solid fa-magnifying-glass"></i>
    <span class="search-button__default-text">Search</span>
    <span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd class="kbd-shortcut__modifier">K</kbd></span>
   </button>
 `);
 </script>
        </div>


        <div class="navbar-item">

<script>
document.write(`
  <button class="btn btn-sm nav-link pst-navbar-icon theme-switch-button" title="light/dark" aria-label="light/dark" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <i class="theme-switch fa-solid fa-sun fa-lg" data-mode="light"></i>
    <i class="theme-switch fa-solid fa-moon fa-lg" data-mode="dark"></i>
    <i class="theme-switch fa-solid fa-circle-half-stroke fa-lg" data-mode="auto"></i>
  </button>
`);
</script></div>

        <div class="navbar-item"><ul class="navbar-icon-links"
    aria-label="Icon Links">
        <li class="nav-item">








          <a href="https://github.com/itom-project" title="GitHub" class="nav-link pst-navbar-icon" rel="noopener" target="_blank" data-bs-toggle="tooltip" data-bs-placement="bottom"><i class="fa-brands fa-github fa-lg" aria-hidden="true"></i>
            <span class="sr-only">GitHub</span></a>
        </li>
        <li class="nav-item">








          <a href="https://www.ito.uni-stuttgart.de/" title="ITO" class="nav-link pst-navbar-icon" rel="noopener" target="_blank" data-bs-toggle="tooltip" data-bs-placement="bottom"><img src="../_static/ITO_Logo_neu_II.png" class="icon-link-image" alt="ITO"/></a>
        </li>
</ul></div>

    </div>

  </div>


    <div class="navbar-persistent--mobile">

 <script>
 document.write(`
   <button class="btn search-button-field search-button__button" title="Search" aria-label="Search" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <i class="fa-solid fa-magnifying-glass"></i>
    <span class="search-button__default-text">Search</span>
    <span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd class="kbd-shortcut__modifier">K</kbd></span>
   </button>
 `);
 </script>
    </div>



    <button class="pst-navbar-icon sidebar-toggle secondary-toggle" aria-label="On this page">
      <span class="fa-solid fa-outdent"></span>
    </button>

</div>

    </header>


  <div class="bd-container">
    <div class="bd-container__inner bd-page-width">



      <div class="bd-sidebar-primary bd-sidebar">



  <div class="sidebar-header-items sidebar-primary__section">


      <div class="sidebar-header-items__center">



            <div class="navbar-item">
<nav>
  <ul class="bd-navbar-elements navbar-nav">

<li class="nav-item ">
  <a class="nav-link nav-internal" href="../00_releaseNotes/whats-new.html">
    Changelog
  </a>
</li>


<li class="nav-item ">
  <a class="nav-link nav-internal" href="../01_introduction/introduction.html">
    Introduction
  </a>
</li>


<li class="nav-item ">
  <a class="nav-link nav-internal" href="../02_installation/install.html">
    Installation
  </a>
</li>


<li class="nav-item ">
  <a class="nav-link nav-internal" href="../03_gettingStarted/getting-started.html">
    Getting Started
  </a>
</li>


<li class="nav-item ">
  <a class="nav-link nav-internal" href="../04_itom_gui/gui.html">
    The itom User Interface
  </a>
</li>


<li class="nav-item ">
  <a class="nav-link nav-internal" href="../05_plots/plots.html">
    Plots and Figures
  </a>
</li>


<li class="nav-item ">
  <a class="nav-link nav-internal" href="../06_extended_gui/extended_gui.html">
    Extending the user interface of itom
  </a>
</li>


<li class="nav-item ">
  <a class="nav-link nav-internal" href="../07_plugins/plugins.html">
    Plugins
  </a>
</li>


<li class="nav-item current active">
  <a class="nav-link nav-internal" href="script-language.html">
    Python Scripting Language
  </a>
</li>


<li class="nav-item ">
  <a class="nav-link nav-internal" href="../09_reference/reference.html">
    itom Script Reference
  </a>
</li>


<li class="nav-item ">
  <a class="nav-link nav-internal" href="../10_miscellaneous/miscellaneous.html">
    Miscellaneous
  </a>
</li>


<li class="nav-item ">
  <a class="nav-link nav-internal" href="../11_demos/demos.html">
    Demo scripts
  </a>
</li>


<li class="nav-item ">
  <a class="nav-link nav-internal" href="../12_contributing/contributing.html">
    Contributing
  </a>
</li>

  </ul>
</nav></div>


      </div>



      <div class="sidebar-header-items__end">

          <div class="navbar-item">

<script>
document.write(`
  <button class="btn btn-sm nav-link pst-navbar-icon theme-switch-button" title="light/dark" aria-label="light/dark" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <i class="theme-switch fa-solid fa-sun fa-lg" data-mode="light"></i>
    <i class="theme-switch fa-solid fa-moon fa-lg" data-mode="dark"></i>
    <i class="theme-switch fa-solid fa-circle-half-stroke fa-lg" data-mode="auto"></i>
  </button>
`);
</script></div>

          <div class="navbar-item"><ul class="navbar-icon-links"
    aria-label="Icon Links">
        <li class="nav-item">








          <a href="https://github.com/itom-project" title="GitHub" class="nav-link pst-navbar-icon" rel="noopener" target="_blank" data-bs-toggle="tooltip" data-bs-placement="bottom"><i class="fa-brands fa-github fa-lg" aria-hidden="true"></i>
            <span class="sr-only">GitHub</span></a>
        </li>
        <li class="nav-item">








          <a href="https://www.ito.uni-stuttgart.de/" title="ITO" class="nav-link pst-navbar-icon" rel="noopener" target="_blank" data-bs-toggle="tooltip" data-bs-placement="bottom"><img src="../_static/ITO_Logo_neu_II.png" class="icon-link-image" alt="ITO"/></a>
        </li>
</ul></div>

      </div>

  </div>

    <div class="sidebar-primary-items__start sidebar-primary__section">
        <div class="sidebar-primary-item">
<nav class="bd-docs-nav bd-links"
     aria-label="Section Navigation">
  <p class="bd-links__title" role="heading" aria-level="1">Section Navigation</p>
  <div class="bd-toc-item navbar-nav"><ul class="current nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="pymod-itom.html">9.1. Python-Module <strong>itom</strong></a></li>
<li class="toctree-l1"><a class="reference internal" href="pymod-dataObject.html">9.2. Array class DataObject</a></li>
<li class="toctree-l1"><a class="reference internal" href="pymod-load-save-files.html">9.3. Save and load images and other files</a></li>
<li class="toctree-l1"><a class="reference internal" href="pymod-popular-python-packages.html">9.4. Popular Python packages</a></li>
<li class="toctree-l1 current active"><a class="current reference internal" href="#">9.5. Python package matplotlib</a></li>
<li class="toctree-l1"><a class="reference internal" href="pymod-plotly.html">9.6. Python package plotly</a></li>
<li class="toctree-l1"><a class="reference internal" href="pymod-matlab.html">9.7. Python-Module matlab</a></li>
<li class="toctree-l1"><a class="reference internal" href="pymod-reload-modules.html">9.8. Reload modified modules</a></li>
<li class="toctree-l1"><a class="reference internal" href="pymod-limitations.html">9.9. Python Limitations in <strong>itom</strong></a></li>
<li class="toctree-l1"><a class="reference internal" href="pymod-problems-and-solutions.html">9.10. Python - common problems and solutions</a></li>
<li class="toctree-l1"><a class="reference internal" href="pytutorial.html">9.11. Python tutorial</a></li>
</ul>
</div>
</nav></div>
    </div>


  <div class="sidebar-primary-items__end sidebar-primary__section">
  </div>

  <div id="rtd-footer-container"></div>


      </div>

      <main id="main-content" class="bd-main" role="main">


          <div class="bd-content">
            <div class="bd-article-container">

              <div class="bd-header-article d-print-none">
<div class="header-article-items header-article__inner">

    <div class="header-article-items__start">

        <div class="header-article-item">



<nav aria-label="Breadcrumb" class="d-print-none">
  <ul class="bd-breadcrumbs">

    <li class="breadcrumb-item breadcrumb-home">
      <a href="../index.html" class="nav-link" aria-label="Home">
        <i class="fa-solid fa-home"></i>
      </a>
    </li>

    <li class="breadcrumb-item"><a href="script-language.html" class="nav-link"><span class="section-number">9. </span>Python Scripting Language</a></li>

    <li class="breadcrumb-item active" aria-current="page"><span...</li>
  </ul>
</nav>
</div>

    </div>


</div>
</div>




<div id="searchbox"></div>
                <article class="bd-article">

  <section id="python-package-matplotlib">
<span id="pymod-matplotlib"></span><h1><span class="section-number">9.5. </span>Python package matplotlib<a class="headerlink" href="#python-package-matplotlib" title="Link to this heading">#</a></h1>
<p>The package <strong>matplotlib</strong> can be used in order to create two or three dimensional plots like in these examples:</p>
<figure class="align-center">
<a class="reference internal image-reference" href="../_images/matplotlib_intro.png"><img alt="../_images/matplotlib_intro.png" src="../_images/matplotlib_intro.png" style="width: 854.0px; height: 278.0px;" />
</a>
</figure>
<p>Since the internal plotting methods of <strong>itom</strong> mainly provide display widgets for plotting matrix contents and images, <strong>matplotlib</strong> can be
used for plotting other types of graphics like graphs, line plots, bars… A huge list of examples can be found under <a class="reference external" href="http://matplotlib.org/gallery.html">http://matplotlib.org/gallery.html</a>.</p>
<section id="set-matplotlib-backend-to-itom">
<h2><span class="section-number">9.5.1. </span>Set Matplotlib backend to itom<a class="headerlink" href="#set-matplotlib-backend-to-itom" title="Link to this heading">#</a></h2>
<p><strong>Matplotlib 1.4.x or lower</strong></p>
<p>In order to render the output of <strong>matplotlib</strong> into an <strong>itom</strong> window or a user interface generated by <strong>itom</strong> (see <a class="reference internal" href="../06_extended_gui/qtdesigner.html#qtdesigner"><span class="std std-ref">Creating customized dialogs, windows and dock widgets</span></a>), you need to write the following
command before importing any module of the package <strong>matplotlib</strong>:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">matplotlib</span>
<span class="n">matplotlib</span><span class="o">.</span><span class="n">use</span><span class="p">(</span><span class="s1">&#39;module://mpl_itom.backend_itomagg&#39;</span><span class="p">,</span><span class="kc">False</span><span class="p">)</span>
</pre></div>
</div>
<p>Alternatively, you can always configure <strong>matplotlib</strong> to render its output in <strong>itom</strong> windows. Therefore, <strong>itom</strong> internally has an environment variable <strong>MPLCONFIGDIR</strong> that
points to the directory:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">itom</span><span class="o">-</span><span class="n">packages</span><span class="o">/</span><span class="n">mpl_itom</span>
</pre></div>
</div>
<p>of your <strong>itom</strong> installation (or build-folder if self-compiled). Place a copy of the matplotlib config file <strong>matplotlibrc</strong> into
this directory and modify the variable <strong>backend</strong> to <strong>module://mpl_itom.backend_itomagg</strong>.</p>
<p>A template for the configuration file can be either found in the Python subfolder <strong>[PythonDir]/Lib/site-packages/matplotlib/mpl-data</strong> or under <a class="reference external" href="http://matplotlib.org/_static/matplotlibrc">http://matplotlib.org/_static/matplotlibrc</a>.</p>
<p>This is the part you need to change:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="c1"># the default backend; one of GTK GTKAgg GTKCairo GTK3Agg GTK3Cairo</span>
<span class="c1"># CocoaAgg MacOSX Qt4Agg TkAgg WX WXAgg Agg Cairo GDK PS PDF SVG</span>
<span class="c1"># Template</span>
<span class="c1"># You can also deploy your own backend outside of matplotlib by</span>
<span class="c1"># referring to the module name (which must be in the PYTHONPATH) as</span>
<span class="c1"># &#39;module://my_backend&#39;</span>
<span class="n">backend</span>      <span class="p">:</span> <span class="n">module</span><span class="p">:</span><span class="o">//</span><span class="n">mpl_itom</span><span class="o">.</span><span class="n">backend_itomagg</span>
</pre></div>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Once you placed the config file, you don’t need to use the <strong>use</strong> command in any of your scripts.</p>
<p>If you are not sure, whether your user defined config file is loaded, you can obtain the path to the loaded config file with:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">matplotlib</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">matplotlib</span><span class="o">.</span><span class="n">matplotlib_fname</span><span class="p">()</span>
</pre></div>
</div>
<p>For more information about this, see <a class="reference external" href="http://matplotlib.org/users/customizing.html">http://matplotlib.org/users/customizing.html</a></p>
</div>
<p><strong>Matplotlib 1.5 or higher</strong></p>
<p><strong>itom</strong> automatically sets the environment variable <strong>MPLBACKEND</strong> to <em>module://mpl_itom.backend_itomagg</em>. Then, matplotlib outputs
are directly rendered in the itom backend without further modifications of the code. The <strong>matplotlib.use</strong> command is not necessary
any more, however it can be used to set another backend.</p>
</section>
<section id="simple-matplotlib-example">
<h2><span class="section-number">9.5.2. </span>Simple Matplotlib example<a class="headerlink" href="#simple-matplotlib-example" title="Link to this heading">#</a></h2>
<p>This example shows you that is possible to use any arbitrary matplotlib python script and execute it in <strong>itom</strong>. Therefore, the example <strong>hist2d_log_demo.py</strong> from the pylab examples
on <a class="reference external" href="http://matplotlib.org">http://matplotlib.org</a> is taken.</p>
<p>Its source code is:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">matplotlib</span>
<span class="n">matplotlib</span><span class="o">.</span><span class="n">use</span><span class="p">(</span><span class="s1">&#39;module://mpl_itom.backend_itomagg&#39;</span><span class="p">,</span><span class="kc">False</span><span class="p">)</span>
<span class="kn">import</span> <span class="nn">matplotlib.pyplot</span> <span class="k">as</span> <span class="nn">plt</span>
<span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span>
<span class="kn">from</span> <span class="nn">matplotlib.collections</span> <span class="kn">import</span> <span class="n">EllipseCollection</span>

<span class="n">x</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">arange</span><span class="p">(</span><span class="mi">10</span><span class="p">)</span>
<span class="n">y</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">arange</span><span class="p">(</span><span class="mi">15</span><span class="p">)</span>
<span class="n">X</span><span class="p">,</span> <span class="n">Y</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">meshgrid</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">)</span>

<span class="n">XY</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">hstack</span><span class="p">((</span><span class="n">X</span><span class="o">.</span><span class="n">ravel</span><span class="p">()[:,</span><span class="n">np</span><span class="o">.</span><span class="n">newaxis</span><span class="p">],</span> <span class="n">Y</span><span class="o">.</span><span class="n">ravel</span><span class="p">()[:,</span><span class="n">np</span><span class="o">.</span><span class="n">newaxis</span><span class="p">]))</span>

<span class="n">ww</span> <span class="o">=</span> <span class="n">X</span><span class="o">/</span><span class="mf">10.0</span>
<span class="n">hh</span> <span class="o">=</span> <span class="n">Y</span><span class="o">/</span><span class="mf">15.0</span>
<span class="n">aa</span> <span class="o">=</span> <span class="n">X</span><span class="o">*</span><span class="mi">9</span>

<span class="n">ax</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">subplot</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">)</span>

<span class="n">ec</span> <span class="o">=</span> <span class="n">EllipseCollection</span><span class="p">(</span>
                        <span class="n">ww</span><span class="p">,</span>
                        <span class="n">hh</span><span class="p">,</span>
                        <span class="n">aa</span><span class="p">,</span>
                        <span class="n">units</span><span class="o">=</span><span class="s1">&#39;x&#39;</span><span class="p">,</span>
                        <span class="n">offsets</span><span class="o">=</span><span class="n">XY</span><span class="p">,</span>
                        <span class="n">transOffset</span><span class="o">=</span><span class="n">ax</span><span class="o">.</span><span class="n">transData</span><span class="p">)</span>
<span class="n">ec</span><span class="o">.</span><span class="n">set_array</span><span class="p">((</span><span class="n">X</span><span class="o">+</span><span class="n">Y</span><span class="p">)</span><span class="o">.</span><span class="n">ravel</span><span class="p">())</span>
<span class="n">ax</span><span class="o">.</span><span class="n">add_collection</span><span class="p">(</span><span class="n">ec</span><span class="p">)</span>
<span class="n">ax</span><span class="o">.</span><span class="n">autoscale_view</span><span class="p">()</span>
<span class="n">ax</span><span class="o">.</span><span class="n">set_xlabel</span><span class="p">(</span><span class="s1">&#39;X&#39;</span><span class="p">)</span>
<span class="n">ax</span><span class="o">.</span><span class="n">set_ylabel</span><span class="p">(</span><span class="s1">&#39;y&#39;</span><span class="p">)</span>
<span class="n">cbar</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">colorbar</span><span class="p">(</span><span class="n">ec</span><span class="p">)</span>
<span class="n">cbar</span><span class="o">.</span><span class="n">set_label</span><span class="p">(</span><span class="s1">&#39;X+Y&#39;</span><span class="p">)</span>
<span class="n">title</span><span class="p">(</span><span class="s2">&quot;ellipse collection&quot;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>
</div>
<p>Please consider that the original source code has been changed such that the first two lines are prepended. After executing this script, the following figure is displayed in <strong>itom</strong>:</p>
<figure class="align-center">
<a class="reference internal image-reference" href="../_images/matplotlib_ellipseCollection.png"><img alt="../_images/matplotlib_ellipseCollection.png" src="../_images/matplotlib_ellipseCollection.png" style="width: 484.0px; height: 405.0px;" />
</a>
</figure>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>If the figure does not appear, the matplotlib designer widget for <strong>itom</strong> is not available. This means, the library <strong>matplotlibPlot</strong> in the <strong>designer</strong> folder of <strong>itom</strong> is missing.</p>
</div>
<p>Further examples from the official matplotlib gallery are contained in the itom subfolder <strong>demo/matplotlib</strong>.</p>
</section>
<section id="embedding-a-matplotlib-figure-in-your-own-user-interface">
<h2><span class="section-number">9.5.3. </span>Embedding a matplotlib figure in your own user interface<a class="headerlink" href="#embedding-a-matplotlib-figure-in-your-own-user-interface" title="Link to this heading">#</a></h2>
<figure class="align-center">
<a class="reference internal image-reference" href="../_images/matplotlib_gui.png"><img alt="../_images/matplotlib_gui.png" src="../_images/matplotlib_gui.png" style="width: 903.0px; height: 424.0px;" />
</a>
</figure>
<p><strong>itom</strong> not only provides stand-alone windows for showing the result of the <em>matplotlib</em>, but it is also possible to integrate a <em>matplotlib</em> canvas into own user interfaces created by the
QtDesigner and scripted with <strong>Python</strong>. For more information how to do this, see <a class="reference internal" href="../06_extended_gui/qtdesigner.html#qtdesigner"><span class="std std-ref">Creating customized dialogs, windows and dock widgets</span></a>.</p>
<p>In the widget library of QtDesigner there is the widget <strong>MatplotlibPlot</strong> in the section <strong>itom Plugins</strong> (under the consumption that the corresponding designer plugin library is contained in the folder <em>designer</em> of the root directory of <strong>itom</strong>). Drag&amp;Drop an instance of this widget onto your user interface.</p>
<p>In the following example, a new main window is created where a <em>MatplotlibPlot</em> widget (name: <em>plot</em>) is placed on the left side while two buttons (name: <em>btnDroppedSpines</em> and <em>btnSine</em>) are placed on the right side:</p>
<p>When any of the both buttons are pressed, the following example should be displayed in the figure <strong>plot</strong> on the left side.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">matplotlib</span>
<span class="n">matplotlib</span><span class="o">.</span><span class="n">use</span><span class="p">(</span><span class="s1">&#39;module://mpl_itom.backend_itomagg&#39;</span><span class="p">,</span><span class="kc">False</span><span class="p">)</span>
<span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span>
<span class="kn">import</span> <span class="nn">matplotlib.pyplot</span> <span class="k">as</span> <span class="nn">plt</span>
<span class="kn">from</span> <span class="nn">mpl_toolkits.mplot3d</span> <span class="kn">import</span> <span class="n">Axes3D</span>

<span class="k">def</span> <span class="nf">plotDroppedSpines</span><span class="p">():</span>
<span class="w">    </span><span class="sd">&#39;&#39;&#39;</span>
<span class="sd">    plot taken from matplotlib example &#39;spines_demo_dropped.py&#39;</span>
<span class="sd">    &#39;&#39;&#39;</span>
    <span class="n">canvas</span> <span class="o">=</span> <span class="n">gui</span><span class="o">.</span><span class="n">plot</span> <span class="c1">#reference to matplotlibPlot widget</span>
    <span class="n">fig</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">figure</span><span class="p">(</span><span class="n">num</span> <span class="o">=</span> <span class="mi">3</span><span class="p">,</span> <span class="n">canvas</span><span class="o">=</span><span class="n">canvas</span><span class="p">)</span>
    <span class="n">ax</span> <span class="o">=</span> <span class="n">fig</span><span class="o">.</span><span class="n">add_subplot</span><span class="p">(</span><span class="mi">111</span><span class="p">)</span>
    <span class="n">ax</span><span class="o">.</span><span class="n">clear</span><span class="p">()</span>

    <span class="n">image</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">uniform</span><span class="p">(</span><span class="n">size</span><span class="o">=</span><span class="p">(</span><span class="mi">10</span><span class="p">,</span> <span class="mi">10</span><span class="p">))</span>
    <span class="n">ax</span><span class="o">.</span><span class="n">imshow</span><span class="p">(</span><span class="n">image</span><span class="p">,</span> <span class="n">cmap</span><span class="o">=</span><span class="n">plt</span><span class="o">.</span><span class="n">cm</span><span class="o">.</span><span class="n">gray</span><span class="p">,</span> <span class="n">interpolation</span><span class="o">=</span><span class="s1">&#39;nearest&#39;</span><span class="p">)</span>
    <span class="n">ax</span><span class="o">.</span><span class="n">set_title</span><span class="p">(</span><span class="s1">&#39;dropped spines&#39;</span><span class="p">)</span>

    <span class="c1"># Move left and bottom spines outward by 10 points</span>
    <span class="n">ax</span><span class="o">.</span><span class="n">spines</span><span class="p">[</span><span class="s1">&#39;left&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">set_position</span><span class="p">((</span><span class="s1">&#39;outward&#39;</span><span class="p">,</span> <span class="mi">10</span><span class="p">))</span>
    <span class="n">ax</span><span class="o">.</span><span class="n">spines</span><span class="p">[</span><span class="s1">&#39;bottom&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">set_position</span><span class="p">((</span><span class="s1">&#39;outward&#39;</span><span class="p">,</span> <span class="mi">10</span><span class="p">))</span>
    <span class="c1"># Hide the right and top spines</span>
    <span class="n">ax</span><span class="o">.</span><span class="n">spines</span><span class="p">[</span><span class="s1">&#39;right&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">set_visible</span><span class="p">(</span><span class="kc">False</span><span class="p">)</span>
    <span class="n">ax</span><span class="o">.</span><span class="n">spines</span><span class="p">[</span><span class="s1">&#39;top&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">set_visible</span><span class="p">(</span><span class="kc">False</span><span class="p">)</span>
    <span class="c1"># Only show ticks on the left and bottom spines</span>
    <span class="n">ax</span><span class="o">.</span><span class="n">yaxis</span><span class="o">.</span><span class="n">set_ticks_position</span><span class="p">(</span><span class="s1">&#39;left&#39;</span><span class="p">)</span>
    <span class="n">ax</span><span class="o">.</span><span class="n">xaxis</span><span class="o">.</span><span class="n">set_ticks_position</span><span class="p">(</span><span class="s1">&#39;bottom&#39;</span><span class="p">)</span>

    <span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>


<span class="k">def</span> <span class="nf">plotSine</span><span class="p">():</span>
<span class="w">    </span><span class="sd">&#39;&#39;&#39;</span>
<span class="sd">    plots sine, taken from matplotlib gallery examples</span>
<span class="sd">    &#39;&#39;&#39;</span>
    <span class="n">t</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">arange</span><span class="p">(</span><span class="mf">0.0</span><span class="p">,</span> <span class="mf">1.0</span><span class="p">,</span> <span class="mf">0.01</span><span class="p">)</span>
    <span class="n">s</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">sin</span><span class="p">(</span><span class="mi">2</span><span class="o">*</span><span class="n">np</span><span class="o">.</span><span class="n">pi</span><span class="o">*</span><span class="n">t</span><span class="p">)</span>

    <span class="n">canvas</span> <span class="o">=</span> <span class="n">gui</span><span class="o">.</span><span class="n">plot</span> <span class="c1">#reference to matplotlibPlot widget</span>
    <span class="n">fig</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">figure</span><span class="p">(</span><span class="n">num</span> <span class="o">=</span> <span class="mi">3</span><span class="p">,</span> <span class="n">canvas</span><span class="o">=</span><span class="n">canvas</span><span class="p">)</span>
    <span class="n">ax</span> <span class="o">=</span> <span class="n">fig</span><span class="o">.</span><span class="n">add_subplot</span><span class="p">(</span><span class="mi">111</span><span class="p">)</span>
    <span class="n">ax</span><span class="o">.</span><span class="n">clear</span><span class="p">()</span>
    <span class="n">ax</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">t</span><span class="p">,</span><span class="n">s</span><span class="p">)</span>

    <span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>

<span class="n">gui</span> <span class="o">=</span> <span class="n">ui</span><span class="p">(</span><span class="s2">&quot;matplotlibGui.ui&quot;</span><span class="p">,</span> <span class="nb">type</span> <span class="o">=</span> <span class="n">ui</span><span class="o">.</span><span class="n">TYPEWINDOW</span><span class="p">)</span>
<span class="n">gui</span><span class="o">.</span><span class="n">btnSine</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span><span class="s2">&quot;clicked()&quot;</span><span class="p">,</span> <span class="n">plotSine</span><span class="p">)</span>
<span class="n">gui</span><span class="o">.</span><span class="n">btnDroppedSpines</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span><span class="s2">&quot;clicked()&quot;</span><span class="p">,</span> <span class="n">plotDroppedSpines</span><span class="p">)</span>
<span class="n">gui</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>

<span class="c1"># if you call this script for the second time, the given figure-num (3)</span>
<span class="c1"># is already in used for the lastly closed figure. Therefore also tell</span>
<span class="c1"># matplotlib to close this figure handle.</span>
<span class="n">plt</span><span class="o">.</span><span class="n">close</span><span class="p">(</span><span class="mi">3</span><span class="p">)</span>
</pre></div>
</div>
<p>The result is:</p>
<figure class="align-center">
<a class="reference internal image-reference" href="../_images/matplotlib_gui_result.png"><img alt="../_images/matplotlib_gui_result.png" src="../_images/matplotlib_gui_result.png" style="width: 1144.0px; height: 436.0px;" />
</a>
</figure>
<p><strong>What happens here?</strong></p>
<ul class="simple">
<li><p>At the end of the script, the user interface <em>matplotlibGui.ui</em> is loaded and referenced by the variable <em>gui</em>.</p></li>
<li><p>The click-events of both buttons is connected to the methods <em>plotSine</em> and <em>plotDroppedSpines</em> respectively.</p></li>
<li><p>The gui is shown</p></li>
</ul>
<p>For both button clicks the following things have to be done:</p>
<p>Once you added the <strong>itom</strong>-backend command as first, mandatory line to your script, the <em>figure</em>-class of <em>matplotlib</em>
has got one further keyword-based parameter <em>canvas</em>. This needs to be used in order to tell the figure where the
widget is to plot the content to. If you omit this parameter, a new window is opened with the corresponding output.
If you set this parameter to the reference of the widget of type <em>MatplotlibPlot</em> (here: called canvas), the output is
print there.</p>
<p>The you have the reference to the figure-instance of <em>matplotlib</em> and can go one like usual.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Once you created one figure that maps to a given widget using the canvas-keyword, this figure is not deleted when
a new figure is created using the same keyword. Therefore it will happen that lots of invisible figures need to be handled.
Therefore, the <em>num</em> keyword argument is used in the methods in the example in order to always tell <em>matplotlib</em> that a defined
figure with the handle <em>3</em> should be instantiated. If this handle already exists, this existing figure is used. Therefore it is
also necessary to clear the axes using <strong>ax.clear()</strong>.</p>
<p>Furthermore, if you created a figure with a given <em>num</em> and <em>canvas</em>, deletes the user interface and creates a new one, a new figure
with the handle of the old one is not able to plot in the new user interface since it still is connected with the old, deleted
widget. Therefore, the command:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">plt</span><span class="o">.</span><span class="n">close</span><span class="p">(</span><span class="mi">3</span><span class="p">)</span>
</pre></div>
</div>
<p>is used to firstly delete the matplotlib-figure with handle <em>3</em> once the script is re-executed.</p>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Usually, <em>matplotlib</em> is allowed changing the size of the output window. The window is then forced to have a new size that can afterwards
be manually resized. If your output widget is embedded in an user interface, this behaviour might be undesired. Then disable it by setting
the property <strong>forceWindowResize</strong> to <strong>False</strong>. In the example above this can be done by:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">gui</span><span class="o">.</span><span class="n">plot</span><span class="p">[</span><span class="s2">&quot;forceWindowResize&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="kc">False</span>
</pre></div>
</div>
<p>or by directlly setting the corresponding property when designing the user interface in QtDesigner.</p>
</div>
<p>This example is contained in the <strong>demo/ui/embeddedMatplotlib</strong> folder.</p>
</section>
<section id="size-control-over-matplotlib-canvas">
<h2><span class="section-number">9.5.4. </span>Size control over Matplotlib canvas<a class="headerlink" href="#size-control-over-matplotlib-canvas" title="Link to this heading">#</a></h2>
<p>Usually, it is possible to control the size and dpi of the matplotlib canvas using the commands</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">myfig</span><span class="o">.</span><span class="n">set_dpi</span><span class="p">(</span><span class="mi">120</span><span class="p">)</span>
<span class="n">myfig</span><span class="o">.</span><span class="n">set_size_inches</span><span class="p">(</span><span class="mi">5</span><span class="p">,</span><span class="mi">5</span><span class="p">,</span><span class="n">forward</span> <span class="o">=</span> <span class="kc">True</span><span class="p">)</span>
</pre></div>
</div>
<p>However, if the matplotlib canvas is embedded in an itom user interface or in general in the itom backend (hence window management of itom),
the size of the canvas is usually given by the outer size of the parent window and the layout of the user interface. Only, if the size
of the canvas is increased, the size of the window may also increase. In order to provide a better size control of the canvas, the matplotlib
widget has the property <strong>keepSizeFixed</strong>. If this property is true (default: false), the canvas will always have the indicated size. If one
enlarges the outer window, the canvas will be unchanged in size and still be centered in the available area. Vice-versa, it is not possible to make
the window smaller than the allowed canvas area.</p>
<p>In order to axes the property <strong>keepSizeFixed</strong> it is necessary, to obtain the corresponding instance of class <a class="reference internal" href="../09_reference/itom_GUI.html#itom.uiItem" title="itom.uiItem"><code class="xref py py-class docutils literal notranslate"><span class="pre">uiItem</span></code></a> from the given
matplotlib figure handle. If the figure handle can be obtained by the current figure, the access might look like this:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="c1">#get current figure</span>
<span class="n">current_figure</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">gcf</span><span class="p">()</span>

<span class="c1">#set the keepSizeFixed property of the plot to true:</span>
<span class="n">current_figure</span><span class="o">.</span><span class="n">canvas</span><span class="o">.</span><span class="n">manager</span><span class="o">.</span><span class="n">itomUI</span><span class="p">[</span><span class="s2">&quot;keepSizeFixed&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="kc">True</span>
<span class="c1">#alternative:</span>
<span class="c1">#plt.get_current_fig_manager().itomUI[&quot;keepSizeFixed&quot;]</span>
</pre></div>
</div>
<p>As an example see the script <strong>hist2d_size_control.py</strong> in the <strong>demo/matplotlib</strong> folder.</p>
</section>
<section id="font-not-found-in-matplotlib">
<h2><span class="section-number">9.5.5. </span>Font not found in Matplotlib<a class="headerlink" href="#font-not-found-in-matplotlib" title="Link to this heading">#</a></h2>
<p>Sometimes it might occur that Matplotlib cannot found a desired font name, even if it is installed on the computer. The reason might be,
that Matplotlib caches installed fonts for a faster access. If the font has been installed recently, it might be necessary to update the cache.
Usually, the cache is located in the install or build directory of <strong>itom</strong>:</p>
<p><strong>itom/itom-packages/mpl_itom/fontList.py3k.cache</strong></p>
<p>Delete this file, re-open itom and try to load the Matplotlib script again. In order to verify the path, where Matplotlib is currently
searching for a cache file, use the following snippet:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">matplotlib</span> <span class="kn">import</span> <span class="n">get_cachedir</span>
<span class="nb">print</span><span class="p">(</span><span class="n">get_cachedir</span><span class="p">())</span>
</pre></div>
</div>
<p>(See also: <a class="reference external" href="http://stackoverflow.com/questions/26085867/matplotlib-font-not-found">http://stackoverflow.com/questions/26085867/matplotlib-font-not-found</a>)</p>
</section>
<section id="creating-an-animation-via-matplotlib">
<h2><span class="section-number">9.5.6. </span>Creating an animation via Matplotlib<a class="headerlink" href="#creating-an-animation-via-matplotlib" title="Link to this heading">#</a></h2>
<p>Matplotlib can be used to create animation and save it as a <em>mp4</em> file. The <strong>ffmpeg codec</strong> is required for this feature and needs to be installed on your computer. A detailed description for the installation of the ffmpeg codec can be found <a class="reference external" href="http://www.adaptivesamples.com/how-to-install-ffmpeg-on-windows">here</a>. The build version of the ffmpeg codec can be downloaded <a class="reference external" href="http://ffmpeg.zeranoe.com/builds">here</a>. Download and unzip the build files to your harddrive.</p>
<p>Typically the folder is like:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">C</span><span class="p">:</span>\<span class="n">Program</span> <span class="n">files</span>\<span class="n">ffmpeg</span>
</pre></div>
</div>
<p>The bin folder of ffmpeg must be added to the path variables of your system:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">C</span><span class="p">:</span>\<span class="n">Program</span> <span class="n">files</span>\<span class="n">ffmpeg</span>\<span class="nb">bin</span>
</pre></div>
</div>
<p>Finally start the command prompt and run the command:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">C</span><span class="p">:</span>\<span class="n">Program</span> <span class="n">files</span>\<span class="n">ffmpeg</span>\<span class="nb">bin</span>\<span class="n">ffmpeg</span><span class="o">.</span><span class="n">exe</span> <span class="o">-</span><span class="n">codecs</span>
</pre></div>
</div>
<p>or easier:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">ffmpeg</span> <span class="o">-</span><span class="n">codecs</span>
</pre></div>
</div>
<div class="pst-scrollable-table-container"><table class="table">
<tbody>
<tr class="row-odd"><td><figure class="align-default">
<img alt="../_images/matplotlibAnimation1d.gif" src="../_images/matplotlibAnimation1d.gif" />
</figure>
</td>
<td><figure class="align-default">
<img alt="../_images/matplotlibAnimation2d.gif" src="../_images/matplotlibAnimation2d.gif" />
</figure>
</td>
</tr>
<tr class="row-even"><td><p>1d animation</p></td>
<td><p>2d animation</p></td>
</tr>
</tbody>
</table>
</div>
<figure class="align-default">
<a class="reference internal image-reference" href="../_images/matplotlibAnimation1d.png"><img alt="../_images/matplotlibAnimation1d.png" src="../_images/matplotlibAnimation1d.png" style="width: 0.0px; height: 0.0px;" />
</a>
</figure>
<figure class="align-default">
<a class="reference internal image-reference" href="../_images/matplotlibAnimation2d.png"><img alt="../_images/matplotlibAnimation2d.png" src="../_images/matplotlibAnimation2d.png" style="width: 0.0px; height: 0.0px;" />
</a>
</figure>
<p>In the <strong>demo/matplotlib</strong> folder are two demo scripts (<strong>matplotlibAnimation1d.py, matplotlibAnimation2d.py</strong>), which show how to create animations.</p>
</section>
<section id="creating-figures-for-a-thesis-report">
<h2><span class="section-number">9.5.7. </span>Creating figures for a thesis/report<a class="headerlink" href="#creating-figures-for-a-thesis-report" title="Link to this heading">#</a></h2>
<p>Matplotlib can be used to create figures with <strong>LaTeX</strong> for the text layout. This figures can be saved as <em>pdf</em> or <em>eps</em> files for your document. The figures then have the same text layout as the main document using <strong>LaTeX</strong>. Matplotlib with <strong>LaTeX</strong> support is slower.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Required installation: <a class="reference external" href="https://miktex.org/">LaTeX</a> , <a class="reference external" href="https://www.ctan.org/pkg/dvipng?lang=de/">dvipng</a> (may be included in LaTeX installation), <a class="reference external" href="https://www.ghostscript.com/">Ghostscript</a> . The executables of <strong>LaTeX</strong>, <strong>Ghostscript</strong> must all be located on your <strong>PATH</strong> variable.</p>
</div>
<p>The <strong>LaTeX</strong> options is activated by the setting <em>text.usedtex</em> in the <strong>rc</strong> settings of the Matplotlib:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">matplotlib</span> <span class="kn">import</span> <span class="n">rc</span>
<span class="n">rc</span><span class="p">(</span><span class="s1">&#39;text&#39;</span><span class="p">,</span> <span class="n">usetex</span> <span class="o">=</span> <span class="kc">True</span><span class="p">)</span>
</pre></div>
</div>
<p>Some detailed documentation can be found on the Matplotlib website: <a class="reference external" href="http://matplotlib.org/users/usetex.html">http://matplotlib.org/users/usetex.html</a></p>
<p>The mathmode of <strong>LaTeX</strong> ($ e = mc^1$) is not supported. The command <em>displaystyle</em> must be added or unicode must be used.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">matplotlib</span>
<span class="n">matplotlib</span><span class="o">.</span><span class="n">rcParams</span><span class="p">[</span><span class="s1">&#39;text.usetex&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="kc">True</span>
<span class="n">matplotlib</span><span class="o">.</span><span class="n">rcParams</span><span class="p">[</span><span class="s1">&#39;text.latex.unicode&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="kc">True</span>
</pre></div>
</div>
<p>All strings which are created ba <strong>LaTeX</strong> needs a <strong>r</strong> before the opening quote.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">plt</span><span class="o">.</span><span class="n">xlabel</span><span class="p">(</span><span class="sa">r</span><span class="s1">&#39;\textbf{time (s)}&#39;</span><span class="p">)</span>
</pre></div>
</div>
<p>If some special <strong>LaTeX</strong> packages are needed, you can included whose by adding the package to the matplotlib latex preamble:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">matplotlib</span><span class="o">.</span><span class="n">rcParams</span><span class="p">[</span><span class="s1">&#39;text.latex.preamble&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="p">[</span><span class="sa">r</span><span class="s1">&#39;\RequirePackage[T1]</span><span class="si">{fontenc}</span><span class="s1">&#39;</span><span class="p">]</span>
</pre></div>
</div>
<p>In the <strong>demo/matplotlib</strong> folder is a demo scripts (<strong>tex_demo</strong>), which show how to create such a figure. In this demo three methods of matplotlib plots are included (default, latex, latex.unicode). Unicode must be used, if special characters are needed in the text. Here you see the example with the default text layout and the <strong>LaTeX</strong> text layout.</p>
<div class="pst-scrollable-table-container"><table class="table">
<tbody>
<tr class="row-odd"><td><figure class="align-default">
<img alt="../_images/matplotlibDefaultText.png" src="../_images/matplotlibDefaultText.png" />
</figure>
</td>
<td><figure class="align-default">
<img alt="../_images/matplotlibLatexText.png" src="../_images/matplotlibLatexText.png" />
</figure>
</td>
</tr>
</tbody>
</table>
</div>
</section>
<section id="designer-plugin-matplotlibplot">
<h2><span class="section-number">9.5.8. </span>Designer plugin MatplotlibPlot<a class="headerlink" href="#designer-plugin-matplotlibplot" title="Link to this heading">#</a></h2>
<p>If the itom backend is chosen for the Matplotlib, all matplotlib outputs are displayed in the itom designer plugin <strong>MatplotlibPlot</strong>.
This widget plugin has the following properties, slots and signals that can be used to control and adjust the settings of the rendered image.
Many of these features are also used in the documentations above:</p>
<section id="properties">
<h3><span class="section-number">9.5.8.1. </span>Properties<a class="headerlink" href="#properties" title="Link to this heading">#</a></h3>
<dl class="py attribute">
<dt class="sig sig-object py">
<span class="sig-name descname"><span class="pre">keepSizeFixed</span> <span class="pre">:</span> <span class="pre">bool</span></span></dt>
<dd><p>If you want to control the size of the canvas by python / matplotlib (e.g. set_size_inches), set this to true. The canvas will then have a fixed size, that is not affected by the window size.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py">
<span class="sig-name descname"><span class="pre">renderLegend</span> <span class="pre">:</span> <span class="pre">bool</span></span></dt>
<dd><p>If this property is true, the legend are included in pixelmaps renderings.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py">
<span class="sig-name descname"><span class="pre">forceWindowResize</span> <span class="pre">:</span> <span class="pre">bool</span></span></dt>
<dd><p>If set, the plot widget / area is resized to the desired sizes given by matplotlib. Uncheck this option, if you want to keep the canvas unchanged e.g. in an user-defined GUI</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py">
<span class="sig-name descname"><span class="pre">toolbarVisible</span> <span class="pre">:</span> <span class="pre">bool</span></span></dt>
<dd><p>Toggles the visibility of the toolbar of the plot.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py">
<span class="sig-name descname"><span class="pre">contextMenuEnabled</span> <span class="pre">:</span> <span class="pre">bool</span></span></dt>
<dd><p>Defines whether the context menu of the plot should be enabled or not.</p>
</dd></dl>

</section>
<section id="slots">
<h3><span class="section-number">9.5.8.2. </span>Slots<a class="headerlink" href="#slots" title="Link to this heading">#</a></h3>
<dl class="py function">
<dt class="sig sig-object py">
<span class="sig-name descname"><span class="pre">getPlotID()</span> <span class="pre">[slot]</span></span></dt>
<dd><p>Return window ID of this plot {int}.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py">
<span class="sig-name descname"><span class="pre">replot()</span> <span class="pre">[slot]</span></span></dt>
<dd><p>forces a replot of the plot</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py">
<span class="sig-name descname"><span class="pre">refreshPlot()</span> <span class="pre">[slot]</span></span></dt>
<dd><p>Triggers an update of the current plot window.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py">
<span class="sig-name descname"><span class="pre">showSubplotConfig(left,</span> <span class="pre">top,</span> <span class="pre">right,</span> <span class="pre">bottom,</span> <span class="pre">wSpace,</span> <span class="pre">hSpace)</span> <span class="pre">[slot]</span></span></dt>
<dd><p>displays the subplot configuration dialog.</p>
<p>This slot must usually not be used, since the dialog can be opened by the toolbar.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>left</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.13)"><em>float</em></a>) – left border of the current subplot configuration.</p></li>
<li><p><strong>top</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.13)"><em>float</em></a>) – top border of the current subplot configuration.</p></li>
<li><p><strong>right</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.13)"><em>float</em></a>) – right border of the current subplot configuration.</p></li>
<li><p><strong>bottom</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.13)"><em>float</em></a>) – bottom border of the current subplot configuration.</p></li>
<li><p><strong>wSpace</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.13)"><em>float</em></a>) – horizontal space between every subplot of the current configuration.</p></li>
<li><p><strong>hSpace</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.13)"><em>float</em></a>) – vertical space between every subplot of the current configuration.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py">
<span class="sig-name descname"><span class="pre">setLabelText(text)</span> <span class="pre">[slot]</span></span></dt>
<dd><p>displays a text in the toolbar</p>
<p>The text is displayed in the label that is usually used for coordinates of the mouse cursor….</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>text</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><em>str</em></a>) – text to display</p>
</dd>
</dl>
</dd></dl>

</section>
<section id="signals">
<h3><span class="section-number">9.5.8.3. </span>Signals<a class="headerlink" href="#signals" title="Link to this heading">#</a></h3>
<dl class="py function">
<dt class="sig sig-object py">
<span class="sig-name descname"><span class="pre">subplotConfigSliderChanged(type,</span> <span class="pre">value)</span> <span class="pre">[signal]</span></span></dt>
<dd><p>internal use between MatplotlibPlot and the subplot configuration dialog.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>To connect to this signal use the following signature:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">yourItem</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span><span class="s1">&#39;subplotConfigSliderChanged(int,int)&#39;</span><span class="p">,</span> <span class="n">yourMethod</span><span class="p">)</span>
</pre></div>
</div>
</div>
</dd></dl>

</section>
</section>
</section>


                </article>





                <footer class="prev-next-footer d-print-none">

<div class="prev-next-area">
    <a class="left-prev"
       href="pymod-popular-python-packages.html"
       title="previous page">
      <i class="fa-solid fa-angle-left"></i>
      <div class="prev-next-info">
        <p class="prev-next-subtitle">previous</p>
        <p class="prev-next-title"><span class="section-number">9.4. </span>Popular Python packages</p>
      </div>
    </a>
    <a class="right-next"
       href="pymod-plotly.html"
       title="next page">
      <div class="prev-next-info">
        <p class="prev-next-subtitle">next</p>
        <p class="prev-next-title"><span class="section-number">9.6. </span>Python package plotly</p>
      </div>
      <i class="fa-solid fa-angle-right"></i>
    </a>
</div>
                </footer>

            </div>



                <div class="bd-sidebar-secondary bd-toc"><div class="sidebar-secondary-items sidebar-secondary__inner">


  <div class="sidebar-secondary-item">
<div
    id="pst-page-navigation-heading-2"
    class="page-toc tocsection onthispage">
    <i class="fa-solid fa-list"></i> On this page
  </div>
  <nav class="bd-toc-nav page-toc" aria-labelledby="pst-page-navigation-heading-2">
    <ul class="visible nav section-nav flex-column">
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#set-matplotlib-backend-to-itom">9.5.1. Set Matplotlib backend to itom</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#simple-matplotlib-example">9.5.2. Simple Matplotlib example</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#embedding-a-matplotlib-figure-in-your-own-user-interface">9.5.3. Embedding a matplotlib figure in your own user interface</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#size-control-over-matplotlib-canvas">9.5.4. Size control over Matplotlib canvas</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#font-not-found-in-matplotlib">9.5.5. Font not found in Matplotlib</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#creating-an-animation-via-matplotlib">9.5.6. Creating an animation via Matplotlib</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#creating-figures-for-a-thesis-report">9.5.7. Creating figures for a thesis/report</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#designer-plugin-matplotlibplot">9.5.8. Designer plugin MatplotlibPlot</a><ul class="visible nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#properties">9.5.8.1. Properties</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#slots">9.5.8.2. Slots</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#signals">9.5.8.3. Signals</a></li>
</ul>
</li>
</ul>
  </nav></div>

  <div class="sidebar-secondary-item">

  <div class="tocsection sourcelink">
    <a href="../_sources/08_scriptLanguage/pymod-matplotlib.rst.txt">
      <i class="fa-solid fa-file-lines"></i> Show Source
    </a>
  </div>
</div>

</div></div>


          </div>
          <footer class="bd-footer-content">

          </footer>

      </main>
    </div>
  </div>

  <!-- Scripts loaded after <body> so the DOM is not blocked -->
  <script src="../_static/scripts/bootstrap.js?digest=dfe6caa3a7d634c4db9b"></script>
<script src="../_static/scripts/pydata-sphinx-theme.js?digest=dfe6caa3a7d634c4db9b"></script>

  <footer class="bd-footer">
<div class="bd-footer__inner bd-page-width">

    <div class="footer-items__start">

        <div class="footer-item">

  <p class="copyright">

      © Copyright 2011-2024, Institut für Technische Optik (ITO), Universität Stuttgart. Bug report: https://github.com/itom-project/itom/issues.
      <br/>

  </p>
</div>

        <div class="footer-item">

  <p class="sphinx-version">
    Created using <a href="https://www.sphinx-doc.org/">Sphinx</a> 8.1.3.
    <br/>
  </p>
</div>

    </div>



    <div class="footer-items__end">

        <div class="footer-item">
<p class="theme-version">
  Built with the <a href="https://pydata-sphinx-theme.readthedocs.io/en/stable/index.html">PyData Sphinx Theme</a> 0.15.4.
</p></div>

    </div>

</div>

  </footer>
  </body>
</html>
