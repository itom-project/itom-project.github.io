<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" /><meta name="generator" content="Docutils 0.17.1: http://docutils.sourceforge.net/" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>8.8.15. Automatic loading and saving of plugin parameters &mdash; itom Documentation</title>
      <link rel="stylesheet" href="../../_static/pygments.css" type="text/css" />
      <link rel="stylesheet" href="../../_static/css/theme.css" type="text/css" />
      <link rel="stylesheet" href="../../_static/copybutton.css" type="text/css" />
      <link rel="stylesheet" href="../../_static/sg_gallery.css" type="text/css" />
      <link rel="stylesheet" href="../../_static/sg_gallery-binder.css" type="text/css" />
      <link rel="stylesheet" href="../../_static/sg_gallery-dataframe.css" type="text/css" />
      <link rel="stylesheet" href="../../_static/sg_gallery-rendered-html.css" type="text/css" />
      <link rel="stylesheet" href="../../_static/html.css" type="text/css" />
  <!--[if lt IE 9]>
    <script src="../../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script data-url_root="../../" id="documentation_options" src="../../_static/documentation_options.js"></script>
        <script src="../../_static/jquery.js"></script>
        <script src="../../_static/underscore.js"></script>
        <script src="../../_static/_sphinx_javascript_frameworks_compat.js"></script>
        <script src="../../_static/doctools.js"></script>
        <script src="../../_static/clipboard.min.js"></script>
        <script src="../../_static/copybutton.js"></script>
    <script src="../../_static/js/theme.js"></script>
    <link rel="index" title="Index" href="../../genindex.html" />
    <link rel="search" title="Search" href="../../search.html" />
    <link rel="next" title="8.8.16. itom API" href="plugin-itomAPI.html" />
    <link rel="prev" title="8.8.14. Create a new plugin via CMake" href="pluginCreateCMake.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
            <a href="../../index.html" class="icon icon-home"> itom Documentation
          </a>
              <div class="version">
                4.2.2
              </div>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <p class="caption" role="heading"><span class="caption-text">Table of Contents</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../../00_releaseNotes/whats-new.html">1. Changelog</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../01_introduction/introduction.html">2. Introduction</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../02_installation/install.html">3. Installation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../03_gettingStarted/getting-started.html">4. Getting Started</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../04_itom_gui/gui.html">5. The itom User Interface</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../05_plots/plots.html">6. Plots and Figures</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../06_extended_gui/extended_gui.html">7. Extending the user interface of <strong>itom</strong></a></li>
<li class="toctree-l1 current"><a class="reference internal" href="../plugins.html">8. Plugins</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="../basic_concept.html">8.1. Basic concept</a></li>
<li class="toctree-l2"><a class="reference internal" href="../loading_plugins.html">8.2. Loading plugins</a></li>
<li class="toctree-l2"><a class="reference internal" href="../getstart-hardware.html">8.3. How to use hardware plugins</a></li>
<li class="toctree-l2"><a class="reference internal" href="../getstart-grabber.html">8.4. Getting started with grabbers</a></li>
<li class="toctree-l2"><a class="reference internal" href="../getstart-adda.html">8.5. Getting started with A/D converters</a></li>
<li class="toctree-l2"><a class="reference internal" href="../getstart-actuator.html">8.6. Getting started with actuators</a></li>
<li class="toctree-l2"><a class="reference internal" href="../getstart-filter.html">8.7. Getting started with algorithm plugins (denoted as filters)</a></li>
<li class="toctree-l2 current"><a class="reference internal" href="plugin-development.html">8.8. Development under C++</a><ul class="current">
<li class="toctree-l3"><a class="reference internal" href="plugin-RetVal.html">8.8.1. <strong>RetVal</strong> - The return type of <strong>itom</strong> methods</a></li>
<li class="toctree-l3"><a class="reference internal" href="plugin-sharedSemaphore.html">8.8.2. ItomSharedSemaphore</a></li>
<li class="toctree-l3"><a class="reference internal" href="plugin-dataObject.html">8.8.3. DataObject</a></li>
<li class="toctree-l3"><a class="reference internal" href="plugin-params.html">8.8.4. Parameter-Container class of <strong>itom</strong></a></li>
<li class="toctree-l3"><a class="reference internal" href="plugin-paramsMeta.html">8.8.5. Parameters - Meta Information</a></li>
<li class="toctree-l3"><a class="reference internal" href="plugin-paramsValidate.html">8.8.6. Parameters - Validation</a></li>
<li class="toctree-l3"><a class="reference internal" href="pluginStructure.html">8.8.7. Introduction to plugins</a></li>
<li class="toctree-l3"><a class="reference internal" href="pluginInterfaceClass.html">8.8.8. Plugin interface class</a></li>
<li class="toctree-l3"><a class="reference internal" href="plugin-AddInBase-Ref.html">8.8.9. AddInBase</a></li>
<li class="toctree-l3"><a class="reference internal" href="pluginClass.html">8.8.10. Plugin class - Basic information</a></li>
<li class="toctree-l3"><a class="reference internal" href="plugin-dataIO.html">8.8.11. Plugin class - DataIO</a></li>
<li class="toctree-l3"><a class="reference internal" href="plugin-actuator.html">8.8.12. Plugin class - Actuator</a></li>
<li class="toctree-l3"><a class="reference internal" href="plugin-algo.html">8.8.13. Plugin class - Algo</a></li>
<li class="toctree-l3"><a class="reference internal" href="pluginCreateCMake.html">8.8.14. Create a new plugin via CMake</a></li>
<li class="toctree-l3 current"><a class="current reference internal" href="#">8.8.15. Automatic loading and saving of plugin parameters</a></li>
<li class="toctree-l3"><a class="reference internal" href="plugin-itomAPI.html">8.8.16. itom API</a></li>
<li class="toctree-l3"><a class="reference internal" href="plugin-externalLibraries.html">8.8.17. Link or load external libraries</a></li>
<li class="toctree-l3"><a class="reference internal" href="projectSettings.html">8.8.18. Project settings for plugins</a></li>
<li class="toctree-l3"><a class="reference internal" href="plugin-dockWidget.html">8.8.19. Optional dock widget (toolbox) for hardware plugins</a></li>
<li class="toctree-l3"><a class="reference internal" href="plugin-configDialog.html">8.8.20. Optional configuration dialog for hardware plugins</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="openCVMat.html">8.9. OpenCV matrices <strong>cv::Mat</strong> and <strong>cv::Mat_</strong></a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../08_scriptLanguage/script-language.html">9. Python Scripting Language</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../09_reference/reference.html">10. itom Script Reference</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../10_miscellaneous/miscellaneous.html">11. Miscellaneous</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../11_demos/demos.html">12. Demo scripts</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../12_contributing/contributing.html">13. Contributing</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../index.html">itom Documentation</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="../../index.html" class="icon icon-home"></a> &raquo;</li>
          <li><a href="../plugins.html"><span class="section-number">8. </span>Plugins</a> &raquo;</li>
          <li><a href="plugin-development.html"><span class="section-number">8.8. </span>Development under C++</a> &raquo;</li>
      <li><span class="section-number">8.8.15. </span>Automatic loading and saving of plugin parameters</li>
      <li class="wy-breadcrumbs-aside">
            <a href="../../_sources/07_plugins/development/pluginAutoLoadSavePolicy.rst.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="automatic-loading-and-saving-of-plugin-parameters">
<span id="plugin-autoloadsave-policy"></span><h1><span class="section-number">8.8.15. </span>Automatic loading and saving of plugin parameters<a class="headerlink" href="#automatic-loading-and-saving-of-plugin-parameters" title="Permalink to this heading">¶</a></h1>
<p><strong>itom</strong> has the optional ability, that all plugin parameters (type <em>Param</em>), which are part of the <strong>m_params</strong> map of the plugin-class and do not have the <em>typeNoAutoSave</em>-flag defined, can be stored in a plugin-specific xml-file when the plugin instance is closed. This saving is not only dependent on the plugin but also on its unique identifier.
<strong>itom</strong> has the optional ability, that all plugin parameters (of type <strong>Param</strong> or <strong>ParamBase</strong>), which are part of the <strong>m_params</strong> map of the plugin-class and do not have the <em>typeNoAutoSave</em>-flag defined, can be stored in a plugin-specific xml-file when the plugin instance is closed. This saving is not only dependent on the plugin but also on its unique identifier.</p>
<p>Additionally, the decision whether these parameters should be saved or not, is set by the member variable <strong>m_autoSavePolicy</strong> of the interface class of the plugin (see <a class="reference internal" href="pluginInterfaceClass.html#plugin-interface-class"><span class="std std-ref">Plugin interface class</span></a>). This variable can have the following values:</p>
<div class="highlight-c++ notranslate"><div class="highlight"><pre><span></span><span class="k">enum</span><span class="w"> </span><span class="nc">tAutoSavePolicy</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">    </span><span class="n">autoSaveAlways</span><span class="w">          </span><span class="o">=</span><span class="w"> </span><span class="mh">0x1</span><span class="p">,</span><span class="w"> </span><span class="cm">/*!&lt; always saves parameters to xml-file at shutdown */</span><span class="w"></span>
<span class="w">    </span><span class="n">autoSaveNever</span><span class="w">           </span><span class="o">=</span><span class="w"> </span><span class="mh">0x2</span><span class="w">  </span><span class="cm">/*!&lt; never saves parameters to xml-file at shutdown (default) */</span><span class="w"></span>
<span class="p">};</span><span class="w"></span>
</pre></div>
</div>
<p>If the member has the value <em>autoSaveAlways</em>, all parameters contained in the map <em>m_params</em> of the plugin instance are saved in a xml-subtree. This subtree is dependent on the unique identifier of the plugin. Remember, that only plugins which do not have the flag <em>typeNoAutoSave</em> will be saved (see <a class="reference internal" href="plugin-params.html#plugin-params"><span class="std std-ref">Parameter-Container class of itom</span></a>).</p>
<p>Inversely, saved parameters in a plugin specific xml-file can also be set after that the plugin instance has been created and initialized (with the mandatory and optional parameters given by the constructor in python). The loading of these xml-parameters is dependent on the value of the member variable <strong>m_autoLoadPolicy</strong> of the plugin’s interface class. This variable can have the following values:</p>
<div class="highlight-c++ notranslate"><div class="highlight"><pre><span></span><span class="k">enum</span><span class="w"> </span><span class="nc">tAutoLoadPolicy</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">    </span><span class="n">autoLoadAlways</span><span class="w">           </span><span class="o">=</span><span class="w"> </span><span class="mh">0x1</span><span class="p">,</span><span class="w"> </span><span class="cm">/*!&lt; always loads xml file by addInManager */</span><span class="w"></span>
<span class="w">    </span><span class="n">autoLoadNever</span><span class="w">            </span><span class="o">=</span><span class="w"> </span><span class="mh">0x2</span><span class="p">,</span><span class="w"> </span><span class="cm">/*!&lt; never automatically loads parameters from xml-file (default) */</span><span class="w"></span>
<span class="w">    </span><span class="n">autoLoadKeywordDefined</span><span class="w">   </span><span class="o">=</span><span class="w"> </span><span class="mh">0x4</span><span class="w">  </span><span class="cm">/*!&lt; only loads parameters if keyword autoLoadParams=1 exists in python-constructor */</span><span class="w"></span>
<span class="p">};</span><span class="w"></span>
</pre></div>
</div>
<p>If the variable is set to <em>autoLoadAlways</em>, all parameters in the xml-subtree, having the same unique identifier (ID) than the recently opened plugin instance, are set in the instance. This is done by calling the method <strong>setParam</strong> of the instance for every specific parameter. It is up to you to decide whether you accept the given parameter from the xml-file or not. Remember that <strong>setParam</strong> is called after that the plugin instance is created and the init-method of the plugin has been called. Of course, the init-method gets the mandatory and optional parameters, which are indicated when you create the plugin instance for example in python.</p>
<p>If the variable is set to <em>autoLoadNever</em>, no parameters of the xml-file will be set to the plugin’s instance.</p>
<p>If the variable is set to <em>autoLoadKeywordDefined</em>, the parameters from the xml-subtree are only set to the plugin’s instance, if the plugin has been created in python with the last keyword-defined parameter <strong>autoLoadParams=1</strong>.</p>
<p>Example:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">a</span> <span class="o">=</span> <span class="n">dataIO</span><span class="p">(</span><span class="s2">&quot;DummyGrabber&quot;</span><span class="p">,</span><span class="n">param1</span><span class="p">,</span><span class="o">...</span><span class="p">,</span><span class="n">paramN</span><span class="p">,</span><span class="n">autoLoadParams</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
</pre></div>
</div>
</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="pluginCreateCMake.html" class="btn btn-neutral float-left" title="8.8.14. Create a new plugin via CMake" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="plugin-itomAPI.html" class="btn btn-neutral float-right" title="8.8.16. itom API" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2011-2022, Institut fuer Technische Optik (ITO), University Stuttgart. Bug report: https://github.com/itom-project/itom/issues.
      <span class="lastupdated">Last updated on Sep 19, 2022.
      </span></p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>