

<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>8.8.7. Introduction to plugins &mdash; itom Documentation</title>
  

  
  <link rel="stylesheet" href="../../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../../_static/pygments.css" type="text/css" />

  
  
  
  

  
  <!--[if lt IE 9]>
    <script src="../../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="../../" src="../../_static/documentation_options.js"></script>
        <script src="../../_static/jquery.js"></script>
        <script src="../../_static/underscore.js"></script>
        <script src="../../_static/doctools.js"></script>
        <script src="../../_static/language_data.js"></script>
    
    <script type="text/javascript" src="../../_static/js/theme.js"></script>

    
    <link rel="index" title="Index" href="../../genindex.html" />
    <link rel="search" title="Search" href="../../search.html" />
    <link rel="next" title="8.8.8. Plugin interface class" href="pluginInterfaceClass.html" />
    <link rel="prev" title="8.8.6. Parameters - Validation" href="plugin-paramsValidate.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="../../index.html" class="icon icon-home" alt="Documentation Home"> itom Documentation
          

          
          </a>

          
            
            
              <div class="version">
                4.0.0
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        
        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <p class="caption"><span class="caption-text">Table of Contents</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../../00_releaseNotes/whats-new.html">1. Changelog</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../01_introduction/introduction.html">2. Introduction</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../02_installation/install.html">3. Installation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../03_gettingStarted/getting-started.html">4. Getting Started</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../04_itom_gui/gui.html">5. The itom User Interface</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../05_plots/plots.html">6. Plots and Figures</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../06_extended_gui/extended_gui.html">7. Extending the user interface of <strong>itom</strong></a></li>
<li class="toctree-l1 current"><a class="reference internal" href="../plugins.html">8. Plugins</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="../basic_concept.html">8.1. Basic concept</a></li>
<li class="toctree-l2"><a class="reference internal" href="../loading_plugins.html">8.2. Loading plugins</a></li>
<li class="toctree-l2"><a class="reference internal" href="../getstart-hardware.html">8.3. How to use hardware plugins</a></li>
<li class="toctree-l2"><a class="reference internal" href="../getstart-grabber.html">8.4. Getting started with grabbers</a></li>
<li class="toctree-l2"><a class="reference internal" href="../getstart-adda.html">8.5. Getting started with A/D converters</a></li>
<li class="toctree-l2"><a class="reference internal" href="../getstart-actuator.html">8.6. Getting started with actuators</a></li>
<li class="toctree-l2"><a class="reference internal" href="../getstart-filter.html">8.7. Getting started with algorithm plugins (denoted as filters)</a></li>
<li class="toctree-l2 current"><a class="reference internal" href="plugin-development.html">8.8. Development under C++</a><ul class="current">
<li class="toctree-l3"><a class="reference internal" href="plugin-RetVal.html">8.8.1. <strong>RetVal</strong> - The return type of <strong>itom</strong> methods</a></li>
<li class="toctree-l3"><a class="reference internal" href="plugin-sharedSemaphore.html">8.8.2. ItomSharedSemaphore</a></li>
<li class="toctree-l3"><a class="reference internal" href="plugin-dataObject.html">8.8.3. DataObject</a></li>
<li class="toctree-l3"><a class="reference internal" href="plugin-params.html">8.8.4. Parameter-Container class of <strong>itom</strong></a></li>
<li class="toctree-l3"><a class="reference internal" href="plugin-paramsMeta.html">8.8.5. Parameters - Meta Information</a></li>
<li class="toctree-l3"><a class="reference internal" href="plugin-paramsValidate.html">8.8.6. Parameters - Validation</a></li>
<li class="toctree-l3 current"><a class="current reference internal" href="#">8.8.7. Introduction to plugins</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#plugin-load-mechanism-of-itom">8.8.7.1. Plugin load mechanism of <strong>itom</strong></a></li>
<li class="toctree-l4"><a class="reference internal" href="#basic-plugin-structure">8.8.7.2. Basic plugin structure</a></li>
<li class="toctree-l4"><a class="reference internal" href="#communication-between-itom-python-and-each-plugin">8.8.7.3. Communication between itom, Python and each plugin</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="pluginInterfaceClass.html">8.8.8. Plugin interface class</a></li>
<li class="toctree-l3"><a class="reference internal" href="plugin-AddInBase-Ref.html">8.8.9. AddInBase</a></li>
<li class="toctree-l3"><a class="reference internal" href="pluginClass.html">8.8.10. Plugin class - Basic information</a></li>
<li class="toctree-l3"><a class="reference internal" href="plugin-dataIO.html">8.8.11. Plugin class - DataIO</a></li>
<li class="toctree-l3"><a class="reference internal" href="plugin-actuator.html">8.8.12. Plugin class - Actuator</a></li>
<li class="toctree-l3"><a class="reference internal" href="plugin-algo.html">8.8.13. Plugin class - Algo</a></li>
<li class="toctree-l3"><a class="reference internal" href="pluginCreateCMake.html">8.8.14. Create a new plugin via CMake</a></li>
<li class="toctree-l3"><a class="reference internal" href="pluginAutoLoadSavePolicy.html">8.8.15. Automatic loading and saving of plugin parameters</a></li>
<li class="toctree-l3"><a class="reference internal" href="plugin-itomAPI.html">8.8.16. itom API</a></li>
<li class="toctree-l3"><a class="reference internal" href="plugin-externalLibraries.html">8.8.17. Link or load external libraries</a></li>
<li class="toctree-l3"><a class="reference internal" href="projectSettings.html">8.8.18. Project settings for plugins</a></li>
<li class="toctree-l3"><a class="reference internal" href="plugin-dockWidget.html">8.8.19. Optional dock widget (toolbox) for hardware plugins</a></li>
<li class="toctree-l3"><a class="reference internal" href="plugin-configDialog.html">8.8.20. Optional configuration dialog for hardware plugins</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="openCVMat.html">8.9. OpenCV matrices <strong>cv::Mat</strong> and <strong>cv::Mat_</strong></a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../08_scriptLanguage/script-language.html">9. Python scripting language</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../09_reference/reference.html">10. itom Script Reference</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../10_miscellaneous/miscellaneous.html">11. Miscellaneous</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../11_test-scripts/test-scripts.html">12. Demo scripts</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../12_tutorials/tutorials.html">13. Python tutorials</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../13_contributing/contributing.html">14. Contributing</a></li>
</ul>

            
          
        </div>
        
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../index.html">itom Documentation</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../../index.html" class="icon icon-home"></a> &raquo;</li>
        
          <li><a href="../plugins.html"><span class="section-number">8. </span>Plugins</a> &raquo;</li>
        
          <li><a href="plugin-development.html"><span class="section-number">8.8. </span>Development under C++</a> &raquo;</li>
        
      <li><span class="section-number">8.8.7. </span>Introduction to plugins</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="../../_sources/07_plugins/development/pluginStructure.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="introduction-to-plugins">
<h1><span class="section-number">8.8.7. </span>Introduction to plugins<a class="headerlink" href="#introduction-to-plugins" title="Permalink to this headline">¶</a></h1>
<p>The software <strong>itom</strong> obtains most functionality by mainly two concepts. On the one hand there is the python scripting language, which allows you to use almost all available python modules
that are available for python 3.2 or higher. On the other hand, the entire measurement system becomes powerful by the possibility to enhance its functionality by several plugins.</p>
<p>These plugins are separated into three main groups:</p>
<ul>
<li><p>Type <strong>actuator</strong>: Plugins of this basic type should be used if you want to connect any actuator, like motor stages, piezo actuators, focussing systems, … to <strong>itom</strong> (see <a class="reference internal" href="pluginClass.html#plugin-class"><span class="std std-ref">Plugin class - Basic information</span></a> and <a class="reference internal" href="plugin-actuator.html#plugin-class-actuator"><span class="std std-ref">Plugin class - Actuator</span></a>)</p></li>
<li><p>Type <strong>dataIO</strong>: Plugins of this basic type should be used for connecting any input or output device to <strong>itom</strong>. The main representative of this group are cameras as input device or the serial port as an input/ouput device (see <a class="reference internal" href="pluginClass.html#plugin-class"><span class="std std-ref">Plugin class - Basic information</span></a> and <a class="reference internal" href="plugin-dataIO.html#plugin-class-dataio"><span class="std std-ref">Plugin class - DataIO</span></a>). This group is subdivided into the following sub-types:</p>
<blockquote>
<div><ul class="simple">
<li><p><strong>grabber</strong> for cameras (Please consider that the class of the camera-plugin should not directly derive from <em>AddInDataIO</em> but from <em>AddInGrabber</em>, which is derived from the first.</p></li>
<li><p><strong>ADDA</strong> for any analog-digital converters</p></li>
<li><p><strong>rawIO</strong> for further input-output devices, like display windows for SLM or LCoS-sensors, serial ports or plugins which do not fit to any other group, since the type <strong>dataIO</strong> is the most flexibel plugin type.</p></li>
</ul>
</div></blockquote>
</li>
<li><p>Type <strong>algo</strong>: Plugins of this type mainly contain different algorithms and/or advanced user interfaces like dialogs, main windows, widgets, …  (see <a class="reference internal" href="pluginClass.html#plugin-class"><span class="std std-ref">Plugin class - Basic information</span></a> and <a class="reference internal" href="plugin-algo.html#plugin-class-algo"><span class="std std-ref">Plugin class - Algo</span></a>)</p></li>
</ul>
<p>Each plugin is a different project in your programming environment and is finally compiled as shared library (DLL on Windows).</p>
<div class="section" id="plugin-load-mechanism-of-itom">
<h2><span class="section-number">8.8.7.1. </span>Plugin load mechanism of <strong>itom</strong><a class="headerlink" href="#plugin-load-mechanism-of-itom" title="Permalink to this headline">¶</a></h2>
<p>For information about loading plugins in <strong>itom</strong>, see the section :ref:plugins-loading.</p>
</div>
<div class="section" id="basic-plugin-structure">
<h2><span class="section-number">8.8.7.2. </span>Basic plugin structure<a class="headerlink" href="#basic-plugin-structure" title="Permalink to this headline">¶</a></h2>
<p>Every plugin consists at least of two classes, which are both derived from two different base classes. All possible base classes are provided in the file:</p>
<div class="highlight-c notranslate"><div class="highlight"><pre><span></span><span class="n">addInInterface</span><span class="p">.</span><span class="n">h</span>
</pre></div>
</div>
<p>which is contained in the folder <strong>include/common</strong> of <strong>itom</strong>’s SDK. This folder contains further header files which can be used in every plugin and contain interfaces and helper libaries with useful functions for successfully and easily program a plugin. For using these files you need to link your plugin agains the libraries <strong>itomCommonLib</strong> and <strong>itomCommonQtLib</strong>. Additionally <strong>itom</strong> provides an application programming interface (API) such that plugins can access important methods of <strong>itom</strong>. For more information see <a class="reference internal" href="plugin-itomAPI.html#plugin-itomapi"><span class="std std-ref">itom API</span></a>.</p>
<p>The two classes of the plugin are as follows:</p>
<ol class="arabic">
<li><p>Interface- or factory-class (derived from class <strong>AddInInterfaceBase</strong>)</p>
<blockquote>
<div><p>This class must be derived from the class <strong>AddInInterfaceBase</strong> and is the communication tunnel between <strong>itom</strong> and the plugin itself using the plugin-framework of <strong>Qt</strong>. The plugin framework creates one single instance of this class when the plugin DLL is loaded (that means at startup of <strong>itom</strong>). Therefore this class is considered to be a singleton instance and since it is always loaded by <strong>itom</strong> even if it is not really needed, this class is kept small and only provides basic information about the plugin itself.</p>
<p>For further information about the structure of this interface class see <a class="reference internal" href="pluginInterfaceClass.html#plugin-interface-class"><span class="std std-ref">Plugin Interface Class</span></a>.</p>
</div></blockquote>
</li>
<li><p>Individual plugin class (derived from class <strong>AddInDataIO</strong>, <strong>AddInGrabber</strong>, <strong>AddInActuator</strong> or <strong>AddInAlgo</strong>)</p>
<blockquote>
<div><p>This class is the main class of the plugin and should contain the main functionality of the plugin. Depending on the plugin type, this class is derived from any of the classes <strong>AddInDataIO</strong>, <strong>AddInGrabber</strong>, <strong>AddInActuator</strong> or <strong>AddInAlgo</strong>, which are also contained in the files mentioned above. All this classes internally are derived from the base class <strong>AddInBase</strong>, which is the most general class used for plugin handling and organization in <strong>itom</strong>. Please do not directly derive from <strong>AddInBase</strong>.</p>
<p>In the case of an actuator, a camera or any other IO-device, every opened device is represented by one individual instance of its corresponding plugin class. Hence, it is possible to have multiple instances of every class opened in <strong>itom</strong>. The creation and deletion of any instance is at first requested by the <strong>AddInManager</strong> class (an internal class of <strong>itom</strong>) which itself redirects this request to the singleton instance of the interface class in the corresponding plugin (This is the interface class mentioned in point 1 above).</p>
<p>In the case of an algorithm-plugin, this class mainly contains a set of static methods, each being one individual algorithm or user interface. At startup of <strong>itom</strong> the singleton instance of the interface-class is created. Additionally, this individual plugin class also is instantiated once (singleton) at startup of itom and its internal <em>init</em>-method provides an overview (list) of all available algorithm and user-interface functions to <strong>itom</strong>. Additionally the default parameter sets for all algorithms and widget-methods are requested by <strong>itom</strong> and startup and are then cached in order to provide faster access in any subsequent function calls.</p>
<p>Further information about the common parts of the plugin class, independent on the plugin’s type, see <a class="reference internal" href="pluginClass.html#plugin-class"><span class="std std-ref">Plugin class - Basic information</span></a>. For detailed information about the implementation of the different plugin types, see <a class="reference internal" href="plugin-dataIO.html#plugin-class-dataio"><span class="std std-ref">Plugin class - DataIO</span></a>, <a class="reference internal" href="plugin-actuator.html#plugin-class-actuator"><span class="std std-ref">Plugin class - Actuator</span></a> or <a class="reference internal" href="plugin-algo.html#plugin-class-algo"><span class="std std-ref">Plugin class - Algo</span></a>.</p>
</div></blockquote>
</li>
</ol>
</div>
<div class="section" id="communication-between-itom-python-and-each-plugin">
<h2><span class="section-number">8.8.7.3. </span>Communication between itom, Python and each plugin<a class="headerlink" href="#communication-between-itom-python-and-each-plugin" title="Permalink to this headline">¶</a></h2>
<p>The communication to plugins of type <strong>actuator</strong> and <strong>dataIO</strong> is only possible by calling the public methods defined in the base classes <strong>AddInActuator</strong> or <strong>AddInDataIO</strong>. In Python, there exist two classes <strong>dataIO</strong> and <strong>actuator</strong>. Both have an interface that is analog to the corresponding interface <strong>AddInActuator</strong> or <strong>AddInDataIO</strong> in C++. Therefore, if a certain method of these classes is called in python, the call is redirected to the corresponding plugin-method. However, this call is executed across a thread-change, since both python and each plugin (besides the algorith-plugins) “live” in their own thread.</p>
</div>
</div>


           </div>
           
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="pluginInterfaceClass.html" class="btn btn-neutral float-right" title="8.8.8. Plugin interface class" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="plugin-paramsValidate.html" class="btn btn-neutral float-left" title="8.8.6. Parameters - Validation" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        
        &copy; Copyright 2011-2020, Institut fuer Technische Optik (ITO), University Stuttgart. Bug report: https://bitbucket.org/itom/itom/issues
      <span class="lastupdated">
        Last updated on Oct 02, 2020.
      </span>

    </p>
  </div>
    
    
    
    Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a
    
    <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a>
    
    provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  

  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>