
<!DOCTYPE html>


<html lang="en" data-content_root="../../" >

  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="viewport" content="width=device-width, initial-scale=1" />

    <title>8.8.8. Plugin interface class &#8212; itom Documentation</title>
  
  
  
  <script data-cfasync="false">
    document.documentElement.dataset.mode = localStorage.getItem("mode") || "";
    document.documentElement.dataset.theme = localStorage.getItem("theme") || "";
  </script>
  
  <!-- Loaded before other Sphinx assets -->
  <link href="../../_static/styles/theme.css?digest=dfe6caa3a7d634c4db9b" rel="stylesheet" />
<link href="../../_static/styles/bootstrap.css?digest=dfe6caa3a7d634c4db9b" rel="stylesheet" />
<link href="../../_static/styles/pydata-sphinx-theme.css?digest=dfe6caa3a7d634c4db9b" rel="stylesheet" />

  
  <link href="../../_static/vendor/fontawesome/6.5.2/css/all.min.css?digest=dfe6caa3a7d634c4db9b" rel="stylesheet" />
  <link rel="preload" as="font" type="font/woff2" crossorigin href="../../_static/vendor/fontawesome/6.5.2/webfonts/fa-solid-900.woff2" />
<link rel="preload" as="font" type="font/woff2" crossorigin href="../../_static/vendor/fontawesome/6.5.2/webfonts/fa-brands-400.woff2" />
<link rel="preload" as="font" type="font/woff2" crossorigin href="../../_static/vendor/fontawesome/6.5.2/webfonts/fa-regular-400.woff2" />

    <link rel="stylesheet" type="text/css" href="../../_static/pygments.css?v=fa44fd50" />
    <link rel="stylesheet" type="text/css" href="../../_static/copybutton.css?v=76b2166b" />
    <link rel="stylesheet" type="text/css" href="../../_static/sg_gallery.css?v=d2d258e8" />
    <link rel="stylesheet" type="text/css" href="../../_static/sg_gallery-binder.css?v=f4aeca0c" />
    <link rel="stylesheet" type="text/css" href="../../_static/sg_gallery-dataframe.css?v=2082cf3c" />
    <link rel="stylesheet" type="text/css" href="../../_static/sg_gallery-rendered-html.css?v=1277b6f3" />
    <link rel="stylesheet" type="text/css" href="../../_static/html.css?v=a585cee4" />
  
  <!-- Pre-loaded scripts that we'll load fully later -->
  <link rel="preload" as="script" href="../../_static/scripts/bootstrap.js?digest=dfe6caa3a7d634c4db9b" />
<link rel="preload" as="script" href="../../_static/scripts/pydata-sphinx-theme.js?digest=dfe6caa3a7d634c4db9b" />
  <script src="../../_static/vendor/fontawesome/6.5.2/js/all.min.js?digest=dfe6caa3a7d634c4db9b"></script>

    <script src="../../_static/documentation_options.js?v=bf0e8745"></script>
    <script src="../../_static/doctools.js?v=9bcbadda"></script>
    <script src="../../_static/sphinx_highlight.js?v=dc90522c"></script>
    <script src="../../_static/clipboard.min.js?v=a7894cd8"></script>
    <script src="../../_static/copybutton.js?v=f281be69"></script>
    <script>DOCUMENTATION_OPTIONS.pagename = '07_plugins/development/pluginInterfaceClass';</script>
    <link rel="icon" href="../../_static/itomLogo3_128.png"/>
    <link rel="index" title="Index" href="../../genindex.html" />
    <link rel="search" title="Search" href="../../search.html" />
    <link rel="next" title="8.8.10. Plugin class - Basic information" href="pluginClass.html" />
    <link rel="prev" title="8.8.7. Introduction to plugins" href="pluginStructure.html" />
  <meta name="viewport" content="width=device-width, initial-scale=1"/>
  <meta name="docsearch:language" content="en"/>
    <meta name="docbuild:last-update" content="Nov 12, 2024"/>
  </head>
  
  
  <body data-bs-spy="scroll" data-bs-target=".bd-toc-nav" data-offset="180" data-bs-root-margin="0px 0px -60%" data-default-mode="">

  
  
  <div id="pst-skip-link" class="skip-link d-print-none"><a href="#main-content">Skip to main content</a></div>
  
  <div id="pst-scroll-pixel-helper"></div>
  
  <button type="button" class="btn rounded-pill" id="pst-back-to-top">
    <i class="fa-solid fa-arrow-up"></i>Back to top</button>

  
  <input type="checkbox"
          class="sidebar-toggle"
          id="pst-primary-sidebar-checkbox"/>
  <label class="overlay overlay-primary" for="pst-primary-sidebar-checkbox"></label>
  
  <input type="checkbox"
          class="sidebar-toggle"
          id="pst-secondary-sidebar-checkbox"/>
  <label class="overlay overlay-secondary" for="pst-secondary-sidebar-checkbox"></label>
  
  <div class="search-button__wrapper">
    <div class="search-button__overlay"></div>
    <div class="search-button__search-container">
<form class="bd-search d-flex align-items-center"
      action="../../search.html"
      method="get">
  <i class="fa-solid fa-magnifying-glass"></i>
  <input type="search"
         class="form-control"
         name="q"
         id="search-input"
         placeholder="Search the docs ..."
         aria-label="Search the docs ..."
         autocomplete="off"
         autocorrect="off"
         autocapitalize="off"
         spellcheck="false"/>
  <span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd>K</kbd></span>
</form></div>
  </div>

  <div class="pst-async-banner-revealer d-none">
  <aside id="bd-header-version-warning" class="d-none d-print-none" aria-label="Version warning"></aside>
</div>

  
    <header class="bd-header navbar navbar-expand-lg bd-navbar d-print-none">
<div class="bd-header__inner bd-page-width">
  <button class="pst-navbar-icon sidebar-toggle primary-toggle" aria-label="Site navigation">
    <span class="fa-solid fa-bars"></span>
  </button>
  
  
  <div class="col-lg-3 navbar-header-items__start">
    
      <div class="navbar-item">

  
    
  

<a class="navbar-brand logo" href="../../index.html">
  
  
  
  
  
    
    
      
    
    
    <img src="../../_static/itomLogo3_128.png" class="logo__image only-light" alt="itom Documentation - Home"/>
    <script>document.write(`<img src="../../_static/itomLogo3_128.png" class="logo__image only-dark" alt="itom Documentation - Home"/>`);</script>
  
  
</a></div>
    
  </div>
  
  <div class="col-lg-9 navbar-header-items">
    
    <div class="me-auto navbar-header-items__center">
      
        <div class="navbar-item">
<nav>
  <ul class="bd-navbar-elements navbar-nav">
    
<li class="nav-item ">
  <a class="nav-link nav-internal" href="../../00_releaseNotes/whats-new.html">
    Changelog
  </a>
</li>


<li class="nav-item ">
  <a class="nav-link nav-internal" href="../../01_introduction/introduction.html">
    Introduction
  </a>
</li>


<li class="nav-item ">
  <a class="nav-link nav-internal" href="../../02_installation/install.html">
    Installation
  </a>
</li>


<li class="nav-item ">
  <a class="nav-link nav-internal" href="../../03_gettingStarted/getting-started.html">
    Getting Started
  </a>
</li>


<li class="nav-item ">
  <a class="nav-link nav-internal" href="../../04_itom_gui/gui.html">
    The itom User Interface
  </a>
</li>

            <li class="nav-item dropdown">
                <button class="btn dropdown-toggle nav-item" type="button" data-bs-toggle="dropdown" aria-expanded="false" aria-controls="pst-nav-more-links">
                    More
                </button>
                <ul id="pst-nav-more-links" class="dropdown-menu">
                    
<li class=" ">
  <a class="nav-link dropdown-item nav-internal" href="../../05_plots/plots.html">
    Plots and Figures
  </a>
</li>


<li class=" ">
  <a class="nav-link dropdown-item nav-internal" href="../../06_extended_gui/extended_gui.html">
    Extending the user interface of itom
  </a>
</li>


<li class=" current active">
  <a class="nav-link dropdown-item nav-internal" href="../plugins.html">
    Plugins
  </a>
</li>


<li class=" ">
  <a class="nav-link dropdown-item nav-internal" href="../../08_scriptLanguage/script-language.html">
    Python Scripting Language
  </a>
</li>


<li class=" ">
  <a class="nav-link dropdown-item nav-internal" href="../../09_reference/reference.html">
    itom Script Reference
  </a>
</li>


<li class=" ">
  <a class="nav-link dropdown-item nav-internal" href="../../10_miscellaneous/miscellaneous.html">
    Miscellaneous
  </a>
</li>


<li class=" ">
  <a class="nav-link dropdown-item nav-internal" href="../../11_demos/demos.html">
    Demo scripts
  </a>
</li>


<li class=" ">
  <a class="nav-link dropdown-item nav-internal" href="../../12_contributing/contributing.html">
    Contributing
  </a>
</li>

                </ul>
            </li>
            
  </ul>
</nav></div>
      
    </div>
    
    
    <div class="navbar-header-items__end">
      
        <div class="navbar-item navbar-persistent--container">
          

 <script>
 document.write(`
   <button class="btn search-button-field search-button__button" title="Search" aria-label="Search" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <i class="fa-solid fa-magnifying-glass"></i>
    <span class="search-button__default-text">Search</span>
    <span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd class="kbd-shortcut__modifier">K</kbd></span>
   </button>
 `);
 </script>
        </div>
      
      
        <div class="navbar-item">

<script>
document.write(`
  <button class="btn btn-sm nav-link pst-navbar-icon theme-switch-button" title="light/dark" aria-label="light/dark" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <i class="theme-switch fa-solid fa-sun fa-lg" data-mode="light"></i>
    <i class="theme-switch fa-solid fa-moon fa-lg" data-mode="dark"></i>
    <i class="theme-switch fa-solid fa-circle-half-stroke fa-lg" data-mode="auto"></i>
  </button>
`);
</script></div>
      
        <div class="navbar-item"><ul class="navbar-icon-links"
    aria-label="Icon Links">
        <li class="nav-item">
          
          
          
          
          
          
          
          
          <a href="https://github.com/itom-project" title="GitHub" class="nav-link pst-navbar-icon" rel="noopener" target="_blank" data-bs-toggle="tooltip" data-bs-placement="bottom"><i class="fa-brands fa-github fa-lg" aria-hidden="true"></i>
            <span class="sr-only">GitHub</span></a>
        </li>
        <li class="nav-item">
          
          
          
          
          
          
          
          
          <a href="https://www.ito.uni-stuttgart.de/" title="ITO" class="nav-link pst-navbar-icon" rel="noopener" target="_blank" data-bs-toggle="tooltip" data-bs-placement="bottom"><img src="../../_static/ITO_Logo_neu_II.png" class="icon-link-image" alt="ITO"/></a>
        </li>
</ul></div>
      
    </div>
    
  </div>
  
  
    <div class="navbar-persistent--mobile">

 <script>
 document.write(`
   <button class="btn search-button-field search-button__button" title="Search" aria-label="Search" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <i class="fa-solid fa-magnifying-glass"></i>
    <span class="search-button__default-text">Search</span>
    <span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd class="kbd-shortcut__modifier">K</kbd></span>
   </button>
 `);
 </script>
    </div>
  

  
    <button class="pst-navbar-icon sidebar-toggle secondary-toggle" aria-label="On this page">
      <span class="fa-solid fa-outdent"></span>
    </button>
  
</div>

    </header>
  

  <div class="bd-container">
    <div class="bd-container__inner bd-page-width">
      
      
      
      <div class="bd-sidebar-primary bd-sidebar">
        

  
  <div class="sidebar-header-items sidebar-primary__section">
    
    
      <div class="sidebar-header-items__center">
        
          
          
            <div class="navbar-item">
<nav>
  <ul class="bd-navbar-elements navbar-nav">
    
<li class="nav-item ">
  <a class="nav-link nav-internal" href="../../00_releaseNotes/whats-new.html">
    Changelog
  </a>
</li>


<li class="nav-item ">
  <a class="nav-link nav-internal" href="../../01_introduction/introduction.html">
    Introduction
  </a>
</li>


<li class="nav-item ">
  <a class="nav-link nav-internal" href="../../02_installation/install.html">
    Installation
  </a>
</li>


<li class="nav-item ">
  <a class="nav-link nav-internal" href="../../03_gettingStarted/getting-started.html">
    Getting Started
  </a>
</li>


<li class="nav-item ">
  <a class="nav-link nav-internal" href="../../04_itom_gui/gui.html">
    The itom User Interface
  </a>
</li>


<li class="nav-item ">
  <a class="nav-link nav-internal" href="../../05_plots/plots.html">
    Plots and Figures
  </a>
</li>


<li class="nav-item ">
  <a class="nav-link nav-internal" href="../../06_extended_gui/extended_gui.html">
    Extending the user interface of itom
  </a>
</li>


<li class="nav-item current active">
  <a class="nav-link nav-internal" href="../plugins.html">
    Plugins
  </a>
</li>


<li class="nav-item ">
  <a class="nav-link nav-internal" href="../../08_scriptLanguage/script-language.html">
    Python Scripting Language
  </a>
</li>


<li class="nav-item ">
  <a class="nav-link nav-internal" href="../../09_reference/reference.html">
    itom Script Reference
  </a>
</li>


<li class="nav-item ">
  <a class="nav-link nav-internal" href="../../10_miscellaneous/miscellaneous.html">
    Miscellaneous
  </a>
</li>


<li class="nav-item ">
  <a class="nav-link nav-internal" href="../../11_demos/demos.html">
    Demo scripts
  </a>
</li>


<li class="nav-item ">
  <a class="nav-link nav-internal" href="../../12_contributing/contributing.html">
    Contributing
  </a>
</li>

  </ul>
</nav></div>
          
        
      </div>
    
    
    
      <div class="sidebar-header-items__end">
        
          <div class="navbar-item">

<script>
document.write(`
  <button class="btn btn-sm nav-link pst-navbar-icon theme-switch-button" title="light/dark" aria-label="light/dark" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <i class="theme-switch fa-solid fa-sun fa-lg" data-mode="light"></i>
    <i class="theme-switch fa-solid fa-moon fa-lg" data-mode="dark"></i>
    <i class="theme-switch fa-solid fa-circle-half-stroke fa-lg" data-mode="auto"></i>
  </button>
`);
</script></div>
        
          <div class="navbar-item"><ul class="navbar-icon-links"
    aria-label="Icon Links">
        <li class="nav-item">
          
          
          
          
          
          
          
          
          <a href="https://github.com/itom-project" title="GitHub" class="nav-link pst-navbar-icon" rel="noopener" target="_blank" data-bs-toggle="tooltip" data-bs-placement="bottom"><i class="fa-brands fa-github fa-lg" aria-hidden="true"></i>
            <span class="sr-only">GitHub</span></a>
        </li>
        <li class="nav-item">
          
          
          
          
          
          
          
          
          <a href="https://www.ito.uni-stuttgart.de/" title="ITO" class="nav-link pst-navbar-icon" rel="noopener" target="_blank" data-bs-toggle="tooltip" data-bs-placement="bottom"><img src="../../_static/ITO_Logo_neu_II.png" class="icon-link-image" alt="ITO"/></a>
        </li>
</ul></div>
        
      </div>
    
  </div>
  
    <div class="sidebar-primary-items__start sidebar-primary__section">
        <div class="sidebar-primary-item">
<nav class="bd-docs-nav bd-links"
     aria-label="Section Navigation">
  <p class="bd-links__title" role="heading" aria-level="1">Section Navigation</p>
  <div class="bd-toc-item navbar-nav"><ul class="nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="../basic_concept.html">8.1. Basic concept</a></li>
<li class="toctree-l1"><a class="reference internal" href="../loading_plugins.html">8.2. Loading plugins</a></li>
<li class="toctree-l1"><a class="reference internal" href="../getstart-hardware.html">8.3. How to use hardware plugins</a></li>
<li class="toctree-l1"><a class="reference internal" href="../getstart-grabber.html">8.4. Getting started with grabbers</a></li>
<li class="toctree-l1"><a class="reference internal" href="../getstart-adda.html">8.5. Getting started with A/D converters</a></li>
<li class="toctree-l1"><a class="reference internal" href="../getstart-actuator.html">8.6. Getting started with actuators</a></li>
<li class="toctree-l1"><a class="reference internal" href="../getstart-filter.html">8.7. Getting started with algorithm plugins (denoted as filters)</a></li>
</ul>
<ul class="current nav bd-sidenav">
<li class="toctree-l1 current active has-children"><a class="reference internal" href="plugin-development.html">8.8. Development under C++</a><details open="open"><summary><span class="toctree-toggle" role="presentation"><i class="fa-solid fa-chevron-down"></i></span></summary><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="plugin-RetVal.html">8.8.1. <strong>RetVal</strong> - The return type of <strong>itom</strong> methods</a></li>
<li class="toctree-l2"><a class="reference internal" href="plugin-sharedSemaphore.html">8.8.2. ItomSharedSemaphore</a></li>
<li class="toctree-l2"><a class="reference internal" href="plugin-dataObject.html">8.8.3. DataObject</a></li>
<li class="toctree-l2"><a class="reference internal" href="plugin-params.html">8.8.4. Parameter-Container class of <strong>itom</strong></a></li>
<li class="toctree-l2"><a class="reference internal" href="plugin-paramsMeta.html">8.8.5. Parameters - Meta Information</a></li>
<li class="toctree-l2"><a class="reference internal" href="plugin-paramsValidate.html">8.8.6. Parameters - Validation</a></li>
<li class="toctree-l2"><a class="reference internal" href="pluginStructure.html">8.8.7. Introduction to plugins</a></li>
<li class="toctree-l2 current active"><a class="current reference internal" href="#">8.8.8. Plugin interface class</a></li>
<li class="toctree-l2"><a class="reference internal" href="plugin-AddInBase-Ref.html">8.8.9. AddInBase</a></li>
<li class="toctree-l2"><a class="reference internal" href="pluginClass.html">8.8.10. Plugin class - Basic information</a></li>
<li class="toctree-l2"><a class="reference internal" href="plugin-dataIO.html">8.8.11. Plugin class - DataIO</a></li>
<li class="toctree-l2"><a class="reference internal" href="plugin-actuator.html">8.8.12. Plugin class - Actuator</a></li>
<li class="toctree-l2"><a class="reference internal" href="plugin-algo.html">8.8.13. Plugin class - Algo</a></li>
<li class="toctree-l2"><a class="reference internal" href="pluginCreateCMake.html">8.8.14. Create a new plugin via CMake</a></li>
<li class="toctree-l2"><a class="reference internal" href="pluginAutoLoadSavePolicy.html">8.8.15. Automatic loading and saving of plugin parameters</a></li>
<li class="toctree-l2"><a class="reference internal" href="plugin-itomAPI.html">8.8.16. itom API</a></li>
<li class="toctree-l2"><a class="reference internal" href="plugin-externalLibraries.html">8.8.17. Link or load external libraries</a></li>
<li class="toctree-l2"><a class="reference internal" href="projectSettings.html">8.8.18. Project settings for plugins</a></li>
<li class="toctree-l2"><a class="reference internal" href="plugin-dockWidget.html">8.8.19. Optional dock widget (toolbox) for hardware plugins</a></li>
<li class="toctree-l2"><a class="reference internal" href="plugin-configDialog.html">8.8.20. Optional configuration dialog for hardware plugins</a></li>
</ul>
</details></li>
<li class="toctree-l1"><a class="reference internal" href="openCVMat.html">8.9. OpenCV matrices <strong>cv::Mat</strong> and <strong>cv::Mat_</strong></a></li>
</ul>
</div>
</nav></div>
    </div>
  
  
  <div class="sidebar-primary-items__end sidebar-primary__section">
  </div>
  
  <div id="rtd-footer-container"></div>


      </div>
      
      <main id="main-content" class="bd-main" role="main">
        
        
          <div class="bd-content">
            <div class="bd-article-container">
              
              <div class="bd-header-article d-print-none">
<div class="header-article-items header-article__inner">
  
    <div class="header-article-items__start">
      
        <div class="header-article-item">



<nav aria-label="Breadcrumb" class="d-print-none">
  <ul class="bd-breadcrumbs">
    
    <li class="breadcrumb-item breadcrumb-home">
      <a href="../../index.html" class="nav-link" aria-label="Home">
        <i class="fa-solid fa-home"></i>
      </a>
    </li>
    
    <li class="breadcrumb-item"><a href="../plugins.html" class="nav-link"><span class="section-number">8. </span>Plugins</a></li>
    
    
    <li class="breadcrumb-item"><a href="plugin-development.html" class="nav-link"><span class="section-number">8.8. </span>Development under C++</a></li>
    
    <li class="breadcrumb-item active" aria-current="page"><span...</li>
  </ul>
</nav>
</div>
      
    </div>
  
  
</div>
</div>
              
              
              
                
<div id="searchbox"></div>
                <article class="bd-article">
                  
  <section id="plugin-interface-class">
<span id="id1"></span><h1><span class="section-number">8.8.8. </span>Plugin interface class<a class="headerlink" href="#plugin-interface-class" title="Link to this heading">#</a></h1>
<p>Every <strong>itom</strong> plugin must consist of at least two classes. One class is the real plugin class, that represents one device. Therefore it is possible to create multiple instances of this class, hence, open multiple devices of the same plugin. The other class is a necessary structure in order to allow the communication between <strong>itom</strong> and the plugin. This is the so-called interface class, inherited from the abstract base class <strong>AddInInterfaceBase</strong>.</p>
<p>This base class is part of the <strong>ito</strong>-namespace and is defined in the file:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">addInInterface</span><span class="o">.</span><span class="n">h</span>
</pre></div>
</div>
<p>This file is located in the <em>common</em> directory of the include directory of the <strong>itom</strong> SDK. You need to link against the library <strong>itomCommonQtLib</strong> in the SDK.</p>
<p>In the main header file of your plugin (with the exemplary name <strong>MyPlugin</strong>), use the following demo code in order to create that class:</p>
<div class="highlight-c++ notranslate"><div class="highlight"><pre><span></span><span class="linenos"> 1</span><span class="c1">//myPlugin.h</span>
<span class="linenos"> 2</span>
<span class="linenos"> 3</span><span class="cp">#include</span><span class="w"> </span><span class="cpf">&quot;common/addInInterface.h&quot;</span><span class="c1"> //adapt the path depending on the location of your plugin</span>
<span class="linenos"> 4</span>
<span class="linenos"> 5</span><span class="k">class</span><span class="w"> </span><span class="nc">MyPluginInterface</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="k">public</span><span class="w"> </span><span class="n">ito</span><span class="o">::</span><span class="n">AddInInterfaceBase</span>
<span class="linenos"> 6</span><span class="p">{</span>
<span class="linenos"> 7</span><span class="w">    </span><span class="n">Q_OBJECT</span>
<span class="linenos"> 8</span><span class="w">    </span><span class="nf">Q_INTERFACES</span><span class="p">(</span><span class="n">ito</span><span class="o">::</span><span class="n">AddInInterfaceBase</span><span class="p">)</span>
<span class="linenos"> 9</span><span class="w">    </span><span class="n">PLUGIN_ITOM_API</span>
<span class="linenos">10</span>
<span class="linenos">11</span><span class="w">    </span><span class="k">public</span><span class="o">:</span>
<span class="linenos">12</span><span class="w">        </span><span class="n">MyPluginInterface</span><span class="p">(</span><span class="n">QObject</span><span class="w"> </span><span class="o">*</span><span class="n">parent</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">);</span>
<span class="linenos">13</span><span class="w">        </span><span class="o">~</span><span class="n">MyPluginInterface</span><span class="p">()</span><span class="w"> </span><span class="p">{};</span>
<span class="linenos">14</span><span class="w">        </span><span class="n">ito</span><span class="o">::</span><span class="n">RetVal</span><span class="w"> </span><span class="nf">getAddInInst</span><span class="p">(</span><span class="n">ito</span><span class="o">::</span><span class="n">AddInBase</span><span class="w"> </span><span class="o">**</span><span class="n">addInInst</span><span class="p">);</span>
<span class="linenos">15</span>
<span class="linenos">16</span><span class="w">    </span><span class="k">private</span><span class="o">:</span>
<span class="linenos">17</span><span class="w">        </span><span class="n">ito</span><span class="o">::</span><span class="n">RetVal</span><span class="w"> </span><span class="n">closeThisInst</span><span class="p">(</span><span class="n">ito</span><span class="o">::</span><span class="n">AddInBase</span><span class="w"> </span><span class="o">**</span><span class="n">addInInst</span><span class="p">);</span>
<span class="linenos">18</span><span class="p">};</span>
</pre></div>
</div>
<p>In the code example above, the macro directives <em>Q_OBJECT</em> and <em>Q_INTERFACES(ito::AddInInterfaceBase)</em> (lines 7+8) force the compiler in the pre-compilation step to create the necessary code (done by the <strong>Qt</strong> framework) such that the class fits to the <strong>Qt</strong>-plugin system and is able to communicate by the common signal-slot-system of <strong>Qt</strong>. Remember that every class which is finally derived from the <em>QObject</em>-class (like <em>AddInInterfaceBase</em> is, too) must have the <em>Q_OBJECT</em> macro defined.</p>
<p>The constructor <em>MyPluginInterface(…)</em>, defined in line 11 is called once by the AddIn-Manager of <strong>itom</strong> at startup in order to create the singleton instance of the class <em>MyPluginInterface</em>. In the body of this method you should provide basic information about your plugin (see section <a class="reference internal" href="#plugin-interface-class-constructor"><span class="std std-ref">The constructor of the plugin interface class</span></a>).</p>
<p>The destructor in line 12 usually does not require further implementation, such that the empty body already can be given in the header file.</p>
<p>Finally, there are also the methods <em>getAddInInst</em> and <em>closeThisInst</em> which are the most important methods. If an user or some other part of <strong>itom</strong> request an instance of this plugin (that means not an instance of the interface we are talking in this section, but of the real plugin), the AddInManager of <strong>itom</strong> calls the method <em>getAddInInst</em> of the corresponding interface class. Then this interface has to create an instance of the plugin and set the given double-pointer parameter to the pointer of this newly created instance.</p>
<p>Inversely, the AddInManager of <strong>itom</strong> will call <em>closeThisInst</em> of an interface in order to force the plugin interface class to delete the plugin instance, given by the <em>addInInst</em> parameter. This mechanism is usually used by so-called factory-classes. Therefore we can consider the interface class to be a factory for one or more instances of the plugin itself (For information about the plugin class see <a class="reference internal" href="pluginClass.html#plugin-class"><span class="std std-ref">Plugin class - Basic information</span></a>).</p>
<section id="the-constructor-of-the-plugin-interface-class">
<span id="plugin-interface-class-constructor"></span><h2><span class="section-number">8.8.8.1. </span>The constructor of the plugin interface class<a class="headerlink" href="#the-constructor-of-the-plugin-interface-class" title="Link to this heading">#</a></h2>
<p>In your main source file of your plugin you can implement the constructor of the plugin interface class in the following exemplary way:</p>
<div class="highlight-c++ notranslate"><div class="highlight"><pre><span></span><span class="n">MyPluginInterface</span><span class="o">::</span><span class="n">MyPluginInterface</span><span class="p">(</span><span class="n">QObject</span><span class="w"> </span><span class="o">*</span><span class="n">parent</span><span class="p">)</span>
<span class="p">{</span>
<span class="w">    </span><span class="n">m_type</span><span class="w">          </span><span class="o">=</span><span class="w"> </span><span class="n">ito</span><span class="o">::</span><span class="n">typeActuator</span><span class="p">;</span><span class="w"> </span><span class="c1">//or: ito::typeAlgo, ito::typeDataIO, ito::typeDataIO | ito::typeGrabber ...</span>
<span class="w">    </span><span class="n">setObjectName</span><span class="p">(</span><span class="s">&quot;MyPlugin&quot;</span><span class="p">);</span><span class="w"> </span><span class="c1">//this is the name of the plugin how it appears in itom</span>

<span class="w">    </span><span class="n">m_description</span><span class="w">   </span><span class="o">=</span><span class="w"> </span><span class="n">QObject</span><span class="o">::</span><span class="n">tr</span><span class="p">(</span><span class="s">&quot;Description of MyPlugin&quot;</span><span class="p">);</span>
<span class="w">    </span><span class="n">m_author</span><span class="w">        </span><span class="o">=</span><span class="w"> </span><span class="s">&quot;Author&#39;s name&quot;</span><span class="p">;</span>
<span class="w">    </span><span class="n">m_version</span><span class="w">       </span><span class="o">=</span><span class="w"> </span><span class="n">CREATEVERSION</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">0</span><span class="p">);</span>
<span class="w">    </span><span class="n">m_minItomVer</span><span class="w">    </span><span class="o">=</span><span class="w"> </span><span class="n">CREATEVERSION</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">);</span>
<span class="w">    </span><span class="n">m_maxItomVer</span><span class="w">    </span><span class="o">=</span><span class="w"> </span><span class="n">MAXVERSION</span><span class="p">;</span>

<span class="w">    </span><span class="n">m_autoLoadPolicy</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">ito</span><span class="o">::</span><span class="n">autoLoadKeywordDefined</span><span class="p">;</span>
<span class="w">    </span><span class="n">m_autoSavePolicy</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">ito</span><span class="o">::</span><span class="n">autoSaveAlways</span><span class="p">;</span>

<span class="w">    </span><span class="c1">//initialize mandatory parameters for creating an instance of MyPlugin</span>
<span class="w">    </span><span class="n">m_initParamsMand</span><span class="p">.</span><span class="n">append</span><span class="p">(</span><span class="w"> </span><span class="n">ito</span><span class="o">::</span><span class="n">Param</span><span class="p">(</span><span class="s">&quot;param1&quot;</span><span class="p">,</span><span class="w"> </span><span class="n">ito</span><span class="o">::</span><span class="n">Param</span><span class="o">::</span><span class="n">String</span><span class="p">,</span><span class="w"> </span>\
<span class="w">        </span><span class="s">&quot;defaultValue&quot;</span><span class="p">,</span><span class="w"> </span><span class="n">tr</span><span class="p">(</span><span class="s">&quot;translatable description&quot;</span><span class="p">).</span><span class="n">toLatin1</span><span class="p">().</span><span class="n">data</span><span class="p">())</span><span class="w"> </span><span class="p">);</span>
<span class="w">    </span><span class="p">...</span>

<span class="w">    </span><span class="c1">//initialize optional parameters for creating an instance of MyPlugin</span>
<span class="w">    </span><span class="n">m_initParamsOpt</span><span class="p">.</span><span class="n">append</span><span class="p">(</span><span class="w"> </span><span class="n">ito</span><span class="o">::</span><span class="n">Param</span><span class="p">(</span><span class="s">&quot;optParam1&quot;</span><span class="p">,</span><span class="w"> </span><span class="n">ito</span><span class="o">::</span><span class="n">Param</span><span class="o">::</span><span class="n">Int</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="mi">10</span><span class="p">,</span><span class="w"> </span><span class="mi">5</span><span class="p">,</span><span class="w"> </span>\
<span class="w">       </span><span class="n">tr</span><span class="p">(</span><span class="s">&quot;translatable description of optParam1&quot;</span><span class="p">).</span><span class="n">toLatin1</span><span class="p">().</span><span class="n">data</span><span class="p">())</span><span class="w"> </span><span class="p">)</span>
<span class="w">    </span><span class="p">...</span>
<span class="p">}</span>
</pre></div>
</div>
<p>At first, the constructor consists of a section where you define basic information about the plugin itself. In the second part you will define a list of mandatory and optional parameters which are required if any user wants to create an instance of the plugin, e.g. the user wants to open a new camera or connect any motor.</p>
<p><strong>Part 1 (Basic information):</strong></p>
<dl class="c member">
<dt class="sig sig-object c" id="c.m_type">
<span class="kt"><span class="pre">int</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">m_type</span></span></span><br /></dt>
<dd><p>Type of this plugin. Possible types are an OR-combination of the enumeration <strong>ito::tPluginType</strong>:</p>
<ul class="simple">
<li><p>typeActuator for actuator-plugins</p></li>
<li><p>typeDataIO | typeGrabber for cameras and other grabbing devices</p></li>
<li><p>typeDataIO | typeADDA for any analog/digital converters</p></li>
<li><p>typeDataIO | typeRawIO for any other input-output-devices, like serial ports, display windows…</p></li>
<li><p>typeAlgo for a plugin providing algorithms, filters or any other methods as well as graphical user interfaces, dialogs, … which enhance the functionality of <strong>itom</strong></p></li>
</ul>
</dd></dl>

<dl class="c member">
<dt class="sig sig-object c">
<span class="sig-name descname"><span class="pre">void</span> <span class="pre">setObjectName(const</span> <span class="pre">QString</span> <span class="pre">&amp;name)</span></span></dt>
<dd><p>use this method to set the name of your plugin. This name should be simple and should not contain special characters, since it not only appears in the list of plugins but is also the string used for initializing a plugin by the python scripting language.</p>
</dd></dl>

<dl class="c member">
<dt class="sig sig-object c" id="c.m_description">
<span class="n"><span class="pre">QString</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">m_description</span></span></span><a class="headerlink" href="#c.m_description" title="Link to this definition">#</a><br /></dt>
<dd><p>Give an advanced description of your plugin.</p>
</dd></dl>

<dl class="c member">
<dt class="sig sig-object c" id="c.m_author">
<span class="n"><span class="pre">QString</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">m_author</span></span></span><a class="headerlink" href="#c.m_author" title="Link to this definition">#</a><br /></dt>
<dd><p>Use this string to denote the author(s) of this plugin</p>
</dd></dl>

<dl class="c member">
<dt class="sig sig-object c" id="c.m_version">
<span class="kt"><span class="pre">int</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">m_version</span></span></span><a class="headerlink" href="#c.m_version" title="Link to this definition">#</a><br /></dt>
<dd><p>This integer variable contains the version of your plugin. A version string always consists of a major, minor and patch value. All these values are combined in the integer variable and can be created using the macro <strong>CREATEVERSION(major,minor,patch)</strong> (defined in <em>sharedStructures.h</em>), where the values major, minor and patch are integer values, too.</p>
</dd></dl>

<dl class="c member">
<dt class="sig sig-object c" id="c.m_minItomVer">
<span class="kt"><span class="pre">int</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">m_minItomVer</span></span></span><a class="headerlink" href="#c.m_minItomVer" title="Link to this definition">#</a><br /></dt>
<dd><p>Use this variable to denote the minimum version number of <strong>itom</strong> which is necessary to run this plugin. If you don’t have any specific minimum version, use the macro <strong>MINVERSION</strong>, defined in <em>sharedStructures.h</em> (folder <em>common</em>).</p>
</dd></dl>

<dl class="c member">
<dt class="sig sig-object c" id="c.m_maxItomVer">
<span class="kt"><span class="pre">int</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">m_maxItomVer</span></span></span><a class="headerlink" href="#c.m_maxItomVer" title="Link to this definition">#</a><br /></dt>
<dd><p>Use this variable to denote the maximum version number of <strong>itom</strong>. Versions higher than this value do not allow to run this plugin. If you don’t care about any maximum version, use the macro <strong>MAXVERSION</strong>, defined in <em>sharedStructures.h</em> (folder <em>common</em>).</p>
</dd></dl>

<dl class="c member">
<dt class="sig sig-object c">
<span class="sig-name descname"><span class="pre">ito::tAutoLoadPolicy</span> <span class="pre">m_autoLoadPolicy</span></span></dt>
<dd><p>Depending on the value of this variable, the internal parameters of the plugin can be loaded from a <em>xml</em>-file and set after the plugin’s <em>init</em>-method has been called. The possible values for that variable are given by the enumeration <strong>ito::tAutoLoadPolicy</strong> and are</p>
<div class="highlight-c++ notranslate"><div class="highlight"><pre><span></span><span class="k">enum</span><span class="w"> </span><span class="nc">tAutoLoadPolicy</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="n">autoLoadAlways</span><span class="w">           </span><span class="o">=</span><span class="w"> </span><span class="mh">0x1</span><span class="p">,</span><span class="w"> </span><span class="cm">/*!&lt; always loads xml file by addInManager */</span>
<span class="w">    </span><span class="n">autoLoadNever</span><span class="w">            </span><span class="o">=</span><span class="w"> </span><span class="mh">0x2</span><span class="p">,</span><span class="w"> </span><span class="cm">/*!&lt; never automatically loads parameters from xml-file (default) */</span>
<span class="w">    </span><span class="n">autoLoadKeywordDefined</span><span class="w">   </span><span class="o">=</span><span class="w"> </span><span class="mh">0x4</span><span class="w">  </span><span class="cm">/*!&lt; only loads parameters if keyword autoLoadParams=1 exists in python-constructor */</span>
<span class="p">};</span>
</pre></div>
</div>
<p>For more information about the loading and/or saving of plugin’s parameters, see <a class="reference internal" href="pluginAutoLoadSavePolicy.html#plugin-autoloadsave-policy"><span class="std std-ref">Automatic loading and saving of plugin parameters</span></a>.</p>
</dd></dl>

<dl class="c member">
<dt class="sig sig-object c">
<span class="sig-name descname"><span class="pre">ito::tAutoSavePolicy</span> <span class="pre">m_autoSavePolicy</span></span></dt>
<dd><p>Depending on the value of this variable, the internal parameters of the plugin can be saved to a <em>xml</em>-file at shutdown of a plugin instance. The possible values for that variable are given by the enumeration <strong>ito::tAutoSavePolicy</strong> and are</p>
<div class="highlight-c++ notranslate"><div class="highlight"><pre><span></span><span class="k">enum</span><span class="w"> </span><span class="nc">tAutoSavePolicy</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="n">autoSaveAlways</span><span class="w">          </span><span class="o">=</span><span class="w"> </span><span class="mh">0x1</span><span class="p">,</span><span class="w"> </span><span class="cm">/*!&lt; always saves parameters to xml-file at shutdown */</span>
<span class="w">    </span><span class="n">autoSaveNever</span><span class="w">           </span><span class="o">=</span><span class="w"> </span><span class="mh">0x2</span><span class="w">  </span><span class="cm">/*!&lt; never saves parameters to xml-file at shutdown (default) */</span>
<span class="p">};</span>
</pre></div>
</div>
<p>For more information about the loading and/or saving of plugin’s parameters, see <a class="reference internal" href="pluginAutoLoadSavePolicy.html#plugin-autoloadsave-policy"><span class="std std-ref">Automatic loading and saving of plugin parameters</span></a>.</p>
</dd></dl>

<dl class="c member">
<dt class="sig sig-object c" id="c.m_callInitInNewThread">
<span class="kt"><span class="pre">bool</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">m_callInitInNewThread</span></span></span><a class="headerlink" href="#c.m_callInitInNewThread" title="Link to this definition">#</a><br /></dt>
<dd><p>Usually, the plugin’s init method, where for instance the hardware is started and initialized, is called in a new thread in order to keep the GUI reactive during the whole process. If you change this member from
its default value <strong>true</strong> to <strong>false</strong>, <strong>init</strong> is executed in the main thread and afterwards the plugin is moved to the new thread. For more information, see <a class="reference internal" href="pluginClass.html#plugin-class"><span class="std std-ref">Plugin class - Basic information</span></a> or the <a class="reference internal" href="pluginClass.html#plugin-class-callinitthread"><span class="std std-ref">info box</span></a>.</p>
</dd></dl>

<p><strong>Part 2 (mandatory and optional parameters):</strong></p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>This part is only important if you build plugins of the basic types <strong>dataIO</strong> or <strong>actuator</strong>, since only plugins of these types can have multiple parameters, hence, it is useful to parametrize their constructors. For algorithm- or filter-plugins, you can let the vectors <strong>m_initParamsMand</strong> and <strong>m_initParamsOpt</strong> unchanged (hence empty).</p>
</div>
<p>If you create an instance of a plugin using the python language, you have mainly two possibilities:</p>
<ul>
<li><p>Plugins of type <strong>dataIO</strong> are addressed using the python type <strong>dataIO</strong>, which is a class of the module <a class="reference internal" href="../../09_reference/itom_general.html#module-5" title="itom"><code class="xref py py-mod docutils literal notranslate"><span class="pre">itom</span></code></a>:</p>
<blockquote>
<div><div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">itom</span> <span class="kn">import</span> <span class="o">*</span> <span class="c1"># usually this import already has been done for you</span>
<span class="n">variable</span> <span class="o">=</span> <span class="n">dataIO</span><span class="p">(</span><span class="n">PluginName</span><span class="p">,</span><span class="n">mandatoryParam1</span><span class="p">,</span> <span class="o">...</span><span class="p">,</span> <span class="n">mandatoryParamN</span><span class="p">,</span> <span class="n">optionalParam1</span><span class="p">,</span> <span class="o">...</span><span class="p">,</span> <span class="n">optionalParamN</span><span class="p">)</span>
</pre></div>
</div>
<p>OR</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">itom</span>
<span class="n">variable</span> <span class="o">=</span> <span class="n">itom</span><span class="o">.</span><span class="n">dataIO</span><span class="p">(</span><span class="n">PluginName</span><span class="p">,</span> <span class="n">mandatoryParam1</span><span class="p">,</span> <span class="o">...</span><span class="p">,</span> <span class="n">optionalParam1</span><span class="p">,</span> <span class="o">...</span><span class="p">)</span>
</pre></div>
</div>
</div></blockquote>
</li>
<li><p>Plugins of type <strong>actuator* are addressed using the python type **actuator</strong>, which is a class of the module <a class="reference internal" href="../../09_reference/itom_general.html#module-5" title="itom"><code class="xref py py-mod docutils literal notranslate"><span class="pre">itom</span></code></a>, too. The call is then analogous to the examples above:</p>
<blockquote>
<div><div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">variable</span> <span class="o">=</span> <span class="n">actuator</span><span class="p">(</span><span class="n">PluginName</span><span class="p">,</span><span class="n">mandatoryParam1</span><span class="p">,</span> <span class="o">...</span><span class="p">,</span> <span class="n">mandatoryParamN</span><span class="p">,</span> <span class="n">optionalParam1</span><span class="p">,</span> <span class="o">...</span><span class="p">,</span> <span class="n">optionalParamN</span><span class="p">)</span>
</pre></div>
</div>
</div></blockquote>
</li>
<li><p>Plugins of type <strong>algo</strong> do not have any corresponding class in <a class="reference internal" href="../../09_reference/itom_general.html#module-5" title="itom"><code class="xref py py-mod docutils literal notranslate"><span class="pre">itom</span></code></a>, since they are globally organized by <strong>itom</strong>. Algorithms can be called using the method <a class="reference external" href="https://docs.python.org/3/library/functions.html#filter" title="(in Python v3.13)"><code class="xref py py-func docutils literal notranslate"><span class="pre">filter()</span></code></a>, windows, dialogs or further user interfaces provided by plugins are loaded using the static method <code class="xref py py-func docutils literal notranslate"><span class="pre">createNewPluginWidget()</span></code> of class <code class="xref py py-class docutils literal notranslate"><span class="pre">itom.uiDialog</span></code>.</p></li>
</ul>
<p>The constructor of each plugin can have a list of mandatory and optional parameters, which must or can be provided if creating an instance of the plugin. Internally, each parameter is a value of type <strong>Param</strong>, which is a class of <strong>itom</strong> and provides values of different types. Each value has a specific name, a default value and a description string, which should be given or set to NULL. Additionally, depending on the parameters type, a minimum and maximum value can be indicated. For more information about class <em>Param</em> see <a class="reference internal" href="plugin-params.html#plugin-params"><span class="std std-ref">Parameter-Container class of itom</span></a>.</p>
<p>The mandatory parameters are contained in the vector</p>
<div class="highlight-c++ notranslate"><div class="highlight"><pre><span></span><span class="n">QVector</span><span class="o">&lt;</span><span class="n">ito</span><span class="o">::</span><span class="n">Param</span><span class="o">&gt;</span><span class="w"> </span><span class="n">m_initParamsMand</span>
</pre></div>
</div>
<p>Using the methods <em>append</em> or <em>insert</em> you can add an arbitrary number of values (type <em>Param</em>) to this vector. The type <em>QVector</em> is a <strong>Qt</strong>-specific class which is similar to <em>std::vector</em>. The optional parameters are analogously contained in the vector</p>
<div class="highlight-c++ notranslate"><div class="highlight"><pre><span></span><span class="n">QVector</span><span class="o">&lt;</span><span class="n">ito</span><span class="o">::</span><span class="n">Param</span><span class="o">&gt;</span><span class="w"> </span><span class="n">m_initParamsOpt</span>
</pre></div>
</div>
<p>If one is creating an instance of the plugins, e.g. using the python commands above, <strong>itom</strong> is reading the given vector of mandatory of optional parameters. The first parameter of the constructors of the python class <a class="reference internal" href="../../09_reference/dataIO.html#itom.dataIO" title="itom.dataIO"><code class="xref py py-class docutils literal notranslate"><span class="pre">itom.dataIO</span></code></a> or <a class="reference internal" href="../../09_reference/actuator.html#itom.actuator" title="itom.actuator"><code class="xref py py-class docutils literal notranslate"><span class="pre">itom.actuator</span></code></a> stands for the name of the plugin. The number of the following parameters must be equal or bigger than the length of the mandatory parameter vector. The first <em>n</em> parameters must exactly fit to the type, order and possible boundary values of the mandatory parameter vector. This vector is then copied and the values are replaced by the values given by the python-constructors.</p>
<p>If the following parameters in the constructor don’t have any keywords, they must also fit to the types,… of the optional parameter vector. If there are not enough parameters given, the default value will be taken. Additionally, if the user gives keywords to the parameters, each parameter will be checked against its corresponding value in the optional parameter vector where keyword and parameter-name are equal. After the first parameter having a keyword no keyword-less parameters are accepted.</p>
<p>This is an example of creating a plugin with a set of parameters, where the last two parameters are tagged with their keywords:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">variable</span> <span class="o">=</span> <span class="n">dataIO</span><span class="p">(</span><span class="s2">&quot;MyPlugin&quot;</span><span class="p">,</span><span class="mf">2.0</span><span class="p">,</span><span class="s2">&quot;test&quot;</span><span class="p">,</span><span class="n">delay</span><span class="o">=</span><span class="mi">1000</span><span class="p">,</span><span class="n">file</span><span class="o">=</span><span class="s2">&quot;C:</span><span class="se">\\</span><span class="s2">test.dat&quot;&quot;)</span>
</pre></div>
</div>
<p>After that the mandatory and optional parameter vectors are read, copied and that their values are replaced by the values given by the constructor, the instance of the plugin is created and the method <strong>init</strong> of the plugin class is called with the mandatory and optional parameter vector as argument. That’s the basic way such a plugin instance is created and initialized.</p>
<p>The set of mandatory and optional parameters of each plugin, including their default, minimum and maximum value, their name and description string, can be returned in python using the method <a class="reference internal" href="../../09_reference/itom_general.html#itom.pluginHelp" title="itom.pluginHelp"><code class="xref py py-func docutils literal notranslate"><span class="pre">itom.pluginHelp()</span></code></a>.</p>
</section>
<section id="method-getaddininst-of-the-plugin-interface-class">
<span id="plugin-interface-class-getaddininst"></span><h2><span class="section-number">8.8.8.2. </span>Method <em>getAddInInst</em> of the plugin interface class<a class="headerlink" href="#method-getaddininst-of-the-plugin-interface-class" title="Link to this heading">#</a></h2>
<p>As default implementation, you can copy the following code block for your implementation of the <em>getAddInInst</em>-method:</p>
<div class="highlight-c++ notranslate"><div class="highlight"><pre><span></span><span class="linenos">1</span><span class="n">ito</span><span class="o">::</span><span class="n">RetVal</span><span class="w"> </span><span class="nf">MyPluginInterface::getAddInInst</span><span class="p">(</span><span class="n">ito</span><span class="o">::</span><span class="n">AddInBase</span><span class="w"> </span><span class="o">**</span><span class="n">addInInst</span><span class="p">)</span>
<span class="linenos">2</span><span class="p">{</span>
<span class="linenos">3</span><span class="w">    </span><span class="n">NEW_PLUGININSTANCE</span><span class="p">(</span><span class="n">MyPlugin</span><span class="p">)</span>
<span class="linenos">4</span><span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">ito</span><span class="o">::</span><span class="n">retOk</span><span class="p">;</span>
<span class="linenos">5</span><span class="p">}</span>
</pre></div>
</div>
<p>In case of an algorithm plugin use:</p>
<div class="highlight-c++ notranslate"><div class="highlight"><pre><span></span><span class="linenos">1</span><span class="n">ito</span><span class="o">::</span><span class="n">RetVal</span><span class="w"> </span><span class="nf">MyPluginInterface::getAddInInst</span><span class="p">(</span><span class="n">ito</span><span class="o">::</span><span class="n">AddInBase</span><span class="w"> </span><span class="o">**</span><span class="n">addInInst</span><span class="p">)</span>
<span class="linenos">2</span><span class="p">{</span>
<span class="linenos">3</span><span class="w">    </span><span class="n">NEW_PLUGININSTANCE</span><span class="p">(</span><span class="n">MyPlugin</span><span class="p">)</span>
<span class="linenos">4</span><span class="w">    </span><span class="n">REGISTER_FILTERS_AND_WIDGETS</span>
<span class="linenos">5</span><span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">ito</span><span class="o">::</span><span class="n">retOk</span><span class="p">;</span>
<span class="linenos">6</span><span class="p">}</span>
</pre></div>
</div>
<p>Since your plugin instance (<strong>MyPlugin</strong>) is finally derived from <strong>AddInBase</strong>, its private member <strong>m_uniqueID</strong> is automatically given an auto-incremented, unique number. Additionally if possible assign a string identifier that helps to identify the opened device. Set the identifier using the method <strong>setIdentifier</strong>. Please only set the identifier in the constructor or in the <strong>init</strong>-method of the plugin itself. The identifier is saved in the member <strong>m_identifier</strong>.</p>
<p>In the method above, it is assumed that your main class of your plugin <em>MyPlugin</em> is called <em>MyPlugin</em>, too. Then in line 3, a new instance of that class is created and this new instance is noticed about its own factory class in line 4. The factory class is hereby the pointer to this singleton interface class instance. Finally the given double pointer is set to the pointer of the newly created plugin instance. Finally, every plugin interface class has a protected member vector called <em>m_InstList</em> which contains a list of plugin instances opened by this interface (or factory). The newly created plugin is added to this list in line 6.</p>
<p>The return value of this method is of type <strong>ito::RetVal</strong>, which is set to the status <strong>Ok</strong>. For more information about the return value class <strong>ito::RetVal</strong> see <a class="reference internal" href="plugin-RetVal.html#plugin-retval"><span class="std std-ref">RetVal - The return type of itom methods</span></a>.</p>
</section>
<section id="method-closethisinst-of-the-plugin-interface-class">
<span id="plugin-interface-class-closethisinst"></span><h2><span class="section-number">8.8.8.3. </span>Method <em>closeThisInst</em> of the plugin interface class<a class="headerlink" href="#method-closethisinst-of-the-plugin-interface-class" title="Link to this heading">#</a></h2>
<p>For this method, you can basically copy the following default implementation:</p>
<div class="highlight-c++ notranslate"><div class="highlight"><pre><span></span><span class="linenos">1</span><span class="n">ito</span><span class="o">::</span><span class="n">RetVal</span><span class="w"> </span><span class="nf">MyPluginInterface::closeThisInst</span><span class="p">(</span><span class="n">ito</span><span class="o">::</span><span class="n">AddInBase</span><span class="w"> </span><span class="o">**</span><span class="n">addInInst</span><span class="p">)</span>
<span class="linenos">2</span><span class="p">{</span>
<span class="linenos">3</span><span class="w">    </span><span class="n">REMOVE_PLUGININSTANCE</span><span class="p">(</span><span class="n">MyPlugin</span><span class="p">)</span>
<span class="linenos">4</span><span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">ito</span><span class="o">::</span><span class="n">retOk</span><span class="p">;</span>
<span class="linenos">5</span><span class="p">}</span>
</pre></div>
</div>
<p>The AddInManager of <strong>itom</strong> is calling this method if the given plugin instance (parameter <strong>addInInst</strong>) should be deleted. If the parameter pointer is available, the plugin instance is removed from the list of loaded plugin instances (see <a class="reference internal" href="#plugin-interface-class-getaddininst"><span class="std std-ref">Method getAddInInst of the plugin interface class</span></a>) and the plugin instance is deleted.</p>
</section>
</section>


                </article>
              
              
              
              
              
                <footer class="prev-next-footer d-print-none">
                  
<div class="prev-next-area">
    <a class="left-prev"
       href="pluginStructure.html"
       title="previous page">
      <i class="fa-solid fa-angle-left"></i>
      <div class="prev-next-info">
        <p class="prev-next-subtitle">previous</p>
        <p class="prev-next-title"><span class="section-number">8.8.7. </span>Introduction to plugins</p>
      </div>
    </a>
    <a class="right-next"
       href="pluginClass.html"
       title="next page">
      <div class="prev-next-info">
        <p class="prev-next-subtitle">next</p>
        <p class="prev-next-title"><span class="section-number">8.8.10. </span>Plugin class - Basic information</p>
      </div>
      <i class="fa-solid fa-angle-right"></i>
    </a>
</div>
                </footer>
              
            </div>
            
            
              
                <div class="bd-sidebar-secondary bd-toc"><div class="sidebar-secondary-items sidebar-secondary__inner">


  <div class="sidebar-secondary-item">
<div
    id="pst-page-navigation-heading-2"
    class="page-toc tocsection onthispage">
    <i class="fa-solid fa-list"></i> On this page
  </div>
  <nav class="bd-toc-nav page-toc" aria-labelledby="pst-page-navigation-heading-2">
    <ul class="visible nav section-nav flex-column">
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#the-constructor-of-the-plugin-interface-class">8.8.8.1. The constructor of the plugin interface class</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#method-getaddininst-of-the-plugin-interface-class">8.8.8.2. Method <em>getAddInInst</em> of the plugin interface class</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#method-closethisinst-of-the-plugin-interface-class">8.8.8.3. Method <em>closeThisInst</em> of the plugin interface class</a></li>
</ul>
  </nav></div>

  <div class="sidebar-secondary-item">

  <div class="tocsection sourcelink">
    <a href="../../_sources/07_plugins/development/pluginInterfaceClass.rst.txt">
      <i class="fa-solid fa-file-lines"></i> Show Source
    </a>
  </div>
</div>

</div></div>
              
            
          </div>
          <footer class="bd-footer-content">
            
          </footer>
        
      </main>
    </div>
  </div>
  
  <!-- Scripts loaded after <body> so the DOM is not blocked -->
  <script src="../../_static/scripts/bootstrap.js?digest=dfe6caa3a7d634c4db9b"></script>
<script src="../../_static/scripts/pydata-sphinx-theme.js?digest=dfe6caa3a7d634c4db9b"></script>

  <footer class="bd-footer">
<div class="bd-footer__inner bd-page-width">
  
    <div class="footer-items__start">
      
        <div class="footer-item">

  <p class="copyright">
    
      © Copyright 2011-2024, Institut für Technische Optik (ITO), Universität Stuttgart. Bug report: https://github.com/itom-project/itom/issues.
      <br/>
    
  </p>
</div>
      
        <div class="footer-item">

  <p class="sphinx-version">
    Created using <a href="https://www.sphinx-doc.org/">Sphinx</a> 8.1.3.
    <br/>
  </p>
</div>
      
    </div>
  
  
  
    <div class="footer-items__end">
      
        <div class="footer-item">
<p class="theme-version">
  Built with the <a href="https://pydata-sphinx-theme.readthedocs.io/en/stable/index.html">PyData Sphinx Theme</a> 0.15.4.
</p></div>
      
    </div>
  
</div>

  </footer>
  </body>
</html>