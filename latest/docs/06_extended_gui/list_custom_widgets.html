

<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" />
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  
  <title>6.4. Custom Designer Widgets &mdash; itom Documentation</title>
  

  
  <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />

  
  

  
  

  

  
  <!--[if lt IE 9]>
    <script src="../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="../" src="../_static/documentation_options.js"></script>
        <script src="../_static/jquery.js"></script>
        <script src="../_static/underscore.js"></script>
        <script src="../_static/doctools.js"></script>
    
    <script type="text/javascript" src="../_static/js/theme.js"></script>

    
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="6.5. Implement a more complex GUI in a plugin (C/C++)" href="algo-plugin.html" />
    <link rel="prev" title="6.3. Creating customized dialogs, windows and dock widgets" href="qtdesigner.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="../index.html" class="icon icon-home"> itom Documentation
          

          
          </a>

          
            
            
              <div class="version">
                4.1.0
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        
        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <p class="caption"><span class="caption-text">Table of Contents</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../00_releaseNotes/whats-new.html">Changelog</a></li>
<li class="toctree-l1"><a class="reference internal" href="../01_introduction/introduction.html">1. Introduction</a></li>
<li class="toctree-l1"><a class="reference internal" href="../02_installation/install.html">2. Installation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../03_gettingStarted/getting-started.html">3. Getting Started</a></li>
<li class="toctree-l1"><a class="reference internal" href="../04_itom_gui/gui.html">4. The itom User Interface</a></li>
<li class="toctree-l1"><a class="reference internal" href="../05_plots/plots.html">5. Plots and Figures</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="extended_gui.html">6. Extending the user interface of <strong>itom</strong></a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="toolbar.html">6.1. Customize the menu bar and toolbars of <strong>itom</strong></a></li>
<li class="toctree-l2"><a class="reference internal" href="method-itom.html">6.2. Show messages, input boxes and default dialogs</a></li>
<li class="toctree-l2"><a class="reference internal" href="qtdesigner.html">6.3. Creating customized dialogs, windows and dock widgets</a></li>
<li class="toctree-l2 current"><a class="current reference internal" href="#">6.4. Custom Designer Widgets</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#dobmetadatatable">6.4.1. dObMetaDataTable</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#properties">6.4.1.1. Properties</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#evaluategeometricsfigure">6.4.2. EvaluateGeometricsFigure</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#id1">6.4.2.1. Properties</a></li>
<li class="toctree-l4"><a class="reference internal" href="#slots">6.4.2.2. Slots</a></li>
<li class="toctree-l4"><a class="reference internal" href="#signals">6.4.2.3. Signals</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#motorcontroller">6.4.3. MotorController</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#id2">6.4.3.1. Properties</a></li>
<li class="toctree-l4"><a class="reference internal" href="#id3">6.4.3.2. Slots</a></li>
<li class="toctree-l4"><a class="reference internal" href="#id4">6.4.3.3. Signals</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="algo-plugin.html">6.5. Implement a  more complex GUI in a plugin (C/C++)</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../07_plugins/plugins.html">7. Plugins</a></li>
<li class="toctree-l1"><a class="reference internal" href="../08_scriptLanguage/script-language.html">8. Python scripting language</a></li>
<li class="toctree-l1"><a class="reference internal" href="../09_reference/reference.html">9. itom Script Reference</a></li>
<li class="toctree-l1"><a class="reference internal" href="../10_miscellaneous/miscellaneous.html">10. Miscellaneous</a></li>
<li class="toctree-l1"><a class="reference internal" href="../11_test-scripts/test-scripts.html">11. Demo scripts</a></li>
<li class="toctree-l1"><a class="reference internal" href="../12_tutorials/tutorials.html">12. Python tutorials</a></li>
<li class="toctree-l1"><a class="reference internal" href="../13_contributing/contributing.html">13. Contributing</a></li>
</ul>

            
          
        </div>
        
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">itom Documentation</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          

















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../index.html" class="icon icon-home"></a> &raquo;</li>
        
          <li><a href="extended_gui.html"><span class="section-number">6. </span>Extending the user interface of <strong>itom</strong></a> &raquo;</li>
        
      <li><span class="section-number">6.4. </span>Custom Designer Widgets</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
          
            <a href="../_sources/06_extended_gui/list_custom_widgets.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="custom-designer-widgets">
<span id="listcustomdesignerwidgets"></span><h1><span class="section-number">6.4. </span>Custom Designer Widgets<a class="headerlink" href="#custom-designer-widgets" title="Permalink to this headline">¶</a></h1>
<p>Beside QtDesginer-Widgets for plots and figures (see  <a class="reference internal" href="../05_plots/plots.html#plotsandfigures"><span class="std std-ref">Plots and Figures</span></a>) some further designer plugin widgets
have been develop to enable access to useful or itom specific objects and functions in individual GUIs.</p>
<p>These widgets can be used like any other type of widget within an ui-dialog with two exceptions:</p>
<ol class="arabic simple">
<li><p>The user interface in terms of an <strong>ui</strong>-file must be loaded and initilized within an itom-python context (e.g. script in itom).</p></li>
<li><p>Some properties are not accessible in the QtDesigner (e.g. actuator-handles or dataObjects) and must be set or read in the script. (They are marked with <strong>DESIGNABLE false</strong> in the <strong>Q_PROPERTY</strong> macro in their header file).</p></li>
</ol>
<p>To add such a widget to your ui-file, you can drag&amp;drop them in the QtDesigner like any other widget.</p>
<p>The following sub-sections give an overview about some additional itom widgets:</p>
<p>Documentation for designer plugin dataObjectTable could not be found</p>
<p>Documentation for designer plugin slider2D could not be found</p>
<div class="section" id="dobmetadatatable">
<h2><span class="section-number">6.4.1. </span>dObMetaDataTable<a class="headerlink" href="#dobmetadatatable" title="Permalink to this headline">¶</a></h2>
<p>The “dObMetaDataTable” can be used to visualize the metaData of a dataObject, e.g. to realize a measurement protocol . The widget is not inherited from a AbstractDObject and can not be used for a live plot.</p>
<div class="section" id="properties">
<h3><span class="section-number">6.4.1.1. </span>Properties<a class="headerlink" href="#properties" title="Permalink to this headline">¶</a></h3>
<p><strong>data</strong>: <em>ito::DataObject</em>, the dataObject to be shown, not accessible in QtDesigner.</p>
<p><strong>readOnlyEnabled</strong>: <em>bool, DESIGNABLE</em>, enable write protection</p>
<p><strong>detailedInfo</strong>: <em>bool, DESIGNABLE</em>, Toogle between basic and detailed metaData</p>
<p><strong>previewEnabled</strong>: <em>bool, DESIGNABLE</em>, Add a small quadratic image downsampled from the dataObject as a preview to the meta data.</p>
<p><strong>previewSize</strong>: <em>int, DESIGNABLE</em>, Set the preview size in pixels,</p>
<p><strong>decimals</strong>: <em>int, DESIGNABLE</em>, number of decimals to be shown within each cell</p>
<p><strong>colorBar</strong>: <em>QString, DESIGNABLE</em>, the name of the color bar for the preview, <em>not implemented yet</em></p>
</div>
</div>
<div class="section" id="evaluategeometricsfigure">
<h2><span class="section-number">6.4.2. </span>EvaluateGeometricsFigure<a class="headerlink" href="#evaluategeometricsfigure" title="Permalink to this headline">¶</a></h2>
<p>The evaluateGeomtrics-widget is designed to load geometric definition stored in a float32 dataObject with a column-size of &gt;10 elements and a row for each geometric element to display.
Further more it allows the evaluation of geometric relations between the geometric primitives. It contains a tableView and although is is inherited by AbstractDObject it should not be used for “liveVisualisation of dataObject”.</p>
<div class="section" id="id1">
<h3><span class="section-number">6.4.2.1. </span>Properties<a class="headerlink" href="#id1" title="Permalink to this headline">¶</a></h3>
<p><strong>title</strong>: <em>QString, DESIGNABLE</em>, Title of the plot or ‘&lt;auto&gt;’ if the title of the data object should be used. <em>Not implemented yet</em>
<strong>valueUnit</strong>: <em>QString, DESIGNABLE</em>, The value unit for the metrical calculations that is used within the plot.
<strong>titleFont</strong>: <em>QFont, DESIGNABLE</em>, Font for title. <em>Not implemented yet</em>
<strong>labelFont</strong>: <em>QFont, DESIGNABLE</em>, Font for labels. <em>Not implemented yet</em>
<strong>relations</strong>: <em>ito::DataObject</em>, Get or set N geometric elements via N x 11 dataObject of type float32.
<strong>relationNames</strong>: <em>QStringList, DESIGNABLE</em>, A string list with the names of possible relation. The first elements [N.A., radius, angle to, distance to, intersection with, length and area] are read only and are calculated with these widget. For external calculated values you can define custom names e.g. roughness..
<strong>destinationFolder</strong>: <em>QString, DESIGNABLE</em>, Set a default export directory.
<strong>lastAddedRelation</strong>: <em>int, DESIGNABLE</em>, Get the index of the last added relation.
<strong>considerOnly2D</strong>: <em>bool, DESIGNABLE</em>, If true, only the x &amp; y coordinates are considered.</p>
</div>
<div class="section" id="slots">
<h3><span class="section-number">6.4.2.2. </span>Slots<a class="headerlink" href="#slots" title="Permalink to this headline">¶</a></h3>
<p><strong>ito::RetVal addRelation(ito::DataObject importedData)</strong></p>
<blockquote>
<div><p>Add a relation to the current context. The relation must be</p>
<p><em>importedData, ito::DataObject</em>: geometric element expressed by 1 x 4 dataObject of type float32.</p>
</div></blockquote>
<p><strong>ito::RetVal modifyRelation(const int idx, ito::DataObject relation)</strong></p>
<blockquote>
<div><p>Modify an existing relation addressed by the idx.</p>
<p><em>idx, int</em>: Index of relation to modify</p>
<p><em>relation, ito::DataObject</em>: geometric element expressed by 1 x 4 dataObject of type float32.</p>
</div></blockquote>
<p><strong>ito::RetVal addRelationName(const QString newName)</strong></p>
<blockquote>
<div><p>Add a new relation name to the relationNameList.</p>
<p><em>newName, QString</em>: new relation name to be appended</p>
</div></blockquote>
<p><strong>ito::RetVal exportData(QString fileName, ito::uint8 exportFlag)</strong></p>
<blockquote>
<div><p>Export data to csv or xml</p>
<p><em>fileName, QString</em>: Destination file name</p>
<p><em>exportFlag, int</em>: Export flag, exportCSVTree  = 0x00, exportCSVTable = 0x01, exportXMLTree  = 0x02, exportCSVList  = 0x03, showExportWindow = 0x10</p>
</div></blockquote>
<p><strong>ito::RetVal plotItemChanged(ito::int32 idx, ito::int32 flags, QVector&lt;ito::float32&gt; values)</strong></p>
<blockquote>
<div><p>Slot for direct connection between this widget and a plot (e.g. itom2dQwtPlot) to notify changes within the plotted geometry. Internal relations are automatically updated. External relation values (e.g. roughness) can not be updated automatically.</p>
<p><em>idx, int</em>: Index of the modified geometric element</p>
<p><em>flags, int</em>: Type (and meta properties) of geometric elements which was changed. If type differs from original type clear and refill is necessary.</p>
<p><em>values, QVector&lt;ito::float32&gt;</em>: Geometric parameters of the modified geometric item.</p>
</div></blockquote>
<p><strong>ito::RetVal clearAll(void)</strong></p>
<blockquote>
<div><p>Clear all elements and relations in this plot.</p>
</div></blockquote>
</div>
<div class="section" id="signals">
<h3><span class="section-number">6.4.2.3. </span>Signals<a class="headerlink" href="#signals" title="Permalink to this headline">¶</a></h3>
<p>None</p>
</div>
</div>
<div class="section" id="motorcontroller">
<h2><span class="section-number">6.4.3. </span>MotorController<a class="headerlink" href="#motorcontroller" title="Permalink to this headline">¶</a></h2>
<p>The “MotorController”-widget gives the user the some basic functions for generic motor positioning and position reporting within a complex GUI. The widget can be used for 1 to 6 axis and can be used readOnly or as a type of software control panel.
The widget updated in a fixed interval (can be deactivated). During measurements the widget should be disabled to avoid user errors. A support for the 3DConnexion-Mouse is planed but <em>Not implemented yet</em>.</p>
<p>The motor should support up <em>slot: RequestStatusAndPosition</em> and <em>signal: actuatorStatusChanged</em> for semaphore free communication, but this is not necessary.</p>
<div class="section" id="id2">
<h3><span class="section-number">6.4.3.1. </span>Properties<a class="headerlink" href="#id2" title="Permalink to this headline">¶</a></h3>
<p><strong>actuator</strong>: <em>ito::AddInActuator</em>, Handle to the actuator to be used, not DESIGNABLE</p>
<p><strong>numberOfAxis</strong>: <em>int, DESIGNABLE</em>, Number of axis to be visible</p>
<p><strong>unit</strong>: <em>QString, DESIGNABLE</em>, Base unit for spinboxes and movements, e.g. nm, micron, mm, m, km</p>
<p><strong>readOnly</strong>: <em>bool, DESIGNABLE</em>, Toogle read only</p>
<p><strong>autoUpdate</strong>: <em>bool, DESIGNABLE</em>, Toogle automatic motorposition update</p>
<p><strong>smallStep</strong>: <em>double, DESIGNABLE</em>, Distances for the small step button, same value for plus and minus</p>
<p><strong>bigStep</strong>: <em>double, DESIGNABLE</em>, Distances for the large step button, same value for plus and minus</p>
<p><strong>absRel</strong>: <em>bool, DESIGNABLE</em>, Toogle between absolut or relative position display. Origin can be set via context menu.</p>
<p><strong>allowJoyStick</strong>: <em>bool, DESIGNABLE</em>, Allow a software joystick, e.g. usb or gameport, not implemented yet.</p>
</div>
<div class="section" id="id3">
<h3><span class="section-number">6.4.3.2. </span>Slots<a class="headerlink" href="#id3" title="Permalink to this headline">¶</a></h3>
<p><strong>void triggerActuatorStep(const int axisNo, const bool smallBig, const bool forward)</strong></p>
<blockquote>
<div><p>Trigger a step of axis <em>axisNo</em> with a distance either <em>bigStep (true)</em> or <em>smallStep (false)</em> and either <em>forward (true)</em> or <em>backwards (false)</em></p>
</div></blockquote>
<p><strong>void actuatorStatusChanged(QVector&lt;int&gt; status, QVector&lt;double&gt; actPosition)</strong></p>
<blockquote>
<div><p>Internal slot for c++-Code connected to the corresponding signal of the actuator. Do not call this from python.</p>
</div></blockquote>
<p><strong>void triggerUpdatePosition(void)</strong></p>
<blockquote>
<div><p>Usually called by the internal timer, the context-menu or python to update the current motor position. Uses either Signal-/Slot-communication or invokes getPos blocking.</p>
</div></blockquote>
<p><strong>void guiChangedSmallStep(double value)</strong></p>
<blockquote>
<div><p>Internal slot if the small step size is changed within the GUI (spinbox)</p>
</div></blockquote>
<p><strong>void guiChangedLargeStep(double value)</strong></p>
<blockquote>
<div><p>Internal slot if the large step size is changed within the GUI (spinbox)</p>
</div></blockquote>
</div>
<div class="section" id="id4">
<h3><span class="section-number">6.4.3.3. </span>Signals<a class="headerlink" href="#id4" title="Permalink to this headline">¶</a></h3>
<p><strong>void RequestStatusAndPosition(bool sendActPosition, bool sendTargetPos)</strong></p>
<blockquote>
<div><p>Internal signal for c++-Code connected to the corresponding slot of the actuator.</p>
</div></blockquote>
</div>
</div>
</div>


           </div>
           
          </div>
          <footer>
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
        <a href="algo-plugin.html" class="btn btn-neutral float-right" title="6.5. Implement a more complex GUI in a plugin (C/C++)" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
        <a href="qtdesigner.html" class="btn btn-neutral float-left" title="6.3. Creating customized dialogs, windows and dock widgets" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>
        &#169; Copyright 2011-2021, Institut fuer Technische Optik (ITO), University Stuttgart. Bug report: https://bitbucket.org/itom/itom/issues.
      <span class="lastupdated">
        Last updated on Mar 05, 2021.
      </span>

    </p>
  </div>
    
    
    
    Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    
    provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>
        </div>
      </div>

    </section>

  </div>
  

  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>