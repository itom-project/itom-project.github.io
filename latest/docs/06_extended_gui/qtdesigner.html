<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>Creating advanced dialogs and windows &mdash; itom Documentation</title>
    
    <link rel="stylesheet" href="../_static/nature.css" type="text/css" />
    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    <link rel="stylesheet" href="../_static/breathe.css" type="text/css" />
    <link rel="stylesheet" href="../_static/breathe.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../',
        VERSION:     'c91f2be',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="../_static/jquery.js"></script>
    <script type="text/javascript" src="../_static/underscore.js"></script>
    <script type="text/javascript" src="../_static/doctools.js"></script>
    <link rel="top" title="itom Documentation" href="../index.html" />
    <link rel="up" title="Extending the user interface of itom" href="extended_gui.html" />
    <link rel="next" title="Custom Designer Widgets" href="list_custom_widgets.html" />
    <link rel="prev" title="Show messages, input boxes and default dialogs" href="method-itom.html" /> 
  </head>
  <body>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="../py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="list_custom_widgets.html" title="Custom Designer Widgets"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="method-itom.html" title="Show messages, input boxes and default dialogs"
             accesskey="P">previous</a> |</li>
        <li><a href="../index.html">itom</a> &raquo;</li>
          <li><a href="../structure.html" >Structure of the manual</a> &raquo;</li>
          <li><a href="extended_gui.html" accesskey="U">Extending the user interface of <strong>itom</strong></a> &raquo;</li> 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body">
            
  <div class="section" id="creating-advanced-dialogs-and-windows">
<span id="qtdesigner"></span><h1>Creating advanced dialogs and windows<a class="headerlink" href="#creating-advanced-dialogs-and-windows" title="Permalink to this headline">¶</a></h1>
<p>With <strong>itom</strong> it is not only possible to add menus and toolbar elements to the main GUI of <strong>itom</strong> or to use the default set of input and message boxes, but
it is also possible to create own user interfaces. These interfaces are designed by help of a WYSIWYG (&#8220;what you see is what you get&#8221;) design tool (Qt Designer).
The logic behind the surfaces is then scripted using <strong>Python</strong>. Therefore it is possible to change the appearance of control elements at runtime or to connect
a signal, emitted when for instance clicking on a button, with a user-defined python method.</p>
<p>In this chapter, the creation of such user interfaces is explained.</p>
<div class="section" id="qt-designer">
<h2>Qt Designer<a class="headerlink" href="#qt-designer" title="Permalink to this headline">¶</a></h2>
<div class="line-block">
<div class="line">The Qt Designer can be used to create a GUI for interaction with the <strong>itom</strong> software.</div>
<div class="line">For details see the Qt Designer documentation under <a class="reference external" href="http://qt-project.org/doc/qt-4.8/designer-manual.html">http://qt-project.org/doc/qt-4.8/designer-manual.html</a></div>
</div>
<p>In order to start the <strong>Qt Designer</strong>, click on the corresponding icon in the toolbar of <strong>itom</strong>:</p>
<div class="figure">
<a class="reference internal image-reference" href="../_images/mainsymbols2.png"><img alt="../_images/mainsymbols2.png" src="../_images/mainsymbols2.png" style="width: 144.2px; height: 57.4px;" /></a>
</div>
<p>or double-click on a corresponding <strong>ui</strong>-file in the file system widget of <strong>itom</strong>. In the first case, <strong>Qt Designer</strong> shows an initialization dialog, where you
can choose the base type of the user interface you want to create.</p>
<div class="figure">
<a class="reference internal image-reference" href="../_images/designerNew.png"><img alt="../_images/designerNew.png" src="../_images/designerNew.png" style="width: 366.09999999999997px; height: 331.79999999999995px;" /></a>
</div>
<p>In principle you have the possibility to choose between three different base layouts:</p>
<p>1. <strong>Dialog</strong>. A Dialog is usually displayed on top of the main window and only has got one close-button in its title bar. Often, dialogs are used for configuration dialogs where the
user finally closes the dialog using one of the standard buttons (OK, Cancel, Apply...) in order to confirm or reject the current changes in the dialog. A dialog cannot have its
own toolbar, menu or status bar.
2. <strong>Main Window</strong>. A main window is a fully equipped main window, which can be minimized, maximized, can have toolbars, menus and a status bar. Therefore it is recommended to use this
type of user interface for the main window of your measurement system. Like a dialog, it is possible to show the main window on top of <strong>itom</strong> (as sub-window of <strong>itom</strong>) or as independent
window, which has its own icon in the windows tray.
3. <strong>Widget</strong>. A widget is the base class for all control elements provided by <strong>Qt</strong>. Therefore a widget does not have any title bar or windows frame. Nevertheless you can choose a widget
for your user interface, since <strong>itom</strong> provides the possibility to stack this widget into a default dialog which can optionally show some default buttons on the right side or at the
bottom of the dialog. This is the easiest way the generate a configuration dialog in <strong>itom</strong>, since you do not need to script the necessary methods handling clicks on one of these buttons.
In this case, <strong>itom</strong> automatically gets full information about the close status and type of closing of the dialog (accepted, rejected...).</p>
<p>After having chosen one of these base layouts (types), your surface is displayed in the middle of the <strong>Qt Designer</strong> and you can start to drag elements from the widget library
on your surface. If the <strong>Qt Designer</strong> is started from <strong>itom</strong> you will even find a section <strong>ITOM Plugins</strong> in the library list, which contains all loadable designer plugins that are
provided by <strong>itom</strong> and can also be placed on your surface. The choice of these plugins depend on the designer plugins that are currently available in your installation of <strong>itom</strong>.</p>
<div class="figure">
<img alt="../_images/qtdesigner1.png" src="../_images/qtdesigner1.png" />
</div>
<p>After having placed one widget on the canvas, you will see its properties in the property toolbox of <strong>Qt Designer</strong>. Every widget has the common property <strong>objectName</strong>. If you assign
a unique object name to any of your control elements, it is possible to access and manipulate this widget from a <strong>Python</strong> script in <strong>itom</strong> using this name, too. In general many of the
properties that are visible in the property toolbox can afterwards be read or changed by an appropriate script (depending on the data type of the property).</p>
<p>The alignment of control elements on the surface is mainly controlled by so-called layout elements. These layouts together with size policies that can be assigned to every widget
control the appearance of the entire user interface and provide the feature that the dialog can be changed in size whereas all widgets are dynamically repositioned. For more information
about layouting your user interface, see <a class="reference external" href="http://qt-project.org/doc/qt-4.8/designer-layouts.html">http://qt-project.org/doc/qt-4.8/designer-layouts.html</a>.</p>
<p>Finally, save your user interface under a convenient filename with the suffix <strong>.ui</strong>.</p>
<div class="section" id="widget-library">
<h3>Widget Library<a class="headerlink" href="#widget-library" title="Permalink to this headline">¶</a></h3>
<p>In principle, you are allowed to place every widget on your user interface that is available in the widget library (widget box) of <strong>Qt Designer</strong>. Later, you will learn how you can
access properties of any widget (read and/or write) and how you can call specific functions provided by any widget. However, you will also learn that you do not have access using <strong>Python</strong>
to all functions a widget has and you are not able to sub-class any widget, like you can it using a native <strong>C++</strong> program. Therefore, it is not recommended to place any widget from the
group <strong>Item Views (Model-based)</strong> on your user interface since only few functions of these widgets are accessible by a <strong>Python</strong> script. If you need a list box, use the item-based list
widget. <strong>itom</strong> also provides some widgets (section <strong>ITOM widgets</strong>) that can be placed on your user interfaces, for instance some plot widgets or the widget for plotting the result of
the python module matplotlib (see <a class="reference internal" href="../08_scriptLanguage/pymod-matplotlib.html#pymod-matplotlib"><em>Python-Module matplotlib</em></a>).</p>
</div>
</div>
<div class="section" id="loading-user-interface-in-itom">
<h2>Loading user interface in <strong>itom</strong><a class="headerlink" href="#loading-user-interface-in-itom" title="Permalink to this headline">¶</a></h2>
<p>In this section, an introduction is given how to create and load user interfaces in <strong>itom</strong> depending on different type-attributes.</p>
<div class="section" id="widget-embedded-in-itom-dialog-typedialog">
<h3>Widget embedded in <strong>itom</strong>-dialog (TYPEDIALOG)<a class="headerlink" href="#widget-embedded-in-itom-dialog-typedialog" title="Permalink to this headline">¶</a></h3>
<p>Like described above, the easiest and most comfortable way to load user interfaces in <strong>itom</strong> is to use the type <strong>TYPEDIALOG</strong>. In <strong>Qt Creator</strong> you design a widget with your
individual content and then when loading this GUI in <strong>itom</strong>, the widget is embedded in a dialog provided by <strong>itom</strong>, which optionally adds a horizontal or vertical button bar
at the right side or at the bottom of the dialog.</p>
<p>Let us create an exemplary user interface. In <strong>Qt Creator</strong> the following widget has been created:</p>
<div class="figure">
<a class="reference internal image-reference" href="../_images/testWidget.png"><img alt="../_images/testWidget.png" src="../_images/testWidget.png" style="width: 422.09999999999997px; height: 148.39999999999998px;" /></a>
</div>
<p>On the right side of the widget <em>testWidget</em> you see the hierarchical organization of objects that are put on the widget. At first, a group box has been placed on the widget. Inside of
this group box two radio buttons have been placed using a simple drag&amp;drop from the widget library. Both radio buttons are aligned inside of the group box with a vertical layout. This
is reached by a right-click on the group box and choosing <em>vertical layout</em> from the <em>layout</em> menu. Below the group box, a widget of type <em>lineedit</em> and a push button (type <em>pushbutton</em>)
have been placed. Finally the three main elements are also aligned in a vertical layout with respect to the overall widget. This can be achieved by a right click on an empty space of
the widget or directly in the <em>object inspector</em>. If you increase now the size of the overall widget, you will see that all sub-elements are resized according to their layout. Since
we don&#8217;t want sub-widgets to be vertically stretched and distributed, a vertical spacer element has been placed at the bottom of the vertical layout stack.</p>
<p>The following properties have been directly set in <strong>Qt Creator</strong>:</p>
<ul class="simple">
<li>group box: <em>objectName</em>: groupOption, <em>title</em>: &#8216;Please make your choice&#8217;</li>
<li>push button: <em>objectName</em>: btnClickMe, <em>text</em>: &#8216;click me&#8217;</li>
<li>line edit: <em>objectName</em>: txtInput, <em>text</em>: &#8216;put here your text...&#8217;</li>
<li>radio buttons: <em>objectName</em>: radioOpt1 and radioOpt2, <em>text</em>: &#8216;Option 1&#8217; and &#8216;Option 2&#8217;</li>
</ul>
<p>The entire widget is saved under the filename <em>testWidget.ui</em> in an arbitrary directory.</p>
<p>Then you can load and show the widget in <strong>itom</strong> by creating a python-script in the same directory with the following content. You can also directly type these lines into the command line of <strong>itom</strong>, however, you should then assure that the current directory is equal to the directory where the user interface has been stored.</p>
<div class="highlight-python"><div class="highlight"><pre><span class="n">dialog</span> <span class="o">=</span> <span class="n">ui</span><span class="p">(</span><span class="s">&quot;testWidget.ui&quot;</span><span class="p">,</span> <span class="n">ui</span><span class="o">.</span><span class="n">TYPEDIALOG</span><span class="p">)</span> <span class="c">#loading dialog</span>
<span class="n">result</span> <span class="o">=</span> <span class="n">dialog</span><span class="o">.</span><span class="n">show</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span> <span class="c">#modally show, wait until the dialog has been closed</span>
<span class="k">print</span><span class="p">(</span><span class="s">&quot;The dialog has been closed with code&quot;</span><span class="p">,</span> <span class="n">result</span><span class="p">)</span>
</pre></div>
</div>
<p>At first, an instance of class <a class="reference internal" href="../09_reference/itom_GUI.html#itom.ui" title="itom.ui"><tt class="xref py py-class docutils literal"><span class="pre">itom.ui</span></tt></a> is created that is given the name of the user interface file. This instance can then be accessed by the name <em>dialog</em>.
By calling the method <a class="reference internal" href="../09_reference/itom_GUI.html#itom.ui.show" title="itom.ui.show"><tt class="xref py py-meth docutils literal"><span class="pre">show()</span></tt></a>, the dialog is shown. Since the parameter has been set to <strong>1</strong>, the dialog is shown in a modal style, such that python waits
until the dialog has been closed again and <strong>itom</strong> is entirely blocked during that time. However, then it is possible to get informed about the way the dialog is closed, such
that the variable <em>result</em> will be set to <em>0</em> if the user closed the dialog using a cancel button (not available here) or the close button in the title bar or <em>1</em> if the user
clicked an <strong>OK</strong>-button.</p>
<div class="figure">
<a class="reference internal image-reference" href="../_images/testWidgetItom.png"><img alt="../_images/testWidgetItom.png" src="../_images/testWidgetItom.png" style="width: 313.59999999999997px; height: 223.29999999999998px;" /></a>
</div>
<p>It is also possible to open the dialog in a non-modal version or to open it in a modal style however to immediately force python to continue the script execution. This depends
on the parameters of <a class="reference internal" href="../09_reference/itom_GUI.html#itom.ui.show" title="itom.ui.show"><tt class="xref py py-meth docutils literal"><span class="pre">show()</span></tt></a>. However only in the modal case above, the closing result can be tracked by <strong>Python</strong>. Additionally, this is also only possible if
a widget is embedded in a dialog, given by <strong>itom</strong>, like it is always the case if you create an instance of <a class="reference internal" href="../09_reference/itom_GUI.html#itom.ui" title="itom.ui"><tt class="xref py py-class docutils literal"><span class="pre">itom.ui</span></tt></a> with the second parameter set to <strong>ui.TYPEDIALOG</strong>.</p>
<p>Right now, you don&#8217;t have the possibility to quit the dialog using any button (<strong>OK</strong>, <strong>Cancel</strong>...). In order to obtain a button bar with these buttons, the call to the class
<a class="reference internal" href="../09_reference/itom_GUI.html#itom.ui" title="itom.ui"><tt class="xref py py-class docutils literal"><span class="pre">itom.ui</span></tt></a> needs to be changed. There is the choice between two different appearances of a button bar, which can be automatically added to your widget:</p>
<div class="figure">
<a class="reference internal image-reference" href="../_images/testWidgetButtonBar.png"><img alt="../_images/testWidgetButtonBar.png" src="../_images/testWidgetButtonBar.png" style="width: 475.29999999999995px; height: 222.6px;" /></a>
</div>
<p>Next, you need to select which buttons should be included in the button bar. This is done by creating a python dictionary, where each elements corresponds to one button. The
key-word of the item corresponds to the role of the button (see enumeration <em>QDialogButtonBox::ButtonRole*</em> of the <strong>Qt</strong>-library documentation) and the value is the text of the
button. Common roles are:</p>
<ul class="simple">
<li>&#8220;AcceptRole&#8221;: Use this role for an <strong>OK</strong>-button. The dialog is closed and the return value in modal style is 1.</li>
<li>&#8220;CancelRole&#8221;: Use this role for a <strong>Cancel</strong>-button. The dialog is also closed but the return value is 0.</li>
</ul>
<p>Finally, the call to <a class="reference internal" href="../09_reference/itom_GUI.html#itom.ui" title="itom.ui"><tt class="xref py py-class docutils literal"><span class="pre">itom.ui</span></tt></a> must be in the following way, in order to get an auto-generated button bar:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="n">dialog</span> <span class="o">=</span> <span class="n">ui</span><span class="p">(</span><span class="s">&quot;testWidget.ui&quot;</span><span class="p">,</span> <span class="n">ui</span><span class="o">.</span><span class="n">TYPEDIALOG</span><span class="p">,</span> <span class="n">ui</span><span class="o">.</span><span class="n">BUTTONBAR_VERTICAL</span><span class="p">,</span> \
    <span class="p">{</span><span class="s">&quot;AcceptRole&quot;</span><span class="p">:</span><span class="s">&quot;OK&quot;</span><span class="p">,</span> <span class="s">&quot;CancelRole&quot;</span><span class="p">:</span><span class="s">&quot;Cancel&quot;</span><span class="p">})</span>
<span class="c">#or</span>
<span class="n">dialog</span> <span class="o">=</span> <span class="n">ui</span><span class="p">(</span><span class="s">&quot;testWidget.ui&quot;</span><span class="p">,</span> <span class="n">ui</span><span class="o">.</span><span class="n">TYPEDIALOG</span><span class="p">,</span> <span class="n">ui</span><span class="o">.</span><span class="n">BUTTONBAR_HORIZONTAL</span><span class="p">,</span> \
    <span class="p">{</span><span class="s">&quot;AcceptRole&quot;</span><span class="p">:</span><span class="s">&quot;Yes&quot;</span><span class="p">,</span> <span class="s">&quot;CancelRole&quot;</span><span class="p">:</span><span class="s">&quot;No&quot;</span><span class="p">})</span>
</pre></div>
</div>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">You can also use a keyword-based call to <strong>ui</strong> since every parameter has its default value such that you can omit parameters beside the first one.
For more details about all parameters, keywords and its default values see <a class="reference internal" href="../09_reference/itom_GUI.html#itom.ui" title="itom.ui"><tt class="xref py py-class docutils literal"><span class="pre">itom.ui</span></tt></a>.</p>
</div>
<p>The dialog is closed and deleted if the variable <strong>dialog</strong> is deleted using the command <strong>del</strong>.</p>
</div>
<div class="section" id="main-window-or-dialog-typewindow">
<h3>Main window or dialog (TYPEWINDOW)<a class="headerlink" href="#main-window-or-dialog-typewindow" title="Permalink to this headline">¶</a></h3>
<p>If you are not interested in the exact return value of the dialog but you want to have full control and all available functionalities of any dialog or main window,
create an user interface based on a <strong>dialog</strong> or <strong>main window</strong> in <strong>Qt Designer</strong>.</p>
<div class="figure">
<img alt="../_images/testWindow.png" src="../_images/testWindow.png" />
</div>
<p>The figure shows an exemplary user interface (<strong>testWindow.ui</strong>) that is based on a main window. On the right side, there have been added three buttons, nested in a vertical layout.
On the left side, there is a list widget (objectName: <strong>listWidget</strong>, type: <strong>List Widget</strong>). Additionally a menu has been added that consists of three items.</p>
<p>This main window can now be shown using the following code snippet:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="n">win</span> <span class="o">=</span> <span class="n">ui</span><span class="p">(</span><span class="s">&quot;testWindow.ui&quot;</span><span class="p">,</span> <span class="n">ui</span><span class="o">.</span><span class="n">TYPEWINDOW</span><span class="p">)</span>
<span class="n">win</span><span class="o">.</span><span class="n">show</span><span class="p">()</span> <span class="c">#this is equal to win.show(0) -&gt; non-modal</span>
</pre></div>
</div>
<p>Then, the window is shown on top of the main window of <strong>itom</strong>, since it is considered to be a child of <strong>itom</strong>. If you don&#8217;t want this, you can also add the keyword-parameter
<em>childOfMainWindow=False</em> to the call of <a class="reference internal" href="../09_reference/itom_GUI.html#itom.ui" title="itom.ui"><tt class="xref py py-class docutils literal"><span class="pre">itom.ui</span></tt></a>:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="n">win</span> <span class="o">=</span> <span class="n">ui</span><span class="p">(</span><span class="s">&quot;testWindow.ui&quot;</span><span class="p">,</span> <span class="n">ui</span><span class="o">.</span><span class="n">TYPEWINDOW</span><span class="p">,</span> <span class="n">childOfMainWindow</span><span class="o">=</span><span class="bp">False</span><span class="p">)</span>
</pre></div>
</div>
<p>Here, you need to use the keyword, since the parameters <em>dialogButtonBar</em> and <em>dialogButtons</em> (used for TYPEDIALOG) are not given in this case, since they are useless in case of
<em>TYPEWINDOW</em>. If your window is no child of <strong>itom</strong>, it gets its own icon in the Windows tray bar and does not stay on top of <strong>itom</strong>.</p>
</div>
<div class="section" id="main-window-or-widget-as-dockable-toolbox-typedockwidget">
<h3>Main window or widget as dockable toolbox (TYPEDOCKWIDGET)<a class="headerlink" href="#main-window-or-widget-as-dockable-toolbox-typedockwidget" title="Permalink to this headline">¶</a></h3>
<p>It is also possible to integrate user-defined main windows or widgets as dockable toolbox in the main window of <strong>itom</strong>. This is done using the type value <strong>ui.TYPEDOCKWIDGET</strong>. Then the
widget is registered as dockwidget in the main window of <strong>itom</strong> and once it becomes visible, its startup position is at the top-center position.</p>
</div>
</div>
<div class="section" id="accessing-control-elements">
<h2>Accessing control elements<a class="headerlink" href="#accessing-control-elements" title="Permalink to this headline">¶</a></h2>
<p>Until now, you know how to design an interface and how to show it using <strong>itom</strong>. This and the following sections explain how you dynamically interact with the user interface and
its elements. One elementary tool for this is to access any desired element of the GUI. For instance, if you want to change properties of a button or the text of a lineedit-widget,
you first need to access these elements.</p>
<p>The accessing is simply done by the unique and specific <strong>objectName</strong> of each element and the dot-operator (<strong>.</strong>). Let&#8217;s take the first example <strong>testWidget.ui</strong> again. The
dialog has been assigned the variable <strong>dialog</strong>. Then have the following possibilities to access its elements:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="n">elemGroup</span> <span class="o">=</span> <span class="n">dialog</span><span class="o">.</span><span class="n">groupOption</span> <span class="c"># access the group box by its objectName</span>

<span class="n">elemRadioOpt1</span> <span class="o">=</span> <span class="n">dialog</span><span class="o">.</span><span class="n">radioOpt1</span> <span class="c"># OR</span>
<span class="n">elemRadioOpt1</span> <span class="o">=</span> <span class="n">elemGroup</span><span class="o">.</span><span class="n">radioOpt1</span>

<span class="n">textfield</span> <span class="o">=</span> <span class="n">dialog</span><span class="o">.</span><span class="n">txtInput</span>
</pre></div>
</div>
<p>Each variable created by the code block above is an instance of <a class="reference internal" href="../09_reference/itom_GUI.html#itom.uiItem" title="itom.uiItem"><tt class="xref py py-class docutils literal"><span class="pre">itom.uiItem</span></tt></a>. It is this class that defines the dot-operator. Looking at the example of accessing the first radio
button, which is a child of the group-box, it is both possible to access the group button by its objectName as child of the entire dialog or as child of the groupbox. This is feasible
since the class <a class="reference internal" href="../09_reference/itom_GUI.html#itom.ui" title="itom.ui"><tt class="xref py py-class docutils literal"><span class="pre">ui</span></tt></a> is derived from <a class="reference internal" href="../09_reference/itom_GUI.html#itom.uiItem" title="itom.uiItem"><tt class="xref py py-class docutils literal"><span class="pre">uiItem</span></tt></a>, such that the dot-operator not only works for entire dialog references but also for accessing sub-elements
of other widgets. However, since each objectName is unique among all elements of the entire dialog, is doesn&#8217;t matter how to access any element.</p>
<p>But why do we need to access these elements? Why do they returns its own instance of class <a class="reference internal" href="../09_reference/itom_GUI.html#itom.uiItem" title="itom.uiItem"><tt class="xref py py-class docutils literal"><span class="pre">uiItem</span></tt></a>. These questions are answered in the following sections...</p>
</div>
<div class="section" id="getting-and-setting-properties">
<span id="qtdesigner-getsetprops"></span><h2>Getting and setting properties<a class="headerlink" href="#getting-and-setting-properties" title="Permalink to this headline">¶</a></h2>
<p>As already mentioned, you can read or write most properties of any element that are also listed in the property toolbox of <strong>Qt Designer</strong>. Properties are also separately listed in the
corresponding <strong>Qt</strong> documentation. In general it makes sense to set properties - when offline possible - in the <strong>Qt Designer</strong>. This is a little bit more efficient and keeps your
script tiny. Getting and setting properties is possible if you have an object of type <a class="reference internal" href="../09_reference/itom_GUI.html#itom.uiItem" title="itom.uiItem"><tt class="xref py py-class docutils literal"><span class="pre">uiItem</span></tt></a>. Therefore you need to get this object like described in the section above.</p>
<p>Getting the property value can either be done by using the mapping-operator <strong>[]</strong> or by using the method <a class="reference internal" href="../09_reference/itom_GUI.html#itom.uiItem.getProperty" title="itom.uiItem.getProperty"><tt class="xref py py-meth docutils literal"><span class="pre">getProperty()</span></tt></a>. For instance, if you want to get the current text
and the enabled status of the textfield in dialog <em>testWidget.ui</em> from the first example, you can use one of the following possibilities:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="c">#1. possibility</span>
<span class="n">text</span> <span class="o">=</span> <span class="n">dialog</span><span class="o">.</span><span class="n">txtInput</span><span class="p">[</span><span class="s">&quot;text&quot;</span><span class="p">]</span>
<span class="n">enabled</span> <span class="o">=</span> <span class="n">dialog</span><span class="o">.</span><span class="n">txtInput</span><span class="p">[</span><span class="s">&quot;enabled&quot;</span><span class="p">]</span>

<span class="c">#2. possibility</span>
<span class="p">[</span><span class="n">text</span><span class="p">,</span><span class="n">enabled</span><span class="p">]</span> <span class="o">=</span> <span class="n">dialog</span><span class="o">.</span><span class="n">txtInput</span><span class="o">.</span><span class="n">getProperty</span><span class="p">([</span><span class="s">&quot;text&quot;</span><span class="p">,</span> <span class="s">&quot;enabled&quot;</span><span class="p">])</span>
</pre></div>
</div>
<p>In order to set one or multiple properties, you can use similar methods. Simply assign a value to the mapping-operator <strong>[]</strong> or use the method <a class="reference internal" href="../09_reference/itom_GUI.html#itom.uiItem.setProperty" title="itom.uiItem.setProperty"><tt class="xref py py-meth docutils literal"><span class="pre">setProperty()</span></tt></a>.</p>
<div class="highlight-python"><div class="highlight"><pre><span class="c">#1. possibility</span>
<span class="n">dialog</span><span class="o">.</span><span class="n">txtInput</span><span class="p">[</span><span class="s">&quot;text&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="s">&quot;new text for this textfield&quot;</span>
<span class="n">dialog</span><span class="o">.</span><span class="n">txtInput</span><span class="p">[</span><span class="s">&quot;enabled&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="bp">False</span>

<span class="c">#2. possibility</span>
<span class="n">dialog</span><span class="o">.</span><span class="n">txtInput</span><span class="o">.</span><span class="n">setProperty</span><span class="p">(</span> <span class="p">{</span><span class="s">&quot;text&quot;</span><span class="p">:</span><span class="s">&quot;new text for this textfield&quot;</span><span class="p">,</span> \
    <span class="s">&quot;enabled&quot;</span><span class="p">:</span><span class="bp">False</span><span class="p">}</span> <span class="p">)</span>
</pre></div>
</div>
<p>If you use <a class="reference internal" href="../09_reference/itom_GUI.html#itom.uiItem.setProperty" title="itom.uiItem.setProperty"><tt class="xref py py-meth docutils literal"><span class="pre">setProperty()</span></tt></a>, you always need to pass a dictionary as argument. This dictionary can contain one or multiple properties, where the keyword
always is the property-name (string) and the value is the corresponding new value (type depends on corresponding C++ type).
For more information about supported datatypes, that can be accessed by python in <strong>itom</strong> see <a class="reference internal" href="#qtdesigner-datatypes"><em>Supported datatypes</em></a>.</p>
</div>
<div class="section" id="supported-datatypes">
<span id="qtdesigner-datatypes"></span><h2>Supported datatypes<a class="headerlink" href="#supported-datatypes" title="Permalink to this headline">¶</a></h2>
<p>The classes <a class="reference internal" href="../09_reference/itom_GUI.html#itom.ui" title="itom.ui"><tt class="xref py py-class docutils literal"><span class="pre">itom.ui</span></tt></a> and <a class="reference internal" href="../09_reference/itom_GUI.html#itom.uiItem" title="itom.uiItem"><tt class="xref py py-class docutils literal"><span class="pre">itom.uiItem</span></tt></a> are the connection between any python-script in <strong>itom</strong> and GUI-elements, written in C++ and provided by <strong>Qt</strong>.
Therefore, it is necessary to transform types from python to corresponding C++-structures and vice-versa. The following table lists some convenient type casts. In general,
it is always tried to convert the input type to the desired destination type, such that a number can also be transformed to a string, if it is always known, that the destination
requires a string.</p>
<table border="1" class="docutils">
<colgroup>
<col width="18%" />
<col width="82%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">C++/Qt-Type</th>
<th class="head">Python-Type</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>QString</td>
<td>str or any type, that has a string representation</td>
</tr>
<tr class="row-odd"><td>QByteArray</td>
<td>unicode or byte type</td>
</tr>
<tr class="row-even"><td>QUrl</td>
<td>any string that can be interpreted as Url</td>
</tr>
<tr class="row-odd"><td>bool</td>
<td>any type that can be casted to a boolean value (1,0,True,False...)</td>
</tr>
<tr class="row-even"><td>QStringList</td>
<td>any sequence that only contains values castable to QString</td>
</tr>
<tr class="row-odd"><td>int, short, long</td>
<td>integer, floats are rounded to integer, True=1, False=0</td>
</tr>
<tr class="row-even"><td>unsigned int ...</td>
<td>integer, floats are rounded to integer, True=1, False=0</td>
</tr>
<tr class="row-odd"><td>float, double</td>
<td>integer, floats, True=1.0, False=0.0</td>
</tr>
<tr class="row-even"><td>QVector&lt;int&gt;</td>
<td>any sequence whose values are castable to int</td>
</tr>
<tr class="row-odd"><td>QVector&lt;double&gt;</td>
<td>any sequence whose values are castable to double</td>
</tr>
<tr class="row-even"><td>PCLPointCloud</td>
<td><a class="reference internal" href="../09_reference/pointCloud.html#itom.pointCloud" title="itom.pointCloud"><tt class="xref py py-class docutils literal"><span class="pre">pointCloud</span></tt></a></td>
</tr>
<tr class="row-odd"><td>PCLPoint</td>
<td><a class="reference internal" href="../09_reference/point.html#itom.point" title="itom.point"><tt class="xref py py-class docutils literal"><span class="pre">point</span></tt></a></td>
</tr>
<tr class="row-even"><td>PCLPolygonMesh</td>
<td><a class="reference internal" href="../09_reference/polygonMesh.html#itom.polygonMesh" title="itom.polygonMesh"><tt class="xref py py-class docutils literal"><span class="pre">polygonMesh</span></tt></a></td>
</tr>
<tr class="row-odd"><td>DataObject*</td>
<td><a class="reference internal" href="../09_reference/dataObject.html#itom.dataObject" title="itom.dataObject"><tt class="xref py py-class docutils literal"><span class="pre">dataObject</span></tt></a> or any type convertable to an array (see numpy)</td>
</tr>
<tr class="row-even"><td>AddInDataIO*</td>
<td><a class="reference internal" href="../09_reference/dataIO.html#itom.dataIO" title="itom.dataIO"><tt class="xref py py-class docutils literal"><span class="pre">dataIO</span></tt></a></td>
</tr>
<tr class="row-odd"><td>AddInActuator*</td>
<td><a class="reference internal" href="../09_reference/actuator.html#itom.actuator" title="itom.actuator"><tt class="xref py py-class docutils literal"><span class="pre">actuator</span></tt></a></td>
</tr>
<tr class="row-even"><td>QVariant</td>
<td>any of the types above can be transformed to QVariant</td>
</tr>
<tr class="row-odd"><td>QVariantMap</td>
<td>a dictionary where keys are strings and values are generally convertable.</td>
</tr>
<tr class="row-even"><td>QVariantList</td>
<td>any sequence whose items can be convertable.</td>
</tr>
<tr class="row-odd"><td>QRegion</td>
<td><a class="reference internal" href="../09_reference/region.html#itom.region" title="itom.region"><tt class="xref py py-class docutils literal"><span class="pre">region</span></tt></a></td>
</tr>
<tr class="row-even"><td>QColor</td>
<td>string with color name or hex-value or <a class="reference internal" href="../09_reference/rgba.html#itom.rgba" title="itom.rgba"><tt class="xref py py-class docutils literal"><span class="pre">rgba</span></tt></a></td>
</tr>
<tr class="row-odd"><td>Enumeration</td>
<td>integer with value or string with key (setter only)</td>
</tr>
</tbody>
</table>
<p>If a property or other arguments in <strong>Qt</strong> require other datatypes, it is possibly to implement a converter for them. It only becomes a little bit more difficult for pointers to
extended C++ or <strong>Qt</strong> classes. The conversion is mainly done in the <strong>itom</strong> class <strong>PythonQtConversion</strong>.</p>
</div>
<div class="section" id="connecting-signals">
<h2>Connecting signals<a class="headerlink" href="#connecting-signals" title="Permalink to this headline">¶</a></h2>
<p>Now, you know how to change properties of dialogs at runtime of <strong>itom</strong> using a small python script snippet. In this section, you will learn how you can let <strong>itom</strong> a specific python-method
for instance if a button on the user interface is clicked. Whenever something is changed in a user interface or the user starts to interact with the interface, any type of event is emitted.
In <strong>Qt</strong> many of these events are specially handled and called signals. For instance, if an user clicks a button, toggles a checkbox, triggers an item in a menu or selects an item in a list
widget, a signal is emitted or sent.</p>
<p>The counterpart to a signal is called slot. <strong>Qt</strong> provides the possibility to <strong>connect</strong> a signal with a slot, under the only condition, that both have exactly the same order and type
of arguments. It is even possible to connect the same signal to various slots. Whenever a signal is emitted, all connected slots are executed. <strong>itom</strong> provides you the possibility to
define slots in form of ordinary python methods or functions and to also connect them to signals of widgets on your user interface.</p>
<p>For establishing the connection, you need again a reference to the specific widget on the user interface. This reference is any variable of type <a class="reference internal" href="../09_reference/itom_GUI.html#itom.uiItem" title="itom.uiItem"><tt class="xref py py-class docutils literal"><span class="pre">uiItem</span></tt></a>. Next, you need the
name and the arguments of the <strong>Qt</strong> signal, you want to connec to. This information can be obtained by the <strong>Qt</strong> documentation. For instance, if you need any signal that a widget of type
<strong>QPushButton</strong> (the type of our push button, placed in the user interface in file <strong>testWidget.ui</strong>), go to <a class="reference external" href="http://qt-project.org/doc/qt-4.8/qpushbutton.html">http://qt-project.org/doc/qt-4.8/qpushbutton.html</a>. Unfortunately, you won&#8217;t find
a headline called <strong>Signals</strong> at this page, since <strong>QPushButton</strong> does not directly declare any signal. However, you can see under <strong>Additional Inherited Members</strong>, that <strong>QPushButton</strong>
inherits signals from its base classes. The most important signals are inherited from <strong>QAbstractButton</strong>. Click on its link and you will see the available signals for a push button:</p>
<div class="highlight-c++"><div class="highlight"><pre><span class="kt">void</span> <span class="n">clicked</span> <span class="p">(</span> <span class="kt">bool</span> <span class="n">checked</span> <span class="o">=</span> <span class="nb">false</span> <span class="p">)</span>
<span class="kt">void</span> <span class="n">pressed</span> <span class="p">()</span>
<span class="kt">void</span> <span class="n">released</span> <span class="p">()</span>
<span class="kt">void</span> <span class="n">toggled</span> <span class="p">(</span> <span class="kt">bool</span> <span class="n">checked</span> <span class="p">)</span>
</pre></div>
</div>
<p>If any argument provides a default value, you can also omit the specific argument. Select the signal that is convenient for you and create its string-signature. The signature always
contains the following structure:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="n">signature</span> <span class="o">=</span> <span class="s">&quot;signalName(typeName1,typeName2,...)&quot;</span>
</pre></div>
</div>
<p>For instance, the signatures for the signals above are:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="s">&quot;clicked()&quot;</span> <span class="ow">or</span> <span class="s">&quot;clicked(bool)&quot;</span>
<span class="s">&quot;pressed()&quot;</span>
<span class="s">&quot;released()&quot;</span>
<span class="s">&quot;toggled(bool)&quot;</span>
</pre></div>
</div>
<p>Then, create a python method in your script, which you want to consider to be a slot and that should be connected with the signal. This method always requires the same number of
arguments than given in the signature. If you want to connect a signal to a method that is a bounded method of a class in python, the first argument <strong>self</strong> does not count to the
number of total arguments, hence, you always need to define the first parameter <strong>self</strong>, like it is the case for bounded methods.</p>
<p>Finally, use the method <a class="reference internal" href="../09_reference/itom_GUI.html#itom.uiItem.connect" title="itom.uiItem.connect"><tt class="xref py py-meth docutils literal"><span class="pre">connect()</span></tt></a> in order to establish the connection. For instance let us create a method, that should show a message when the push button &#8220;click me&#8221;
on the first exemplary dialog (<em>testWidget.ui</em>) has been clicked:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="n">dialog</span> <span class="o">=</span> <span class="n">ui</span><span class="p">(</span><span class="s">&quot;testWidget.ui&quot;</span><span class="p">,</span> <span class="n">ui</span><span class="o">.</span><span class="n">TYPEDIALOG</span><span class="p">,</span> <span class="n">ui</span><span class="o">.</span><span class="n">BUTTONBAR_VERTICAL</span><span class="p">,</span> \
    <span class="p">{</span><span class="s">&quot;AcceptRole&quot;</span><span class="p">:</span><span class="s">&quot;OK&quot;</span><span class="p">,</span> <span class="s">&quot;CancelRole&quot;</span><span class="p">:</span><span class="s">&quot;Cancel&quot;</span><span class="p">})</span>

<span class="k">def</span> <span class="nf">showMsg</span><span class="p">():</span>
    <span class="c">#slot executed in button &#39;click me&#39; is clicked</span>
    <span class="n">ui</span><span class="o">.</span><span class="n">msgInformation</span><span class="p">(</span><span class="s">&quot;itom&quot;</span><span class="p">,</span><span class="s">&quot;you pressed the button click me&quot;</span><span class="p">)</span>

<span class="c">#connect(signature, method)</span>
<span class="n">dialog</span><span class="o">.</span><span class="n">btnClickMe</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span> <span class="s">&quot;clicked()&quot;</span><span class="p">,</span> <span class="n">showMsg</span> <span class="p">)</span>

<span class="c">#show dialog</span>
<span class="n">dialog</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>
</div>
<p>You have seen that the method <a class="reference internal" href="../09_reference/itom_GUI.html#itom.uiItem.connect" title="itom.uiItem.connect"><tt class="xref py py-meth docutils literal"><span class="pre">connect()</span></tt></a> of the element <em>dialog.btnClickMe</em> (the push button) has been called. Its first argument is
the signature of the signal, as second argument the reference to the slot-methods is given. If you integrate the dialog within a class and the slot is a member of this class, too,
the exemplary code can look as follows:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="k">class</span> <span class="nc">MyDialog</span><span class="p">():</span>

    <span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">dialog</span> <span class="o">=</span> <span class="n">ui</span><span class="p">(</span><span class="s">&quot;testWidget.ui&quot;</span><span class="p">,</span> <span class="n">ui</span><span class="o">.</span><span class="n">TYPEDIALOG</span><span class="p">,</span> <span class="n">ui</span><span class="o">.</span><span class="n">BUTTONBAR_VERTICAL</span><span class="p">,</span> \
            <span class="p">{</span><span class="s">&quot;AcceptRole&quot;</span><span class="p">:</span><span class="s">&quot;OK&quot;</span><span class="p">,</span> <span class="s">&quot;CancelRole&quot;</span><span class="p">:</span><span class="s">&quot;Cancel&quot;</span><span class="p">})</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">dialog</span><span class="o">.</span><span class="n">btnClickMe</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span><span class="s">&quot;clicked()&quot;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">showMsg</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">dialog</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>

    <span class="k">def</span> <span class="nf">showMsg</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">ui</span><span class="o">.</span><span class="n">msgInformation</span><span class="p">(</span><span class="s">&quot;itom&quot;</span><span class="p">,</span><span class="s">&quot;you pressed the button click me&quot;</span><span class="p">)</span>

<span class="c">#instance of class MyDialog</span>
<span class="n">test</span> <span class="o">=</span> <span class="n">MyDialog</span><span class="p">()</span>
</pre></div>
</div>
<p>Let us use the second example <strong>testWindow.ui</strong>. If you want a python method to be executed if the user clicks an action in the menu of the main window, you should connect
the signal <strong>triggered()</strong> of every item in the menu with your method. In <strong>Qt</strong> such an item is an instance of <em>QAction</em> and is also accessed by its <em>objectName</em>.</p>
<div class="highlight-python"><div class="highlight"><pre><span class="n">win</span> <span class="o">=</span> <span class="n">ui</span><span class="p">(</span><span class="s">&quot;testWindow.ui&quot;</span><span class="p">,</span> <span class="n">ui</span><span class="o">.</span><span class="n">TYPEWINDOW</span><span class="p">)</span>

<span class="k">def</span> <span class="nf">addItem</span><span class="p">():</span>
    <span class="k">print</span><span class="p">(</span><span class="s">&quot;action addItem clicked&quot;</span><span class="p">)</span>

<span class="n">win</span><span class="o">.</span><span class="n">actionAddItem</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span><span class="s">&quot;triggered()&quot;</span><span class="p">,</span> <span class="n">addItem</span><span class="p">)</span>
<span class="c">#actionAddItem is the objectName of the action</span>
<span class="n">win</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="section" id="calling-slots">
<h2>Calling slots<a class="headerlink" href="#calling-slots" title="Permalink to this headline">¶</a></h2>
<p>Widgets on user interfaces not only emit signals but they also have slots defined, such that you can connect other signals (e.g. from other widgets) to these slots. Using a python
script in <strong>itom</strong> you can also call (<em>or:</em> invoke) these slots.</p>
<p>In order to invoke a slot, call the method <a class="reference internal" href="../09_reference/itom_GUI.html#itom.uiItem.call" title="itom.uiItem.call"><tt class="xref py py-meth docutils literal"><span class="pre">call()</span></tt></a> of any element on your user interface. For instance, in order to clear the list widget (<em>objectName</em>: <em>listWidget</em>)
of <strong>uiWindow.ui</strong>, you can invoke its public slot <strong>clear()</strong>:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="n">win</span> <span class="o">=</span> <span class="n">ui</span><span class="p">(</span><span class="s">&quot;testWindow.ui&quot;</span><span class="p">,</span> <span class="n">ui</span><span class="o">.</span><span class="n">TYPEWINDOW</span><span class="p">)</span>
<span class="n">listWidget</span> <span class="o">=</span> <span class="n">win</span><span class="o">.</span><span class="n">listWidget</span>
<span class="n">listWidget</span><span class="o">.</span><span class="n">call</span><span class="p">(</span><span class="s">&quot;clear&quot;</span><span class="p">)</span>
</pre></div>
</div>
<p>Here, the method <a class="reference internal" href="../09_reference/itom_GUI.html#itom.uiItem.call" title="itom.uiItem.call"><tt class="xref py py-meth docutils literal"><span class="pre">call()</span></tt></a> is only called with one argument, the name of the slot in <strong>Qt</strong>. If this slot would have any arguments that can be converted from <strong>Python</strong> (see
<a class="reference internal" href="#qtdesigner-datatypes"><em>Supported datatypes</em></a>), add these arguments as further parameters to the call.</p>
<p>Unfortunately, there are some methods of important widgets in <strong>Qt</strong>, which are not defined to be a <em>public slot</em>. For instance, the methods to add item(s) to a list widget are no slots.
However, there are some exceptions defined in <strong>itom</strong> such that some <em>public methods</em> of widgets can also be called with the method <a class="reference internal" href="../09_reference/itom_GUI.html#itom.uiItem.call" title="itom.uiItem.call"><tt class="xref py py-meth docutils literal"><span class="pre">call()</span></tt></a>. These exceptions are
contained in the following table:</p>
<table border="1" class="docutils">
<colgroup>
<col width="21%" />
<col width="79%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Widget / ClassName</th>
<th class="head">Public Method</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>QWidget</td>
<td>void resize(int,int)</td>
</tr>
<tr class="row-odd"><td>QWidget</td>
<td>void setGeometry(int,int,int,int)</td>
</tr>
<tr class="row-even"><td>QListWidget</td>
<td>void addItem(QString)</td>
</tr>
<tr class="row-odd"><td>QListWidget</td>
<td>void addItems(QStringList)</td>
</tr>
<tr class="row-even"><td>QComboBox</td>
<td>void addItem(QString)</td>
</tr>
<tr class="row-odd"><td>QComboBox</td>
<td>void addItems(QStringList)</td>
</tr>
<tr class="row-even"><td>QTabWidget</td>
<td>int isTabEnabled(int)</td>
</tr>
<tr class="row-odd"><td>QTabWidget</td>
<td>void setTabEnabled(int,bool)</td>
</tr>
<tr class="row-even"><td>QMainWindow</td>
<td>uiItem statusBar() <em>returns a reference to the statusbar widget</em></td>
</tr>
<tr class="row-odd"><td>QMainWindow</td>
<td>uiItem centralWidget() <em>returns a reference to the central widget of the mainWindow</em></td>
</tr>
<tr class="row-even"><td>QTableWidget</td>
<td>void setHorizontalHeaderLabels(QStringList)</td>
</tr>
<tr class="row-odd"><td>QTableWidget</td>
<td>void setVerticalHeaderLabels(QStringList)</td>
</tr>
<tr class="row-even"><td>QTableWidget</td>
<td>QVariant getItem(int,int)</td>
</tr>
<tr class="row-odd"><td>QTableWidget</td>
<td>void setItem(int,int,QVariant)</td>
</tr>
<tr class="row-even"><td>QTableView</td>
<td>uiItem horizontalHeader()</td>
</tr>
<tr class="row-odd"><td>QTableView</td>
<td>uiItem verticalHeader()</td>
</tr>
</tbody>
</table>
<p>Please notice, that every method listed above is also valid for a widget, that is derived from the specific class (derived in C++). Therefore the additional slots of <em>QWidget</em>
hold for every other widget, since every widget is derived from <em>QWidget</em>.</p>
</div>
<div class="section" id="connecting-internal-signals-and-slots-in-qt-designer">
<h2>Connecting internal signals and slots in <strong>Qt Designer</strong><a class="headerlink" href="#connecting-internal-signals-and-slots-in-qt-designer" title="Permalink to this headline">¶</a></h2>
<p>If you want to connect the signal, emitted by any widget, with a slot from another widget, you will learn in this section how to do this. This type of connection can for instance
be useful if you want to enable or disable certain widgets depending on the status of other ones, like the check-status of a checkbox. The following figure shows an user interface
with a checkbox and a textfield. Let us define a signal-slot-connection, such that the textfield gets disabled if the checkbox is unchecked.</p>
<div class="figure">
<a class="reference internal image-reference" href="../_images/uiSignalSlot1.png"><img alt="../_images/uiSignalSlot1.png" src="../_images/uiSignalSlot1.png" style="width: 275.09999999999997px; height: 53.199999999999996px;" /></a>
</div>
<p>This type of gui-internal connections are completely done in <strong>Qt Creator</strong>. Therefore chose the &#8220;Signal and Slots&#8221; editing mode, that is obtained by clicking the symbol <img alt="qtsignalslotmode" src="../_images/designer-connection-tool.png" />
in the toolbar or by pressing <em>F4</em>. Then you can make a drag&amp;drop connection between the emitting widget and the receiver-widget. After releasing the mouse button, the connection dialog,
depicted in the following figure becomes visible:</p>
<div class="figure">
<a class="reference internal image-reference" href="../_images/uiSignalSlot2.png"><img alt="../_images/uiSignalSlot2.png" src="../_images/uiSignalSlot2.png" style="width: 407.4px; height: 287.0px;" /></a>
</div>
<p>Here you can choose which signal of the emitting widget should be connected with which slot of the destination. At the beginning, only slots and signals of the specific widget classes are
visible. However, you can check the checkbox below, in order to also show the signals and slots of the inherited classes. Please make sure, that you only choose pairs of signals and
slots which have the same parameter types. In our case, we connect the signal <em>toggled(bool)</em> with the slot <em>setEnabled(bool)</em>, which is the setter-method of the property <em>enabled</em>.</p>
<p>This example has also shown, that not only slots defined in the slot-section can be called as slots, but also every setter-method of any property can be called like every slot. However,
in this case it is more convenient the property like described in section <a class="reference internal" href="#qtdesigner-getsetprops"><em>Getting and setting properties</em></a>.</p>
</div>
<div class="section" id="auto-connecting-signals-using-python-decorators">
<h2>Auto-connecting signals using python decorators<a class="headerlink" href="#auto-connecting-signals-using-python-decorators" title="Permalink to this headline">¶</a></h2>
<p>TODO</p>
</div>
<div class="section" id="debugging-user-interfaces-and-slot-methods">
<h2>Debugging user interfaces and slot-methods<a class="headerlink" href="#debugging-user-interfaces-and-slot-methods" title="Permalink to this headline">¶</a></h2>
<p>If you established a signal-slot-connection between an element of the GUI and a <strong>Python</strong>-method, you probably want to debug this method once the signal has been emitted. This
is obtained by setting any breakpoint into the specific line and toggling the button <em>Run python code in debug mode</em> in the menu <strong>Script</strong> of <strong>itom</strong>.</p>
<div class="figure">
<img alt="../_images/runPyCodeInDebug.png" src="../_images/runPyCodeInDebug.png" />
</div>
</div>
<div class="section" id="hints-and-limitations">
<h2>Hints and limitations<a class="headerlink" href="#hints-and-limitations" title="Permalink to this headline">¶</a></h2>
<p>All methods described in this chapter explain how to create and use user-defined dialogs and windows using <strong>Python</strong> scripts in <strong>itom</strong>. Finally, all dialogs are created using the
<strong>Qt</strong>-framework. The classes <a class="reference internal" href="../09_reference/itom_GUI.html#itom.ui" title="itom.ui"><tt class="xref py py-class docutils literal"><span class="pre">itom.ui</span></tt></a> and <a class="reference internal" href="../09_reference/itom_GUI.html#itom.uiItem" title="itom.uiItem"><tt class="xref py py-class docutils literal"><span class="pre">itom.uiItem</span></tt></a> finally are wrappers for the underlying <strong>Qt</strong>-system. Using pure python, similar things can also be
obtained with the famous packages <strong>PyQt</strong> or <strong>PySide</strong>. However, in <strong>itom</strong> you must not use these packages. The reason is, that create a new main instance of the <strong>Qt</strong>-engine, that
needs to be created in the main thread. This is the case, if <strong>PyQt</strong> or <strong>PySide</strong> is executed directly in <strong>Python</strong>. However using <strong>itom</strong> <strong>Python</strong> is embedded as scripting language, such
that <strong>itom</strong> is executed in the main thread while <strong>Python</strong> is moved to its own additional thread. The reason is to enable the execution of longer scripts, while the main application <strong>itom</strong>
still keeps reactive. Therefore, <strong>Python</strong> does not have access to the real main thread and it is forbidden to explicitly execute some GUI-related stuff in secondary threads. Therefore
all methods in <a class="reference internal" href="../09_reference/itom_GUI.html#itom.ui" title="itom.ui"><tt class="xref py py-class docutils literal"><span class="pre">itom.ui</span></tt></a> and <a class="reference internal" href="../09_reference/itom_GUI.html#itom.uiItem" title="itom.uiItem"><tt class="xref py py-class docutils literal"><span class="pre">itom.uiItem</span></tt></a> have thread-safe implementations and communicate with an organization structure, that runs in the main thread of <strong>itom</strong>, in
order to interact with all dialogs.</p>
</div>
</div>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar">
        <div class="sphinxsidebarwrapper">
  <h3><a href="../index.html">Table Of Contents</a></h3>
  <ul>
<li><a class="reference internal" href="#">Creating advanced dialogs and windows</a><ul>
<li><a class="reference internal" href="#qt-designer">Qt Designer</a><ul>
<li><a class="reference internal" href="#widget-library">Widget Library</a></li>
</ul>
</li>
<li><a class="reference internal" href="#loading-user-interface-in-itom">Loading user interface in <strong>itom</strong></a><ul>
<li><a class="reference internal" href="#widget-embedded-in-itom-dialog-typedialog">Widget embedded in <strong>itom</strong>-dialog (TYPEDIALOG)</a></li>
<li><a class="reference internal" href="#main-window-or-dialog-typewindow">Main window or dialog (TYPEWINDOW)</a></li>
<li><a class="reference internal" href="#main-window-or-widget-as-dockable-toolbox-typedockwidget">Main window or widget as dockable toolbox (TYPEDOCKWIDGET)</a></li>
</ul>
</li>
<li><a class="reference internal" href="#accessing-control-elements">Accessing control elements</a></li>
<li><a class="reference internal" href="#getting-and-setting-properties">Getting and setting properties</a></li>
<li><a class="reference internal" href="#supported-datatypes">Supported datatypes</a></li>
<li><a class="reference internal" href="#connecting-signals">Connecting signals</a></li>
<li><a class="reference internal" href="#calling-slots">Calling slots</a></li>
<li><a class="reference internal" href="#connecting-internal-signals-and-slots-in-qt-designer">Connecting internal signals and slots in <strong>Qt Designer</strong></a></li>
<li><a class="reference internal" href="#auto-connecting-signals-using-python-decorators">Auto-connecting signals using python decorators</a></li>
<li><a class="reference internal" href="#debugging-user-interfaces-and-slot-methods">Debugging user interfaces and slot-methods</a></li>
<li><a class="reference internal" href="#hints-and-limitations">Hints and limitations</a></li>
</ul>
</li>
</ul>

  <h4>Previous topic</h4>
  <p class="topless"><a href="method-itom.html"
                        title="previous chapter">Show messages, input boxes and default dialogs</a></p>
  <h4>Next topic</h4>
  <p class="topless"><a href="list_custom_widgets.html"
                        title="next chapter">Custom Designer Widgets</a></p>
  <h3>This Page</h3>
  <ul class="this-page-menu">
    <li><a href="../_sources/06_extended_gui/qtdesigner.txt"
           rel="nofollow">Show Source</a></li>
  </ul>
<div id="searchbox" style="display: none">
  <h3>Quick search</h3>
    <form class="search" action="../search.html" method="get">
      <input type="text" name="q" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    <p class="searchtip" style="font-size: 90%">
    Enter search terms or a module, class or function name.
    </p>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="../py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="list_custom_widgets.html" title="Custom Designer Widgets"
             >next</a> |</li>
        <li class="right" >
          <a href="method-itom.html" title="Show messages, input boxes and default dialogs"
             >previous</a> |</li>
        <li><a href="../index.html">itom</a> &raquo;</li>
          <li><a href="../structure.html" >Structure of the manual</a> &raquo;</li>
          <li><a href="extended_gui.html" >Extending the user interface of <strong>itom</strong></a> &raquo;</li> 
      </ul>
    </div>
    <div class="footer">
        &copy; Copyright 2011-2013, Institut fuer Technische Optik (ITO), University Stuttgart. Bug report: https://bitbucket.org/itom/itom/issues.
      Last updated on Apr 17, 2014.
      Created using <a href="http://sphinx-doc.org/">Sphinx</a> 1.2.1.
    </div>
  </body>
</html>