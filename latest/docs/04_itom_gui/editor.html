

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>4.2. Script-Editor &mdash; itom Documentation</title>
  

  
  

  

  
  
    

  

  
  
    <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
  

  
    <link rel="stylesheet" href="../_static/breathe.css" type="text/css" />
  
    <link rel="stylesheet" href="../_static/breathe.css" type="text/css" />
  
    <link rel="stylesheet" href="../_static/breathe.css" type="text/css" />
  
    <link rel="stylesheet" href="../_static/breathe.css" type="text/css" />
  

  
    <link rel="top" title="itom Documentation" href="../index.html"/>
        <link rel="up" title="4. The itom User Interface" href="gui.html"/>
        <link rel="next" title="4.3. Property Dialog" href="propertyDialog.html"/>
        <link rel="prev" title="4.1.3.6. Call Stack" href="callStack.html"/> 

  
  <script src="../_static/js/modernizr.min.js"></script>

</head>

<body class="wy-body-for-nav" role="document">

  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search">
          

          
            <a href="../index.html" class="icon icon-home"> itom Documentation
          

          
          </a>

          
            
            
              <div class="version">
                2.2.0
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
                <p class="caption"><span class="caption-text">Table of Contents</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../00_releaseNotes/whats-new.html">Changelog</a></li>
<li class="toctree-l1"><a class="reference internal" href="../01_introduction/introduction.html">1. Introduction</a></li>
<li class="toctree-l1"><a class="reference internal" href="../02_installation/install.html">2. Installation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../03_gettingStarted/getting-started.html">3. Getting Started</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="gui.html">4. The itom User Interface</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="mainWindow.html">4.1. Main Window</a></li>
<li class="toctree-l2 current"><a class="current reference internal" href="#">4.2. Script-Editor</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#basic-functions">4.2.1. Basic functions</a></li>
<li class="toctree-l3"><a class="reference internal" href="#run-or-debug-the-script">4.2.2. Run or debug the script</a></li>
<li class="toctree-l3"><a class="reference internal" href="#breakpoints">4.2.3. Breakpoints</a></li>
<li class="toctree-l3"><a class="reference internal" href="#syntax-highlighting-and-auto-completion">4.2.4. Syntax highlighting and auto completion</a></li>
<li class="toctree-l3"><a class="reference internal" href="#direction-class-and-method-navigator">4.2.5. Direction class and method navigator</a></li>
<li class="toctree-l3"><a class="reference internal" href="#automatic-syntax-check">4.2.6. Automatic syntax check</a></li>
<li class="toctree-l3"><a class="reference internal" href="#icon-browser">4.2.7. Icon-Browser</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="propertyDialog.html">4.3. Property Dialog</a></li>
<li class="toctree-l2"><a class="reference internal" href="pipManager.html">4.4. Python Package Manager</a></li>
<li class="toctree-l2"><a class="reference internal" href="timerManager.html">4.5. Python Timer Manager</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../05_plots/plots.html">5. Plots and Figures</a></li>
<li class="toctree-l1"><a class="reference internal" href="../06_extended_gui/extended_gui.html">6. Extending the user interface of <strong>itom</strong></a></li>
<li class="toctree-l1"><a class="reference internal" href="../07_plugins/plugins.html">7. Plugins</a></li>
<li class="toctree-l1"><a class="reference internal" href="../08_scriptLanguage/script-language.html">8. Python scripting language</a></li>
<li class="toctree-l1"><a class="reference internal" href="../09_reference/reference.html">9. itom Script Reference</a></li>
<li class="toctree-l1"><a class="reference internal" href="../10_miscellaneous/miscellaneous.html">10. Miscellaneous</a></li>
<li class="toctree-l1"><a class="reference internal" href="../11_test-scripts/test-scripts.html">11. Demo scripts</a></li>
<li class="toctree-l1"><a class="reference internal" href="../12_tutorials/tutorials.html">12. Python tutorials</a></li>
</ul>
<ul class="simple">
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
        <a href="../index.html">itom Documentation</a>
      </nav>


      
      <div class="wy-nav-content">
        <div class="rst-content">
          

 



<div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href="../index.html">Docs</a> &raquo;</li>
      
          <li><a href="gui.html">4. The itom User Interface</a> &raquo;</li>
      
    <li>4.2. Script-Editor</li>
      <li class="wy-breadcrumbs-aside">
        
          
            <a href="../_sources/04_itom_gui/editor.txt" rel="nofollow"> View page source</a>
          
        
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="script-editor">
<span id="gui-editor"></span><h1>4.2. Script-Editor<a class="headerlink" href="#script-editor" title="Permalink to this headline">¶</a></h1>
<p>The script editor is one of the main windows of <strong>itom</strong> and allows creating, modifying and executing one or several python scripts.</p>
<div class="figure align-center">
<a class="reference internal image-reference" href="../_images/scripteditor.png"><img alt="../_images/scripteditor.png" src="../_images/scripteditor.png" style="width: 839.0px; height: 494.0px;" /></a>
</div>
<p>Every script editor window can display one or multiple script files that are separated in different tabs at the bottom of the window.
Click a tab to show the corresponding script in the center of the window. You can close, save, reorder or (un-)dock every single tab
by its context menu.</p>
<div class="figure align-center">
<a class="reference internal image-reference" href="../_images/scripteditor-tab-context.png"><img alt="../_images/scripteditor-tab-context.png" src="../_images/scripteditor-tab-context.png" style="width: 376.0px; height: 286.0px;" /></a>
</div>
<p>The content of the current script file is displayed in the center of the script editor window. Use this text editor to write or modify a script
that can then be run or debugged. The menus of the script editor window provide many possibilities to edit and finally run or debug the script. The most important
functions are also accessible via the toolbar and / or the context menu of the script area.</p>
<div class="section" id="basic-functions">
<h2>4.2.1. Basic functions<a class="headerlink" href="#basic-functions" title="Permalink to this headline">¶</a></h2>
<p>The file menu gives the opportunity to open an existing script or create a new one, to save the current script or to print or close the script.</p>
<p>Basic and advanced functions to edit the current script are contained in the <strong>edit</strong> menu. These are:</p>
<ul class="simple">
<li>cut, copy and paste parts of the script.</li>
<li>comment (Ctrl+R) the selected lines using the #-character or uncomment lines (Ctrl+Shift+R).</li>
<li>indent or unindent the selected lines.</li>
<li>open a search bar at the bottom of the script to search for a string (quick search).</li>
<li>open a search and replace dialog.</li>
<li>open a goto-dialog (Ctrl+G) where you can enter a specific line number the cursor should be moved to.</li>
<li>open the <a class="reference internal" href="#gui-editor-iconbrowser"><span class="std std-ref">icon browser</span></a> to search internal icons of itom and loaded plugins that can also be used for specific user interfaces.</li>
<li>You can set bookmarks by clicking the left margin (left from the line numbers). A star icon indicates a bookmarked line. Modify the bookmarks or jump to the next by clicking the corresponding menu entries.</li>
</ul>
</div>
<div class="section" id="run-or-debug-the-script">
<span id="gui-editor-run-debug-script"></span><h2>4.2.2. Run or debug the script<a class="headerlink" href="#run-or-debug-the-script" title="Permalink to this headline">¶</a></h2>
<p>In order to run or debug the script, use the functions given in the <strong>script</strong> menu.</p>
<div class="figure align-center">
<a class="reference internal image-reference" href="../_images/editor_run_debug.png"><img alt="../_images/editor_run_debug.png" src="../_images/editor_run_debug.png" style="width: 192.0px; height: 191.0px;" /></a>
</div>
<p>These are:</p>
<ul class="simple">
<li><strong>Run Script</strong> (F5): Click this to run the current script. This is the default way to execute a script.</li>
<li><strong>Run Selection</strong>: If you mark a specific part of the script and choose <strong>run selection</strong>, this selection is copied into the command line and executed. Please notice, that the number of leading spaces of the first selected line is also removed from the following lines.</li>
<li><strong>Debug</strong> (F6): Click this to debug the current script such that you can jump from line to line or breakpoint and see the state of the script and all global or local variables. The line where the debugger is currently stopped is marked with a yellow arrow. Then, the debugger waits for your input how to proceed. The options are...</li>
<li><strong>Continue</strong> (F6): Continue the script execution until the next valid breakpoint or the end of the script.</li>
<li><strong>Step</strong> (F11): The script executes the following line or jumps into the first line of the function that should be executed in the currently marked line.</li>
<li><strong>Step Over</strong> (F10): Almost the same than <strong>step</strong> besides that the debugger always executes the script until the next line in the current function or the main script. Further function calls are entirely executed.</li>
<li><strong>Step Out</strong> (Shift+F11): Executes the script until the end of the current function and stops in the next line of the caller.</li>
<li><strong>Stop</strong> (Shift+F10 or Ctrl+C): Stops a currently running script (run or debug mode). Please notice, that the script can not always be stopped immediately. For instance, the stop flag is not checked when a sleep command from python&#8217;s time module is executed.</li>
</ul>
<p>The functions <strong>continue</strong>, <strong>step</strong>, <strong>step over</strong>, <strong>step out</strong> and <strong>stop</strong> are only active if a script is currently debugged or run (stop only). These functions are also accessible via the script menu of the <strong>itom</strong> <a class="reference internal" href="mainWindow.html#gui-mainwindow"><span class="std std-ref">main window</span></a>.</p>
<p>More information about breakpoints are given in the next section.</p>
</div>
<div class="section" id="breakpoints">
<span id="gui-editor-breakpoints"></span><h2>4.2.3. Breakpoints<a class="headerlink" href="#breakpoints" title="Permalink to this headline">¶</a></h2>
<p>Breakpoints are red or gray points in the right side of the margin of a script window. In every valid script line, there can be at most one breakpoint.
A breakpoint is added to a specific line by clicking the margin at the right side of the line numbers. You cannot add a breakpoint to a commented or empty line.
If you clear or comment a line that already contains a breakpoint, the script debugger will fail with a corresponding error message.</p>
<div class="figure align-center">
<a class="reference internal image-reference" href="../_images/editor-breakpoints.png"><img alt="../_images/editor-breakpoints.png" src="../_images/editor-breakpoints.png" style="width: 186.0px; height: 91.0px;" /></a>
</div>
<p>There are three different types of breakpoints:</p>
<ul class="simple">
<li>Red point: This is an enabled, standard breakpoint. Once the script is debugged, it will always stop at this breakpoint.</li>
<li>Gray point: Disabled breakpoint. This breakpoint is currently inactive. You can enable or disable a breakpoint by clicking it or via its context menu.</li>
<li>Red point with white cross: Special breakpoint. Right click on a breakpoint and choose <strong>edit breakpoint</strong> to set further settings to the breakpoints behaviour.</li>
</ul>
<div class="figure align-center">
<a class="reference internal image-reference" href="../_images/editor-edit-breakpoints.png"><img alt="../_images/editor-edit-breakpoints.png" src="../_images/editor-edit-breakpoints.png" style="width: 499.0px; height: 239.0px;" /></a>
</div>
<p>The <strong>edit breakpoint</strong> dialog allows configuring the following properties of a breakpoint:</p>
<ul class="simple">
<li>Condition: Indicate a python statement that is evaluated once the debugger comes to the corresponding line. It will only stop at this line of the condition returns true. You can use any global or active local variables inside of the condition.</li>
<li>Ignore Count: If this number is bigger than zero, the debugger ignores this breakpoint for the first n times, where n is the value of <strong>ignore count</strong>.</li>
<li>Temporary Breakpoint: The debugger only stops at this breakpoint once and ignores it after having stopped there for the first time.</li>
<li>Enabled: En/Disables the breakpoint.</li>
</ul>
<p>The breakpoints of this and other scripts are all listed in the <a class="reference internal" href="breakpoints.html#gui-breakpoints"><span class="std std-ref">breakpoint toolbox</span></a> of <strong>itom</strong>. If <strong>itom</strong> is closed, all current active and inactive breakpoints are saved and restored once <strong>itom</strong> is started again. Breakpoints are also active if the corresponding script is currently not visible in any script editor window.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">In order to stop the script execution in a debug-mode in any method that is for instance called by clicking a button in an user-defined interface or via a timer event, you need to set a breakpoint in the corresponding line in the script and toggle the button <img alt="vardebugpython" src="../_images/pythonDebug.png" /> <strong>Run Python in debug mode</strong> in the main window of <strong>itom</strong> (toolbar or menu <strong>script</strong>). The same holds for a method that you call from the command line. Toggle this button and set a breakpoint in the method in order to run this method in debug-mode and let the debugger stop in the line marked with the breakpoint.</p>
</div>
</div>
<div class="section" id="syntax-highlighting-and-auto-completion">
<h2>4.2.4. Syntax highlighting and auto completion<a class="headerlink" href="#syntax-highlighting-and-auto-completion" title="Permalink to this headline">¶</a></h2>
<p>A script highlighting mechanism is implemented to simplify the reading and programming of the script. You can change the styles of the syntax highlighting in the <a class="reference internal" href="propertyDialog.html#gui-prop-py-styles"><span class="std std-ref">property dialog</span></a> (tab <em>styles</em>) of <strong>itom</strong>.</p>
<p>Another big feature is the right handling and help for working with indentations using spaces or tabs. The python language is structured using indentation. Each indentation level always needs to consist of the same amount of spaces or tabs; additionally you must not switch between tabs and spaces for the indentation within your scripts. The script editor has a feature to automatically replace tabs by a certain amount of spaces (it is recommended to set this feature and use four spaces for one tab). Additionally, you can display spaces or tabs and be warned if you switch between both. All these features are configurable in the <a class="reference internal" href="propertyDialog.html#gui-prop-py-general"><span class="std std-ref">tab general</span></a> of the property dialog.</p>
<p>When you start typing a new command in the editor window or the command line, it is possible to display either an auto completion list or calltips. The auto completion list appears after having typed a certain amount of characters of a new word and displays similar commands or keywords. You can choose from this list using the tab-key. It is possible to choose the sources for this list:</p>
<ul class="simple">
<li>Use the recently typed words as sources</li>
<li>Use words contained in so called API files as sources. The API files can be set in the <a class="reference internal" href="propertyDialog.html#gui-prop-py-api"><span class="std std-ref">tab API</span></a> of the property dialog.</li>
<li>Use both sources</li>
</ul>
<p>The auto completion list settings are listed in the <a class="reference internal" href="propertyDialog.html#gui-prop-auto-completion"><span class="std std-ref">tab auto completion</span></a> of the property dialog.</p>
<p>Calltips always appear if you open a rounded bracket to give the arguments of a function call. Then the first line of the docstring of all functions that are listed in any loaded API file and have the same name than the written function are displayed. Configure the calltip behaviour in the <a class="reference internal" href="propertyDialog.html#gui-prop-calltips"><span class="std std-ref">tab calltips</span></a> of the property dialog.</p>
</div>
<div class="section" id="direction-class-and-method-navigator">
<span id="gui-editor-class-navigator"></span><h2>4.2.5. Direction class and method navigator<a class="headerlink" href="#direction-class-and-method-navigator" title="Permalink to this headline">¶</a></h2>
<p>Above every script, there are two combo boxes that are part of a class and method navigator. If these combo boxes are not available, you need to enable this navigator in the property dialog, <a class="reference internal" href="propertyDialog.html#gui-prop-py-general"><span class="std std-ref">tab general</span></a>. After a configurable number of seconds after the last change in the script, it is analyzed and the combo boxes are adapted with respect to the current structure of the script.</p>
<div class="figure align-center">
<a class="reference internal image-reference" href="../_images/editor-class-navigator.png"><img alt="../_images/editor-class-navigator.png" src="../_images/editor-class-navigator.png" style="width: 702.0px; height: 317.0px;" /></a>
</div>
<p>The left combobox displays all classes and the global namespace of the script. By clicking on any class name, the cursor jumps to the class and the name is highlighted. The right combobox shows the sub-items that belong
to the chosen class or namespace.</p>
<p>The navigator can distinguish between public and private methods, static methods (with the decorator <strong>&#64;staticmethod</strong>) and specially marked class methods (decorator <strong>&#64;classmethod</strong>). All globally defined methods are
categorized into the global namespace (<strong>Global Scope</strong>).</p>
</div>
<div class="section" id="automatic-syntax-check">
<span id="gui-editor-syntax-check"></span><h2>4.2.6. Automatic syntax check<a class="headerlink" href="#automatic-syntax-check" title="Permalink to this headline">¶</a></h2>
<p>If desired, the current script can be checked for syntax and other errors or hints. This is done using the python package <strong>frosted</strong> (<a class="reference external" href="https://pypi.python.org/pypi/frosted/">https://pypi.python.org/pypi/frosted/</a>).
You need to have this package installed in order to benefit from this service. If <strong>frosted</strong> is not installed, the syntax check is automatically disabled.</p>
<p>If <strong>frosted</strong> is installed, the syntax and style check can be dis- or enabled and configured via the <a class="reference internal" href="propertyDialog.html#gui-prop-py-styles"><span class="std std-ref">property dialog of itom</span></a>. Syntax bugs or other
hints, warnings or errors detected by <strong>frosted</strong> will be displayed via a bug symbol in the left margin of the script editor window:</p>
<div class="figure align-center">
<a class="reference internal image-reference" href="../_images/editor-syntax-check.png"><img alt="../_images/editor-syntax-check.png" src="../_images/editor-syntax-check.png" style="width: 339.0px; height: 110.0px;" /></a>
</div>
<p>The tooltip text of every bug icon displays the reason for the bug. Since the bug icon is displayed in the same margin column than the bookmarks, there is also a combined icon
for a bug and a bookmark in one line. Please note, that one line can also contain multiple syntax hints, they are displayed in multiple lines in the tooltip text.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p>You can automatically download and install <strong>frosted</strong> using the <a class="reference internal" href="pipManager.html#gui-pipmanager"><span class="std std-ref">python package manager</span></a> of <strong>itom</strong> accessible via the <em>Script</em> menu of the main window.
Click <em>install</em> in the manager and search the python package index for the package <strong>frosted</strong>. Try to call:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">frosted</span>
</pre></div>
</div>
<p class="last">to check if frosted is installed correctly.</p>
</div>
</div>
<div class="section" id="icon-browser">
<span id="gui-editor-iconbrowser"></span><h2>4.2.7. Icon-Browser<a class="headerlink" href="#icon-browser" title="Permalink to this headline">¶</a></h2>
<p>To help adding icons to user defined buttons, menus or user interfaces, the icon browser of the script editor window shows a list of icons that come with <strong>itom</strong> or loaded plugins.
The icon browser is opened via the menu <strong>edit &gt;&gt; icon browser...</strong> of any script editor window or the keyboard shortcut <strong>Ctrl + B</strong>.</p>
<div class="figure align-center">
<a class="reference internal image-reference" href="../_images/editorIconBrowser.png"><img alt="../_images/editorIconBrowser.png" src="../_images/editorIconBrowser.png" style="width: 490.0px; height: 442.0px;" /></a>
</div>
<p>These icons can directly be used inside of any script by their <em>virtual icon path</em>. If you choose a specific icon, you have the following options via the buttons on the right side:</p>
<ul class="simple">
<li><strong>Insert and close</strong>: The <em>virtual icon path</em> of the selected icon is inserted at the current cursor position in the script and the icon browser is closed.</li>
<li><strong>Copy to clipboard</strong>: The path is copied to the clipboard. The browser stays open.</li>
<li><strong>Cancel</strong>: Hides the dialog without further action.</li>
</ul>
</div>
</div>


           </div>
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="propertyDialog.html" class="btn btn-neutral float-right" title="4.3. Property Dialog" accesskey="n">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="callStack.html" class="btn btn-neutral" title="4.1.3.6. Call Stack" accesskey="p"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2011-2016, Institut fuer Technische Optik (ITO), University Stuttgart. Bug report: https://bitbucket.org/itom/itom/issues.
      Last updated on Oct 11, 2016.

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/snide/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  

    <script type="text/javascript">
        var DOCUMENTATION_OPTIONS = {
            URL_ROOT:'../',
            VERSION:'f520b48',
            COLLAPSE_INDEX:false,
            FILE_SUFFIX:'.html',
            HAS_SOURCE:  true
        };
    </script>
      <script type="text/javascript" src="../_static/jquery.js"></script>
      <script type="text/javascript" src="../_static/underscore.js"></script>
      <script type="text/javascript" src="../_static/doctools.js"></script>

  

  
  
    <script type="text/javascript" src="../_static/js/theme.js"></script>
  

  
  
  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.StickyNav.enable();
      });
  </script>
   

</body>
</html>