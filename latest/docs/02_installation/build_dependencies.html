
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>Build dependencies &mdash; itom Documentation</title>
    
    <link rel="stylesheet" href="../_static/nature.css" type="text/css" />
    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    <link rel="stylesheet" href="../_static/breathe.css" type="text/css" />
    <link rel="stylesheet" href="../_static/breathe.css" type="text/css" />
    <link rel="stylesheet" href="../_static/breathe.css" type="text/css" />
    <link rel="stylesheet" href="../_static/breathe.css" type="text/css" />
    <link rel="stylesheet" href="../_static/breathe.css" type="text/css" />
    <link rel="stylesheet" href="../_static/breathe.css" type="text/css" />
    <link rel="stylesheet" href="../_static/breathe.css" type="text/css" />
    <link rel="stylesheet" href="../_static/breathe.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../',
        VERSION:     '69868c9',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="../_static/jquery.js"></script>
    <script type="text/javascript" src="../_static/underscore.js"></script>
    <script type="text/javascript" src="../_static/doctools.js"></script>
    <link rel="top" title="itom Documentation" href="../index.html" />
    <link rel="up" title="Installation" href="install.html" />
    <link rel="next" title="Get sources from Git" href="git_clone.html" />
    <link rel="prev" title="Windows Setup Installation" href="install_windows_setup.html" /> 
  </head>
  <body>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="../py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="git_clone.html" title="Get sources from Git"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="install_windows_setup.html" title="Windows Setup Installation"
             accesskey="P">previous</a> |</li>
        <li><a href="../index.html">itom</a> &raquo;</li>
          <li><a href="../structure.html" >Structure of the manual</a> &raquo;</li>
          <li><a href="install.html" accesskey="U">Installation</a> &raquo;</li> 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body">
            
  <div class="section" id="build-dependencies">
<h1>Build dependencies<a class="headerlink" href="#build-dependencies" title="Permalink to this headline">¶</a></h1>
<p>This setup lists third-party software packages and libraries that are required if you want to build <strong>itom</strong> from sources. If you run
a setup-release of <strong>itom</strong> none of these dependencies (besides a python 3 installation) are required. Most of the following hints address
the build on a Windows operating system. However the required packages are mainly the same for Linux and most components can directly
be obtained by the specific package manager of your Linux distribution.</p>
<div class="section" id="software-packages">
<h2>Software packages<a class="headerlink" href="#software-packages" title="Permalink to this headline">¶</a></h2>
<p><strong>Required Software-Packages</strong></p>
<ul class="simple">
<li>IDE, Compiler (e.g. Visual Studio 2010 Professional, QtCreator...)</li>
<li>CMake (recommended 2.8.9 or higher)</li>
<li>Qt-framework (4.7 or higher, 4.8 recommended, no 5.x)</li>
<li>QScintilla2</li>
<li>OpenCV 2.3 or higher (2.4 recommended)</li>
<li>PointCloudLibrary 1.6 or higher</li>
<li>Python 3.2 or higher</li>
<li>Git (git-scm.com) + GUI (e.g. TortoiseGit or GitExtensions) for accessing the remote repository</li>
<li>Python-Package: NumPy</li>
</ul>
<p><strong>Optional Software-Packages</strong></p>
<ul class="simple">
<li>Qt-AddOn for Visual Studio (requires .NET 2.0 framework with SP 1.0)</li>
<li>Doxygen (for creating the source code documentation)</li>
<li>Python-Packages: SciPy, Distribute, Sphinx (user documentation generation), scikit-image, matplotlib...</li>
</ul>
</div>
<div class="section" id="detailed-information">
<h2>Detailed information<a class="headerlink" href="#detailed-information" title="Permalink to this headline">¶</a></h2>
<p><strong>Compiler, IDE</strong> (mandatory)</p>
<p>You can use any compiler and integrated developement environment (IDE) which is supported by <strong>CMake</strong> (<a class="reference external" href="http://www.cmake.org/cmake/help/v2.8.10/cmake.html#section_Generators">http://www.cmake.org/cmake/help/v2.8.10/cmake.html#section_Generators</a>).
On Windows systems, we develop with <strong>Visual Studio 2010 Professional</strong>, whereas we use <strong>QtCreator</strong> for the developement under Linux. QtCreator is no generator of CMake, however
QtCreator directly supports CMakeLists.txt-files. It is also possible to use the free express edition of Visual Studio.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">Please consider that you need to install the Service Pack 1 for Visual Studio 2010 Professional when compiling a 64bit version of <strong>itom</strong>.</p>
</div>
<p><strong>CMake</strong> (mandatory)</p>
<p>Download <strong>CMake</strong> from <a class="reference external" href="http://www.cmake.org/cmake/resources/software.html">http://www.cmake.org/cmake/resources/software.html</a> and install it. If possible use any version higher than 2.8.8. CMake reads the platform-independent
project files of <strong>itom</strong> (CMakeList.txt) and generates the corresponding project files for your compiler, IDE and platform.</p>
<p><strong>Qt-framework</strong> (mandatory)</p>
<p>Download the <strong>Qt-framework</strong> (version 4.7 or higher, branch 5 is not supported yet) from <a class="reference external" href="http://qt-project.org/downloads">http://qt-project.org/downloads</a>. If you find a setup version for your IDE and compiler,
you can directly install it. Otherwise, you need to configure and build <strong>Qt</strong> on your computer. This is also required if you want to compile <strong>itom</strong> with Visual Studio for 64bit (see box below).</p>
<p>Create the following environment variables (Windows only - you need to log-off from your computer in order to activate changes to environment variables):</p>
<ul class="simple">
<li>create an entry <strong>QTDIR</strong> and set it to the <em>Qt</em>-base directory (e.g. <strong>C:\Qt\4.8.0</strong>)</li>
<li>create an entry <strong>QMAKESPEC</strong> and set it to the string <strong>win32-msvc2010</strong> (even if you are compiling for 64bit) or similar (see <a class="reference external" href="http://qt-project.org/doc/qt-4.8/qmake-environment-reference.html#qmakespec">http://qt-project.org/doc/qt-4.8/qmake-environment-reference.html#qmakespec</a>)</li>
<li>add the following text to the Path variable: <strong>;%QTDIR%\bin</strong> (please only <strong>add</strong> this string, <strong>do not replace</strong> the existing path-entry)</li>
</ul>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p><strong>Compiling Qt for 64bit, Visual Studio</strong></p>
<p>This side-note explains how to configure and build Qt for a 64bit build using Visual Studio 2010. The general approach for other configurations is similar.</p>
<ul>
<li><p class="first">Delete files beginning with <em>sync</em> from the <strong>%QTDIR%\bin</strong> directory (in order to avoid the requirement of Perl during compilation, which is not necessary in our case).</p>
</li>
<li><p class="first">64bit: Open <strong>Visual Studio Commandline x64 Win64 (2010)</strong> in your Start-Menu under <em>Microsoft Visual Studio &gt;&gt; Visual Studio Tools</em>.</p>
</li>
<li><p class="first">(for 32bit always use the <strong>Visual Studio Commandline (2010)</strong>)</p>
</li>
<li><p class="first">change to Qt-Dir by typing:</p>
<div class="highlight-python"><pre>cd %QTDIR%</pre>
</div>
<p>into the command line.</p>
</li>
<li><p class="first">configure Qt-compilation by executing the command:</p>
<div class="highlight-python"><pre>configure -platform win32-msvc2010 -debug-and-release -opensource -no-qt3support -qt-sql-odbc -qt-sql-sqlite -qt-zlib -qt-libpng -webkit</pre>
</div>
</li>
<li><p class="first">choose the option <strong>open source version</strong> and accept the license information during the configuration process. The configuration may take between 5 and 20 minutes.</p>
</li>
<li><p class="first">now start the time-intense compilation process (1 to 5 hours) by executing the command:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="n">nmake</span>
</pre></div>
</div>
</li>
</ul>
<p>If you want to restart the entire compilation you need to completely remove any possible older configuration. Then open the appropriate Visual Studio command line and
execute:</p>
<div class="last highlight-python"><pre>nmake distclean</pre>
</div>
</div>
<p><strong>Qt-Visual Studio-AddIn</strong> (optional, only for Visual Studio, not necessary for QtCreator)</p>
<p>If you want to have a better integration of <strong>Qt</strong> into <strong>Visual Studio</strong> (e.g. better debugging information for Qt-types like lists or vectors), you should download the
<strong>Qt-Visual Studio-AddIn</strong> (1.1.11 for Qt 4.8.x, 1.1.10 for Qt 4.7.x) from <a class="reference external" href="http://qt-project.org/downloads#qt-other">http://qt-project.org/downloads#qt-other</a> and install it. Since we are using <strong>CMake</strong> it is not
mandatory to use this <strong>AddIn</strong> like it is usually the case when developing any Qt-project with Visual Studio. Therefore it is also possible to use the Express edition of
Visual Studio, where you cannot install this add-in. The <strong>Qt Visual Studio AddIn</strong> requires that you have the <strong>.NET framework 2.0 SP 1</strong> installed on your PC.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p>Sometimes, there are problems when starting Visual Studio with an installed Qt-AddIn. In case that any component cannot be registered, as warned by a message-box when
starting Visual Studio, you should check the bug and its fix described at <a class="reference external" href="https://bugreports.qt-project.org/browse/QTVSADDINBUG-77">https://bugreports.qt-project.org/browse/QTVSADDINBUG-77</a>. In most cases it was sufficient to register
the library <strong>stdole.dll</strong> using the tool <strong>gacutil.exe</strong> from the <strong>Microsoft SDKs/Windows/v7.0A/bin</strong> subfolder of your standard program folder. Start a windows commandline and move to the directory on your computer
where the executable program <em>gacutil.exe</em> is located, then type:</p>
<div class="last highlight-python"><pre>gacutil.exe -i &quot;C:\Program Files (x86)\Common Files\microsoft shared\MSEnv\PublicAssemblies\stdole.dll&quot;</pre>
</div>
</div>
<p><strong>QScintilla2</strong> (mandatory)</p>
<p>Download <strong>QScintilla</strong> (2.6 or higher) from <a class="reference external" href="http://www.riverbankcomputing.com/software/qscintilla/download">http://www.riverbankcomputing.com/software/qscintilla/download</a> and build the debug and release version. The original
QtCreator project file of QScintilla finally copies the entire output to the <strong>bin</strong> directory of <strong>Qt</strong> so that no other settings need to be adapted. However, the original
project settings are not ready for a multi-configuration build in <strong>Visual Studio</strong>. As a result, you need to adapt the Qt-project file. To do this follow these steps:</p>
<blockquote>
<div><ul>
<li><p class="first">Copy the downloaded files to a directory of your choise (preferably <strong>NOT</strong> the windows program directory, we are assuming in the following that you placed them in <strong>C:\QScintilla2</strong>)</p>
</li>
<li><p class="first">Open the Visual-Studio 2010 32-bit commandline</p>
</li>
<li><dl class="first docutils">
<dt>Open the file C:\QScintilla2\Qt4\QScintilla.pro in a text editor and replace the line <strong>CONFIG</strong> with::</dt>
<dd><p class="first last">CONFIG += qt warn_off debug_and_release build_all dll thread</p>
</dd>
</dl>
</li>
</ul>
<blockquote>
<div><dl class="docutils">
<dt>and add the lines::</dt>
<dd>CONFIG(debug, debug|release){ TARGET = $$join(TARGET,,,d) }</dd>
</dl>
<p>(see also: <a class="reference external" href="http://www.mantidproject.org/Debugging_MantidPlot">http://www.mantidproject.org/Debugging_MantidPlot</a>)</p>
</div></blockquote>
<ul>
<li><p class="first">If you had a previous installation of QScintilla, delete the directory <strong>%QTDIR%\include\Qsci</strong> as well as the files called <strong>qscintilla2.dll</strong> and <strong>qscintilla2d.dll</strong> in the directory <strong>%QTDIR%\bin</strong></p>
</li>
<li><dl class="first docutils">
<dt>Execute the following commands from the commandline console</dt>
<dd><ul class="first last simple">
<li>cd C:\QScintilla2\Qt4</li>
<li>nmake distclean</li>
<li>QTDIR%\bin\qmake qscintilla.pro spec=win32-msvc2010</li>
<li>nmake</li>
<li>nmake install</li>
</ul>
</dd>
</dl>
</li>
<li><p class="first">copy the library files qscintilla2.dll and qscintilla2d.dll from %QTDIR%\lib to %QTDIR%\bin</p>
</li>
</ul>
</div></blockquote>
<p>An easier approach is to get the sources from <strong>\Obelix\software\m\ITOM\Installationen\4. QScintilla2</strong> (ITO only) and copy the folder <strong>QScintilla2.6</strong>
to a directory on your hard drive (e.g. <strong>C:QScintilla2.6</strong>, avoid Windows program directory due to restrictions in write access).
Open your Visual Studio Command Line and change to the directory of <strong>QScintilla</strong> on your hard drive.
Just execute the batch file <strong>qscintilla_install.bat</strong> and answer the given questions.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">If the batch file breaks with some strang error messages, please make sure, that the location where <strong>QScintilla</strong> is installed is writable by the batch file (e.g. the
Windows program directory under Windows Vista or higher). Therefore it is recommended to locate <strong>QScintilla</strong> in another directory than the program-directory.</p>
</div>
<p id="install-depend-opencv"><strong>OpenCV</strong> (mandatory, 2.3 or higher)</p>
<p>You have different possibilities in order to get the binaries from OpenCV:</p>
<ol class="arabic simple">
<li>Download the OpenCV-Superpack (version 2.3) from <a class="reference external" href="http://sourceforge.net/projects/opencvlibrary/files/opencv-win/2.3/">http://sourceforge.net/projects/opencvlibrary/files/opencv-win/2.3/</a>. This superpack is a self-extracting archive. Unpack it.
The superpack contains pre-compiled binaries for VS2008, VS2010, MinGW in 32bit and 64bit. (Later map the CMake variable <strong>OpenCV_DIR</strong> to the <strong>build</strong> subdirectory of the
extracted archive).</li>
<li>Download the current setup (version 2.4 or higher) from <a class="reference external" href="http://opencv.org/">http://opencv.org/</a> and install it. This installation also contains pre-compiled binaries for VS2008, VS2010 and MinGW.
In this case map <strong>OpenCV_DIR</strong> to the <strong>opencv/build</strong> subdirectory.</li>
<li>Get the sources from OpenCV and use CMake to generate project files and build the binaries by yourself. Then map <strong>OpenCV_DIR</strong> to the build-directory, indicated in CMake.</li>
</ol>
<p>Finally, add the appropriate bin-folder of OpenCV to the windows environment variable:
- VS2010, 32bit: Add to the path-variable: <strong>;C:OpenCV2.3buildx86vc10bin</strong> (or similar)
- VS2010, 64bit: Add to the path-variable: <strong>;C:OpenCV2.3buildx64vc10bin</strong> (or similar)</p>
<p>Changes to the environment variable only become active after a re-login to windows.</p>
<p><strong>PointCloudLibrary</strong> (mandatory, 1.6 or higher)</p>
<p>The PointCloud-Library is a sister-project of OpenCV and is able to work with large point clouds.</p>
<p>The binaries can be loaded from the website <a class="reference external" href="http://www.pointclouds.org/downloads/windows.html">http://www.pointclouds.org/downloads/windows.html</a>. Depending on 32bit or 64bit execute the <strong>AllInOne-Installer for Visual Studio 2010</strong>.
The installation directory may for example be <strong>C:PCL1.6.0</strong>. Information: Please install the PCL base software including all 3rd-party packages, besides OpenNI.
You don&#8217;t have to install OpenNI, since this is only the binaries for the communication with commercial range sensors, like Kinect.</p>
<p>If you want to debug the point cloud library (not necessary, optional) unpack the appropriate zip-archive with the pdb-files into the bin-folder of the point cloud library.
This is the folder where the dll&#8217;s are located as well.</p>
<p>Add the path to the bin-folder of PointCloud-library to the windows environment variable:</p>
<ul class="simple">
<li>Add to the path-variable: <strong>;C:PCL1.6.0bin</strong> (or similar)</li>
</ul>
<p><strong>Python</strong> (mandatory, 3.2)</p>
<p>Download the installer from <a class="reference external" href="http://www.python.org/download/">http://www.python.org/download/</a> and install python in version 3.2. You can simultaneously run different versions of python.</p>
<p><strong>NumPy</strong> (mandatory)</p>
<p>Get a version of NumPy that fits to python 3.2 and install it. On Windows, binaries for many python packages can be found under <a class="reference external" href="http://www.lfd.uci.edu/~gohlke/pythonlibs/">http://www.lfd.uci.edu/~gohlke/pythonlibs/</a>.</p>
<p><strong>Sphinx</strong> (optional)</p>
<p>The Python package <strong>Sphinx</strong> is used for generating the user documentation of <strong>itom</strong>. You can also download sphinx from <a class="reference external" href="http://www.lfd.uci.edu/~gohlke/pythonlibs/">http://www.lfd.uci.edu/~gohlke/pythonlibs/</a>. However,
sphinx is dependent on other packages, such that it is worth to get the package <strong>distribute</strong> (see below) first. Then open a command-line (cmd.exe) and move to the directory <strong>[YourPythonPath]/Scripts</strong>.
Type the following command in order to download <strong>sphinx</strong> including dependecies from the internet and install it:</p>
<div class="highlight-python"><pre>easy_install -U sphinx</pre>
</div>
<p><strong>Distribute</strong> (optional)</p>
<p>Distribute is a python package, that can be used for easily downloading and installing other python packages, like <em>Sphinx</em>. Download the latest version (file ending with tar.gz) of
<strong>Distribute</strong> from <a class="reference external" href="https://pypi.python.org/pypi/distribute">https://pypi.python.org/pypi/distribute</a> and unpack it to any temporary directory on your hard drive. Open a command line and switch to the directory of <strong>Distribute</strong>.</p>
<p>Assuming that Python is located under <strong>C:Python32</strong>, execute the following command:</p>
<div class="highlight-python"><pre>C:\python32\python.exe setup.py install</pre>
</div>
<p>The <strong>Distribute</strong> is installed and you can use the <strong>easy_install</strong> tool (see <strong>Sphinx</strong> installation above).</p>
<p><strong>Other python packages</strong> (optional)</p>
<p>You can always check the website <a class="reference external" href="http://www.lfd.uci.edu/~gohlke/pythonlibs/">http://www.lfd.uci.edu/~gohlke/pythonlibs/</a> for appropriate binaries of your desired python package.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">If you use any python packages depending on NumPy (e.g. SciPy, scikit-image...) try to have corresponding versions. If your SciPy installation is younger than NumPy,
some methods can not be executed and a python error message is raised, saying that you should update your NumPy installation.</p>
</div>
</div>
</div>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar">
        <div class="sphinxsidebarwrapper">
  <h3><a href="../index.html">Table Of Contents</a></h3>
  <ul>
<li><a class="reference internal" href="#">Build dependencies</a><ul>
<li><a class="reference internal" href="#software-packages">Software packages</a></li>
<li><a class="reference internal" href="#detailed-information">Detailed information</a></li>
</ul>
</li>
</ul>

  <h4>Previous topic</h4>
  <p class="topless"><a href="install_windows_setup.html"
                        title="previous chapter">Windows Setup Installation</a></p>
  <h4>Next topic</h4>
  <p class="topless"><a href="git_clone.html"
                        title="next chapter">Get sources from Git</a></p>
  <h3>This Page</h3>
  <ul class="this-page-menu">
    <li><a href="../_sources/02_installation/build_dependencies.txt"
           rel="nofollow">Show Source</a></li>
  </ul>
<div id="searchbox" style="display: none">
  <h3>Quick search</h3>
    <form class="search" action="../search.html" method="get">
      <input type="text" name="q" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    <p class="searchtip" style="font-size: 90%">
    Enter search terms or a module, class or function name.
    </p>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="../py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="git_clone.html" title="Get sources from Git"
             >next</a> |</li>
        <li class="right" >
          <a href="install_windows_setup.html" title="Windows Setup Installation"
             >previous</a> |</li>
        <li><a href="../index.html">itom</a> &raquo;</li>
          <li><a href="../structure.html" >Structure of the manual</a> &raquo;</li>
          <li><a href="install.html" >Installation</a> &raquo;</li> 
      </ul>
    </div>
    <div class="footer">
        &copy; Copyright 2011-2013, Institut fuer Technische Optik (ITO), University Stuttgart. Bug report: https://bitbucket.org/itom/itom/issues.
      Last updated on Sep 02, 2013.
      Created using <a href="http://sphinx.pocoo.org/">Sphinx</a> 1.1.3.
    </div>
  </body>
</html>