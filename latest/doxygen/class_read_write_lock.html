<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<title>itom: ReadWriteLock Class Reference</title>

<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { searchBox.OnSelectItem(0); });
</script>

</head>
<body>
<div id="top"><!-- do not remove this div! -->


<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  
  <td id="projectlogo"><img alt="Logo" src="q_itoM48.png"/></td>
  
  
  <td style="padding-left: 0.5em;">
   <div id="projectname">itom
   &#160;<span id="projectnumber">1.0.13</span>
   </div>
   
  </td>
  
  
  
 </tr>
 </tbody>
</table>
</div>

<!-- Generated by Doxygen 1.7.5.1 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li class="current"><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="annotated.html"><span>Class&#160;List</span></a></li>
      <li><a href="classes.html"><span>Class&#160;Index</span></a></li>
      <li><a href="hierarchy.html"><span>Class&#160;Hierarchy</span></a></li>
      <li><a href="functions.html"><span>Class&#160;Members</span></a></li>
    </ul>
  </div>
</div>
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
  initNavTree('class_read_write_lock.html','');
</script>
<div id="doc-content">
<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pri-methods">Private Member Functions</a> &#124;
<a href="#pri-attribs">Private Attributes</a>  </div>
  <div class="headertitle">
<div class="title">ReadWriteLock Class Reference</div>  </div>
</div>
<div class="contents">
<!-- doxytag: class="ReadWriteLock" -->
<p>objects of this class organize a read-write-lock mechanism. This class is mainly used by dataObject. If this object is locked for writing (lockWrite), it can not be used for reading nor writing until the writer released the protection with (unlock). On the other hand, the object can multiply be locked for reading if no write-operation is executed at the same time.  
 <a href="class_read_write_lock.html#details">More...</a></p>

<p><code>#include &lt;<a class="el" href="read_write_lock_8h_source.html">readWriteLock.h</a>&gt;</code></p>

<p><a href="class_read_write_lock-members.html">List of all members.</a></p>
<table class="memberdecls">
<tr><td colspan="2"><h2><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_read_write_lock.html#a7fe21bd9723165f4a1546df879d5dd92">ReadWriteLock</a> (int lockStatus=0)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">constructor  <a href="#a7fe21bd9723165f4a1546df879d5dd92"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a09a4e382675ac3d576a5f93393a7a6b0"></a><!-- doxytag: member="ReadWriteLock::~ReadWriteLock" ref="a09a4e382675ac3d576a5f93393a7a6b0" args="()" -->
&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_read_write_lock.html#a09a4e382675ac3d576a5f93393a7a6b0">~ReadWriteLock</a> ()</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">deconstructor <br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_read_write_lock.html#ad51f912001f6dd714ebc4c844f77dc29">lockRead</a> (int increment=1)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">locks for reading  <a href="#ad51f912001f6dd714ebc4c844f77dc29"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_read_write_lock.html#a657788e739e484feacf77663d498de1e">lockWrite</a> ()</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">locks for writing  <a href="#a657788e739e484feacf77663d498de1e"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_read_write_lock.html#a469b46db8908ce0a97c6f341db543fbc">unlock</a> ()</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">unlocks a read or write protection  <a href="#a469b46db8908ce0a97c6f341db543fbc"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_read_write_lock.html#a7792eebc7b8d1823dafe9f29057e2728">_unlock</a> (int value)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">unlocks a read or write protection depending on the given integer value  <a href="#a7792eebc7b8d1823dafe9f29057e2728"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_read_write_lock.html#ad1b12242373b0bbeb544871b9f117f0d">getLockStatus</a> () const </td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">returns the protection state  <a href="#ad1b12242373b0bbeb544871b9f117f0d"></a><br/></td></tr>
<tr><td colspan="2"><h2><a name="pri-methods"></a>
Private Member Functions</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a15c073fb635b6e76977475ebcaa9717b"></a><!-- doxytag: member="ReadWriteLock::ReadWriteLock" ref="a15c073fb635b6e76977475ebcaa9717b" args="(const ReadWriteLock &amp;)" -->
&#160;</td><td class="memItemRight" valign="bottom"><b>ReadWriteLock</b> (const <a class="el" href="class_read_write_lock.html">ReadWriteLock</a> &amp;)</td></tr>
<tr><td colspan="2"><h2><a name="pri-attribs"></a>
Private Attributes</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a8302d603ca5cd12ade64302cb50cfd9e"></a><!-- doxytag: member="ReadWriteLock::nrOfReaders" ref="a8302d603ca5cd12ade64302cb50cfd9e" args="" -->
int&#160;</td><td class="memItemRight" valign="bottom"><b>nrOfReaders</b></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="aac3c7758978234b4af69f6d80beede7b"></a><!-- doxytag: member="ReadWriteLock::status" ref="aac3c7758978234b4af69f6d80beede7b" args="" -->
int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_read_write_lock.html#aac3c7758978234b4af69f6d80beede7b">status</a></td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">nrOfReaders (&gt;= 0) <br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a612bd0d7d253377c4ae4a2b29d42d6de"></a><!-- doxytag: member="ReadWriteLock::writeGelocked" ref="a612bd0d7d253377c4ae4a2b29d42d6de" args="" -->
bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_read_write_lock.html#a612bd0d7d253377c4ae4a2b29d42d6de">writeGelocked</a></td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">state (-1 if object is in write mode, 0 if object is idle, else number of readers) <br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ad615f79d5daabf1c82e740cb53ab4117"></a><!-- doxytag: member="ReadWriteLock::mAtomicOp" ref="ad615f79d5daabf1c82e740cb53ab4117" args="" -->
pthread_mutex_t&#160;</td><td class="memItemRight" valign="bottom"><b>mAtomicOp</b></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ab7bdd7327b714bea11018f15b420d6d2"></a><!-- doxytag: member="ReadWriteLock::mReadLock" ref="ab7bdd7327b714bea11018f15b420d6d2" args="" -->
pthread_mutex_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_read_write_lock.html#ab7bdd7327b714bea11018f15b420d6d2">mReadLock</a></td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">critical section for realizing atomic operation blocks <br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ad92ef2c4bf6d6a20730e9a31cde3087e"></a><!-- doxytag: member="ReadWriteLock::mWriteLock" ref="ad92ef2c4bf6d6a20730e9a31cde3087e" args="" -->
pthread_mutex_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_read_write_lock.html#ad92ef2c4bf6d6a20730e9a31cde3087e">mWriteLock</a></td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">critical section for realizing the read lock <br/></td></tr>
</table>
<hr/><a name="details" id="details"></a><h2>Detailed Description</h2>
<div class="textblock"><p>objects of this class organize a read-write-lock mechanism. This class is mainly used by dataObject. If this object is locked for writing (lockWrite), it can not be used for reading nor writing until the writer released the protection with (unlock). On the other hand, the object can multiply be locked for reading if no write-operation is executed at the same time. </p>
</div><hr/><h2>Constructor &amp; Destructor Documentation</h2>
<a class="anchor" id="a7fe21bd9723165f4a1546df879d5dd92"></a><!-- doxytag: member="ReadWriteLock::ReadWriteLock" ref="a7fe21bd9723165f4a1546df879d5dd92" args="(int lockStatus=0)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">ReadWriteLock::ReadWriteLock </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>lockStatus</em> = <code>0</code></td><td>)</td>
          <td><code> [inline]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>constructor </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">int</td><td>lockStatus = 0, should normally be used with the default parameter, else: lockStatus: -1 writeLock, 0 no lock, &gt;0 read lock with given number of readers </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<hr/><h2>Member Function Documentation</h2>
<a class="anchor" id="a7792eebc7b8d1823dafe9f29057e2728"></a><!-- doxytag: member="ReadWriteLock::_unlock" ref="a7792eebc7b8d1823dafe9f29057e2728" args="(int value)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void ReadWriteLock::_unlock </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>value</em></td><td>)</td>
          <td><code> [inline]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>unlocks a read or write protection depending on the given integer value </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">int</td><td>value (-1 : unlocks write protection, &gt;0 unlocks the given number of reading protections) </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="ad1b12242373b0bbeb544871b9f117f0d"></a><!-- doxytag: member="ReadWriteLock::getLockStatus" ref="ad1b12242373b0bbeb544871b9f117f0d" args="() const " -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int ReadWriteLock::getLockStatus </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const<code> [inline]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>returns the protection state </p>
<dl class="return"><dt><b>Returns:</b></dt><dd>-1 if object is in write mode, 0 if object is idle, else number of readers </dd></dl>

</div>
</div>
<a class="anchor" id="ad51f912001f6dd714ebc4c844f77dc29"></a><!-- doxytag: member="ReadWriteLock::lockRead" ref="ad51f912001f6dd714ebc4c844f77dc29" args="(int increment=1)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void ReadWriteLock::lockRead </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>increment</em> = <code>1</code></td><td>)</td>
          <td><code> [inline]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>locks for reading </p>
<p>locks this object for reading. This method waits until the object is not protected by any write operation and then locks it for reading. If other participants are already reading this object, the number of readers variable is just incremented</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">int</td><td>increment, number of new readers </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="a657788e739e484feacf77663d498de1e"></a><!-- doxytag: member="ReadWriteLock::lockWrite" ref="a657788e739e484feacf77663d498de1e" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void ReadWriteLock::lockWrite </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td><code> [inline]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>locks for writing </p>
<p>locks this object for writing. This method waits until this object is in idle mode and then locks it for one single writing operation. </p>

</div>
</div>
<a class="anchor" id="a469b46db8908ce0a97c6f341db543fbc"></a><!-- doxytag: member="ReadWriteLock::unlock" ref="a469b46db8908ce0a97c6f341db543fbc" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void ReadWriteLock::unlock </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td><code> [inline]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>unlocks a read or write protection </p>
<p>If this object is in write-mode, this write-protection is unlocked. Else the number of readers is decremented. The reading-protection is finally unlocked, if no other reader is reading the object. </p>

</div>
</div>
<hr/>The documentation for this class was generated from the following file:<ul>
<li>D:/itom-git/sources/itom/DataObject/<a class="el" href="read_write_lock_8h_source.html">readWriteLock.h</a></li>
</ul>
</div>
</div>
  <div id="nav-path" class="navpath">
    <ul>
      <li class="navelem"><a class="el" href="class_read_write_lock.html">ReadWriteLock</a>      </li>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Classes</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Namespaces</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&#160;</span>Typedefs</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(6)"><span class="SelectionMark">&#160;</span>Enumerations</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(7)"><span class="SelectionMark">&#160;</span>Enumerator</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(8)"><span class="SelectionMark">&#160;</span>Friends</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>


    <li class="footer">Generated on Thu Aug 22 2013 23:45:26 for itom by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.7.5.1 </li>
   </ul>
 </div>


</body>
</html>
