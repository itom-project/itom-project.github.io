

<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>7.5. Getting started with A/D converters &mdash; itom Documentation</title>
  

  
  <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />

  
  
  
  

  
  <!--[if lt IE 9]>
    <script src="../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="../" src="../_static/documentation_options.js"></script>
        <script src="../_static/jquery.js"></script>
        <script src="../_static/underscore.js"></script>
        <script src="../_static/doctools.js"></script>
        <script src="../_static/language_data.js"></script>
    
    <script type="text/javascript" src="../_static/js/theme.js"></script>

    
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="7.6. Getting started with actuators" href="getstart-actuator.html" />
    <link rel="prev" title="7.4. Getting started with grabbers" href="getstart-grabber.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="../index.html" class="icon icon-home" alt="Documentation Home"> itom Documentation
          

          
          </a>

          
            
            
              <div class="version">
                4.0.0
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        
        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <p class="caption"><span class="caption-text">Table of Contents</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../00_releaseNotes/whats-new.html">Changelog</a></li>
<li class="toctree-l1"><a class="reference internal" href="../01_introduction/introduction.html">1. Introduction</a></li>
<li class="toctree-l1"><a class="reference internal" href="../02_installation/install.html">2. Installation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../03_gettingStarted/getting-started.html">3. Getting Started</a></li>
<li class="toctree-l1"><a class="reference internal" href="../04_itom_gui/gui.html">4. The itom User Interface</a></li>
<li class="toctree-l1"><a class="reference internal" href="../05_plots/plots.html">5. Plots and Figures</a></li>
<li class="toctree-l1"><a class="reference internal" href="../06_extended_gui/extended_gui.html">6. Extending the user interface of <strong>itom</strong></a></li>
<li class="toctree-l1 current"><a class="reference internal" href="plugins.html">7. Plugins</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="basic_concept.html">7.1. Basic concept</a></li>
<li class="toctree-l2"><a class="reference internal" href="loading_plugins.html">7.2. Loading plugins</a></li>
<li class="toctree-l2"><a class="reference internal" href="getstart-hardware.html">7.3. How to use hardware plugins</a></li>
<li class="toctree-l2"><a class="reference internal" href="getstart-grabber.html">7.4. Getting started with grabbers</a></li>
<li class="toctree-l2 current"><a class="current reference internal" href="#">7.5. Getting started with A/D converters</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#introduction">7.5.1. Introduction</a></li>
<li class="toctree-l3"><a class="reference internal" href="#functions">7.5.2. Functions</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#start-stop-device">7.5.2.1. Start/Stop device</a></li>
<li class="toctree-l4"><a class="reference internal" href="#detecting-analog-signals">7.5.2.2. Detecting analog signals</a></li>
<li class="toctree-l4"><a class="reference internal" href="#setting-analog-output-values">7.5.2.3. Setting analog output values</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#parameters">7.5.3. Parameters</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="getstart-actuator.html">7.6. Getting started with actuators</a></li>
<li class="toctree-l2"><a class="reference internal" href="getstart-filter.html">7.7. Getting started with algorithm plugins (denoted as filters)</a></li>
<li class="toctree-l2"><a class="reference internal" href="development/plugin-development.html">7.8. Development under C++</a></li>
<li class="toctree-l2"><a class="reference internal" href="development/openCVMat.html">7.9. OpenCV matrices <strong>cv::Mat</strong> and <strong>cv::Mat_</strong></a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../08_scriptLanguage/script-language.html">8. Python scripting language</a></li>
<li class="toctree-l1"><a class="reference internal" href="../09_reference/reference.html">9. itom Script Reference</a></li>
<li class="toctree-l1"><a class="reference internal" href="../10_miscellaneous/miscellaneous.html">10. Miscellaneous</a></li>
<li class="toctree-l1"><a class="reference internal" href="../11_test-scripts/test-scripts.html">11. Demo scripts</a></li>
<li class="toctree-l1"><a class="reference internal" href="../12_tutorials/tutorials.html">12. Python tutorials</a></li>
<li class="toctree-l1"><a class="reference internal" href="../13_contributing/contributing.html">13. Contributing</a></li>
</ul>

            
          
        </div>
        
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">itom Documentation</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../index.html" class="icon icon-home"></a> &raquo;</li>
        
          <li><a href="plugins.html"><span class="section-number">7. </span>Plugins</a> &raquo;</li>
        
      <li><span class="section-number">7.5. </span>Getting started with A/D converters</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="../_sources/07_plugins/getstart-adda.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="getting-started-with-a-d-converters">
<span id="getstartadda"></span><h1><span class="section-number">7.5. </span>Getting started with A/D converters<a class="headerlink" href="#getting-started-with-a-d-converters" title="Permalink to this headline">¶</a></h1>
<div class="section" id="introduction">
<h2><span class="section-number">7.5.1. </span>Introduction<a class="headerlink" href="#introduction" title="Permalink to this headline">¶</a></h2>
<p>This tutorial gives a short introduction to the use of A/D converters, which are adressed by the <a class="reference internal" href="../09_reference/dataIO.html#itom.dataIO" title="itom.dataIO"><code class="xref py py-class docutils literal notranslate"><span class="pre">dataIO</span></code></a> class. Similar tutorials are available for <a class="reference internal" href="getstart-actuator.html#getstartactuator"><span class="std std-ref">actuators</span></a> and <a class="reference internal" href="getstart-grabber.html#getstartgrabber"><span class="std std-ref">grabbers</span></a>.</p>
<p>Initialisation and common properties of <a class="reference internal" href="../09_reference/dataIO.html#itom.dataIO" title="itom.dataIO"><code class="xref py py-class docutils literal notranslate"><span class="pre">dataIO</span></code></a> and <a class="reference internal" href="../09_reference/actuator.html#itom.actuator" title="itom.actuator"><code class="xref py py-class docutils literal notranslate"><span class="pre">actuator</span></code></a> are described <a class="reference internal" href="getstart-hardware.html#inithardware"><span class="std std-ref">here</span></a>.</p>
</div>
<div class="section" id="functions">
<h2><span class="section-number">7.5.2. </span>Functions<a class="headerlink" href="#functions" title="Permalink to this headline">¶</a></h2>
<p>For this tutorial, we will focus on the standard application of A/D converters: detecting or applying analog signals</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>As one of the major advatages of the plugin concept, all A/D converters shall behave in the same manner when given the same command. There may however be some special properties of some devices, wich cause slightly different behavior in very specialised cases. For further information read the plugin documentation of your device.</p>
</div>
<div class="section" id="start-stop-device">
<h3><span class="section-number">7.5.2.1. </span>Start/Stop device<a class="headerlink" href="#start-stop-device" title="Permalink to this headline">¶</a></h3>
<p>Before using a A/D converter, we have to start it. Then, single or continuous data acquisition may follow. After usage, the device has to be stopped. This is done with the functions <a class="reference internal" href="../09_reference/dataIO.html#itom.dataIO.startDevice" title="itom.dataIO.startDevice"><code class="xref py py-meth docutils literal notranslate"><span class="pre">startDevice()</span></code></a> and <a class="reference internal" href="../09_reference/dataIO.html#itom.dataIO.stopDevice" title="itom.dataIO.stopDevice"><code class="xref py py-meth docutils literal notranslate"><span class="pre">stopDevice()</span></code></a>:
Like in the case of grabbers, <strong>startDevice</strong> or <strong>stopDevice</strong> can be called multiple times in a sequence. Only the first call of <strong>startDevice</strong> will set the device to a state that is ready to acquire data and the last
call of <strong>stopDevice</strong> will reset this state. This is implemented by an internal counter.</p>
<div class="highlight-python notranslate"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="n">myadda</span> <span class="o">=</span> <span class="n">dataIO</span><span class="p">(</span><span class="s2">&quot;[Your plugin name]&quot;</span><span class="p">)</span> <span class="c1">#  e.g. &quot;MeasurementComputing&quot;</span>
<span class="n">myadda</span><span class="o">.</span><span class="n">startDevice</span><span class="p">()</span>
<span class="n">myadda</span><span class="o">.</span><span class="n">stopDevice</span><span class="p">()</span>
</pre></div>
</td></tr></table></div>
</div>
<div class="section" id="detecting-analog-signals">
<h3><span class="section-number">7.5.2.2. </span>Detecting analog signals<a class="headerlink" href="#detecting-analog-signals" title="Permalink to this headline">¶</a></h3>
<p>Most times an A/D converter is used to detect analog signal like the voltage of a photodiode receiver. The procedure is fairly easy: once you have a running instance of the converter,
calling <a class="reference internal" href="../09_reference/dataIO.html#itom.dataIO.acquire" title="itom.dataIO.acquire"><code class="xref py py-meth docutils literal notranslate"><span class="pre">acquire()</span></code></a> triggers the acquisition of the specified converter input pins. The data are then retrieved either by the <a class="reference internal" href="../09_reference/dataIO.html#itom.dataIO.getVal" title="itom.dataIO.getVal"><code class="xref py py-meth docutils literal notranslate"><span class="pre">getVal()</span></code></a> or
the <a class="reference internal" href="../09_reference/dataIO.html#itom.dataIO.copyVal" title="itom.dataIO.copyVal"><code class="xref py py-meth docutils literal notranslate"><span class="pre">copyVal()</span></code></a> command. Most of the A/D converters allows the parallel acquisition of several input ports. Here, <a class="reference internal" href="../09_reference/dataIO.html#itom.dataIO.getVal" title="itom.dataIO.getVal"><code class="xref py py-meth docutils literal notranslate"><span class="pre">getVal()</span></code></a> makes a shallow
copy, and <a class="reference internal" href="../09_reference/dataIO.html#itom.dataIO.copyVal" title="itom.dataIO.copyVal"><code class="xref py py-meth docutils literal notranslate"><span class="pre">copyVal()</span></code></a> gives you a deep copy. In the case of the shallow copy, pass an arbitrary initialized dataObject to <a class="reference internal" href="../09_reference/dataIO.html#itom.dataIO.getVal" title="itom.dataIO.getVal"><code class="xref py py-meth docutils literal notranslate"><span class="pre">getVal()</span></code></a>. This
object is then reconfigured to the right type and size and will contain a shallow copy of the recently acquired data. However, once the device acquires new data, it is possible
that the content of the dataObject will be changed, too, since it is only a shallow copy (however: this is a fast method to get the data). In the latter case of the method
<a class="reference internal" href="../09_reference/dataIO.html#itom.dataIO.copyVal" title="itom.dataIO.copyVal"><code class="xref py py-class docutils literal notranslate"><span class="pre">copyVal</span></code></a> you have to either pass an empty dataObject or a dataObject whose type and current region of interest fits to the expected output of the recent
acquisition. Then, you will obtain a deep copy of the acquired data array into the allocated dataObject or a newly allocated dataObject with the deeply copied data if it has been empty before.</p>
<p>Depending on the plugin, it is possible to simultaneously acquire data from multiple input pins (denoted bye channels) as well as a series of data from each pin (denoted by number of samples).
Each channel is represented by one row in the dataObject, whereas the number of samples are put in this line.</p>
<p>Simple example for the plugin MeasurementComputing. Here the input is defined between the input port channel 0 and 3. The dataObject will therefore have 4 rows:</p>
<div class="highlight-python notranslate"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5
6
7
8</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="n">dObj</span> <span class="o">=</span> <span class="n">dataObject</span><span class="p">()</span> <span class="c1"># no need for fixed size or data type here, we be defined by getVal command</span>
<span class="n">myadda</span> <span class="o">=</span> <span class="n">dataIO</span><span class="p">(</span><span class="s2">&quot;MeasurementComputing&quot;</span><span class="p">,</span> <span class="n">board_number</span><span class="p">)</span>
<span class="n">high_channel</span> <span class="o">=</span> <span class="mi">3</span>
<span class="n">low_channel</span> <span class="o">=</span> <span class="mi">0</span>
<span class="n">myadda</span><span class="o">.</span><span class="n">setParam</span><span class="p">(</span><span class="s2">&quot;analog_high_input_channel&quot;</span><span class="p">,</span> <span class="n">high_channel</span><span class="p">)</span>
<span class="n">myadda</span><span class="o">.</span><span class="n">setParam</span><span class="p">(</span><span class="s2">&quot;analog_low_input_channel&quot;</span><span class="p">,</span> <span class="n">low_channel</span><span class="p">)</span>
<span class="n">myadda</span><span class="o">.</span><span class="n">acquire</span><span class="p">()</span>
<span class="n">myadda</span><span class="o">.</span><span class="n">getVal</span><span class="p">(</span><span class="n">dObj</span><span class="p">)</span>
</pre></div>
</td></tr></table></div>
</div>
<div class="section" id="setting-analog-output-values">
<h3><span class="section-number">7.5.2.3. </span>Setting analog output values<a class="headerlink" href="#setting-analog-output-values" title="Permalink to this headline">¶</a></h3>
<p>A/D converters can also be used to apply analog output voltage to the specified output ports. This example shows with the MeasurementComputing adda plugin how to do so.
Depending on the plugin and devices. This may be possible by using voltage or digital values:</p>
<div class="highlight-python notranslate"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5
6</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="c1"># set the analog output by digital values</span>
<span class="n">numberChannels</span> <span class="o">=</span> <span class="mi">2</span>
<span class="n">numberSamples</span> <span class="o">=</span> <span class="mi">1</span>
<span class="n">outValues</span> <span class="o">=</span> <span class="n">dataObject</span><span class="p">([</span><span class="n">numberChannels</span><span class="p">,</span> <span class="n">numberSamples</span><span class="p">],</span> <span class="s1">&#39;int16&#39;</span><span class="p">)</span>
<span class="n">outValues</span><span class="p">[:,:]</span> <span class="o">=</span> <span class="mi">1023</span> <span class="c1"># 5V analog output in case of 10bit output channel resolution</span>
<span class="n">myadda</span><span class="o">.</span><span class="n">setVal</span><span class="p">(</span><span class="n">outValues</span><span class="p">)</span>
</pre></div>
</td></tr></table></div>
</div>
</div>
<div class="section" id="parameters">
<h2><span class="section-number">7.5.3. </span>Parameters<a class="headerlink" href="#parameters" title="Permalink to this headline">¶</a></h2>
<p>Most adda plugins let you control the device’s settings through a set of parameters. Common parameters are Parameters are checked and set by <strong>getParam()</strong> and <strong>setParam()</strong> as seen in the section <a class="reference internal" href="getstart-hardware.html#hardwareparameters"><span class="std std-ref">Usage of hardware plugins</span></a> before.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>If you don’t know the name of the parameter you want to check, try <strong>getParamListInfo()</strong>.</p>
</div>
</div>
</div>


           </div>
           
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="getstart-actuator.html" class="btn btn-neutral float-right" title="7.6. Getting started with actuators" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="getstart-grabber.html" class="btn btn-neutral float-left" title="7.4. Getting started with grabbers" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        
        &copy; Copyright 2011-2016, Institut fuer Technische Optik (ITO), University Stuttgart. Bug report: https://bitbucket.org/itom/itom/issues
      <span class="lastupdated">
        Last updated on Jul 03, 2020.
      </span>

    </p>
  </div>
    
    
    
    Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a
    
    <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a>
    
    provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  

  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>