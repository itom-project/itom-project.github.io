<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>RetVal - The return type of itom methods &mdash; itom Documentation</title>
    
    <link rel="stylesheet" href="../../_static/nature.css" type="text/css" />
    <link rel="stylesheet" href="../../_static/pygments.css" type="text/css" />
    <link rel="stylesheet" href="../../_static/breathe.css" type="text/css" />
    <link rel="stylesheet" href="../../_static/breathe.css" type="text/css" />
    <link rel="stylesheet" href="../../_static/breathe.css" type="text/css" />
    <link rel="stylesheet" href="../../_static/breathe.css" type="text/css" />
    <link rel="stylesheet" href="../../_static/breathe.css" type="text/css" />
    <link rel="stylesheet" href="../../_static/breathe.css" type="text/css" />
    <link rel="stylesheet" href="../../_static/breathe.css" type="text/css" />
    <link rel="stylesheet" href="../../_static/breathe.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../../',
        VERSION:     '2191282',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="../../_static/jquery.js"></script>
    <script type="text/javascript" src="../../_static/underscore.js"></script>
    <script type="text/javascript" src="../../_static/doctools.js"></script>
    <link rel="top" title="itom Documentation" href="../../index.html" />
    <link rel="up" title="Development under C++" href="plugin-development.html" />
    <link rel="next" title="RetVal - Reference" href="plugin-RetVal-Ref.html" />
    <link rel="prev" title="Development under C++" href="plugin-development.html" /> 
  </head>
  <body>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../../genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="../../py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="plugin-RetVal-Ref.html" title="RetVal - Reference"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="plugin-development.html" title="Development under C++"
             accesskey="P">previous</a> |</li>
        <li><a href="../../index.html">itom</a> &raquo;</li>
          <li><a href="../../structure.html" >Structure of the manual</a> &raquo;</li>
          <li><a href="../plugins.html" >Plugins</a> &raquo;</li>
          <li><a href="plugin-development.html" accesskey="U">Development under C++</a> &raquo;</li> 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body">
            
  <div class="section" id="retval-the-return-type-of-itom-methods">
<span id="plugin-retval"></span><h1><strong>RetVal</strong> - The return type of <strong>itom</strong> methods<a class="headerlink" href="#retval-the-return-type-of-itom-methods" title="Permalink to this headline">¶</a></h1>
<p>The class <strong>RetVal</strong> is used for creating, transmitting and handling return values of methods in <strong>itom</strong> and plugins.</p>
<p>For using this class, include the file <em>retVal.h</em> from the folder <em>include/common</em> of the <strong>itom</strong> SDK directory</p>
<div class="highlight-c++"><div class="highlight"><pre><span class="cp">#include &quot;retVal.h&quot;</span>
</pre></div>
</div>
<p>and link against the library <strong>itomCommonLib</strong>, that is also contained in the SDK.</p>
<p>Any return value consists of the following main components:</p>
<ul>
<li><dl class="first docutils">
<dt>error state (enumeration ito::tRetValue)</dt>
<dd><ul class="first last simple">
<li>retOk</li>
<li>retWarning</li>
<li>retError</li>
</ul>
</dd>
</dl>
</li>
<li><p class="first">error number (user-defined error number; this number has no further functionality yet)</p>
</li>
<li><p class="first">error message (NULL or the warning or error message of the return value)</p>
</li>
</ul>
<p>You can create a variable of type <strong>RetVal</strong> using different constructors or the static method <strong>RetVal::format</strong>.</p>
<dl class="function">
<dt id="ito::RetVal::RetVal__tRetValue">
 <tt class="descclassname">ito::RetVal::</tt><tt class="descname">RetVal</tt><big>(</big>tRetValue <em>retValue</em><em>=retOk</em><big>)</big><a class="headerlink" href="#ito::RetVal::RetVal__tRetValue" title="Permalink to this definition">¶</a></dt>
<dd><p>creates a return value with the default state <em>retOk</em>, if not otherwise stated. (constructor)</p>
</dd></dl>

<dl class="function">
<dt id="ito::RetVal::RetVal__i">
 <tt class="descclassname">ito::RetVal::</tt><tt class="descname">RetVal</tt><big>(</big>int <em>retValue</em><big>)</big><a class="headerlink" href="#ito::RetVal::RetVal__i" title="Permalink to this definition">¶</a></dt>
<dd><p>creates a return value with the given state. (constructor)</p>
</dd></dl>

<dl class="function">
<dt id="ito::RetVal::RetVal__ito::tRetValue.i.cCP">
 <tt class="descclassname">ito::RetVal::</tt><tt class="descname">RetVal</tt><big>(</big>ito::tRetValue <em>retValue</em>, int <em>retCode</em>, const char* <em>pRetMessage</em><big>)</big><a class="headerlink" href="#ito::RetVal::RetVal__ito::tRetValue.i.cCP" title="Permalink to this definition">¶</a></dt>
<dd><p>creates a return value with a given state, error number and error message. If you don&#8217;t want to indicate an error message, set that value to NULL. (constructor)</p>
</dd></dl>

<dl class="function">
<dt id="ito::RetVal::format__ito::tRetValue.i.cCP.X">
<em class="property">static</em> ito::RetVal <tt class="descclassname">ito::RetVal::</tt><tt class="descname">format</tt><big>(</big>ito::tRetValue <em>retValue</em>, int <em>retCode</em>, const char* <em>pRetMessage</em>, <em>...</em><big>)</big><a class="headerlink" href="#ito::RetVal::format__ito::tRetValue.i.cCP.X" title="Permalink to this definition">¶</a></dt>
<dd><p>Use this static method to create a new return value where the message string can contain placeholders, known by the ordinary methods <strong>sprintf</strong>, ... The values filled into these placeholders are then appended as additional parameters to this method.</p>
</dd></dl>

<dl class="function">
<dt id="assign-operator__RetValC">
RetVal&amp; <tt class="descname">operator=</tt><big>(</big>const RetVal <em>rhs</em><big>)</big><a class="headerlink" href="#assign-operator__RetValC" title="Permalink to this definition">¶</a></dt>
<dd><p>By this operator you can assign a new return value to this return value.</p>
</dd></dl>

<p>Additionally you can use the mathematical operators <strong>+</strong> and <strong>+=</strong> to add a return value to an existing instance of class <strong>RetVal</strong>. The resulting return value keeps unchanged if the state of the added return value is less critical than the internal state, e.g. a state retOk is less critical than retError as well as retWarning is less critical than retWarning. If both states are the same, the return value is unchanged, too. In any other cases the state, error number and error message of the added return value is used for the new return value.</p>
<p>By this mechanism you can create chains of return values in the following form:</p>
<div class="highlight-c++"><div class="highlight"><pre><span class="n">ito</span><span class="o">::</span><span class="n">RetVal</span> <span class="n">retValue</span> <span class="o">=</span> <span class="n">ito</span><span class="o">::</span><span class="n">retOk</span>
<span class="n">retValue</span> <span class="o">+=</span> <span class="n">method1</span><span class="p">()</span>
<span class="n">retValue</span> <span class="o">+=</span> <span class="n">method2</span><span class="p">()</span>
<span class="n">retValue</span> <span class="o">+=</span> <span class="n">method3</span><span class="p">()</span>

<span class="k">if</span><span class="p">(</span><span class="n">retValue</span><span class="p">.</span><span class="n">containsError</span><span class="p">())</span>
<span class="p">{</span>
    <span class="n">print</span><span class="p">(</span><span class="s">&quot;error while executing some methods&quot;</span><span class="p">);</span>
<span class="p">}</span>
</pre></div>
</div>
<p>The actual status of the return value can be obtained using the following methods:</p>
<dl class="function">
<dt id="containsWarning">
int <tt class="descname">containsWarning</tt><big>(</big><big>)</big><a class="headerlink" href="#containsWarning" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns true if the error state is equal to retWarning, that means the worst error state which has been added to this return value has been retWarning.</p>
</dd></dl>

<dl class="function">
<dt id="containsError">
int <tt class="descname">containsError</tt><big>(</big><big>)</big><a class="headerlink" href="#containsError" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns true if the error state is equal to retError, that means the worst error state which has been added to this return value has been retError.</p>
</dd></dl>

<dl class="function">
<dt id="containsWarningOrError">
int <tt class="descname">containsWarningOrError</tt><big>(</big><big>)</big><a class="headerlink" href="#containsWarningOrError" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns true if the worst error state, which has been added to this return value has been unequal to retOk.</p>
</dd></dl>

<dl class="function">
<dt id="errorMessage">
char* <tt class="descname">errorMessage</tt><big>(</big><big>)</big><a class="headerlink" href="#errorMessage" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns a zero-terminated string containing the actual error-message of this return value or a zero-terminated, empty string
if no message has been set (Caution: in <strong>itom</strong> &lt;= 1.1.0 this method returned NULL in the latter case).</p>
</dd></dl>

<p>Additionally you can use the comparison operators <strong>==</strong> or <strong>!=</strong> to compare the error state of two return values or the error state of one return value with a given error state.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">For a full reference of the class <strong>RetVal</strong> see <a class="reference internal" href="plugin-RetVal-Ref.html#plugin-retval-ref"><em>RetVal - Reference</em></a>.</p>
</div>
<div class="toctree-wrapper compound">
</div>
</div>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar">
        <div class="sphinxsidebarwrapper">
  <h4>Previous topic</h4>
  <p class="topless"><a href="plugin-development.html"
                        title="previous chapter">Development under C++</a></p>
  <h4>Next topic</h4>
  <p class="topless"><a href="plugin-RetVal-Ref.html"
                        title="next chapter">RetVal - Reference</a></p>
  <h3>This Page</h3>
  <ul class="this-page-menu">
    <li><a href="../../_sources/07_plugins/development/plugin-RetVal.txt"
           rel="nofollow">Show Source</a></li>
  </ul>
<div id="searchbox" style="display: none">
  <h3>Quick search</h3>
    <form class="search" action="../../search.html" method="get">
      <input type="text" name="q" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    <p class="searchtip" style="font-size: 90%">
    Enter search terms or a module, class or function name.
    </p>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../../genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="../../py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="plugin-RetVal-Ref.html" title="RetVal - Reference"
             >next</a> |</li>
        <li class="right" >
          <a href="plugin-development.html" title="Development under C++"
             >previous</a> |</li>
        <li><a href="../../index.html">itom</a> &raquo;</li>
          <li><a href="../../structure.html" >Structure of the manual</a> &raquo;</li>
          <li><a href="../plugins.html" >Plugins</a> &raquo;</li>
          <li><a href="plugin-development.html" >Development under C++</a> &raquo;</li> 
      </ul>
    </div>
    <div class="footer">
        &copy; Copyright 2011-2015, Institut fuer Technische Optik (ITO), University Stuttgart. Bug report: https://bitbucket.org/itom/itom/issues.
      Last updated on Feb 17, 2015.
      Created using <a href="http://sphinx-doc.org/">Sphinx</a> 1.2.3.
    </div>
  </body>
</html>